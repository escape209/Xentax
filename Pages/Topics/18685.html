<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Writing an Obj Convertor in C - XeNTaX</title>


	<link rel="canonical" href="https://forum.xentax.com/viewtopic.php?t=18685">

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="../../Source/assets/css/font-awesome.min.css?assets_version=11" rel="stylesheet">
<link href="../../Source/styles/prosilver/theme/stylesheet.css?assets_version=11" rel="stylesheet">
<link href="../../Source/styles/prosilver/theme/en/stylesheet.css?assets_version=11" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="../../Source/styles/prosilver/theme/tweaks.css?assets_version=11" rel="stylesheet">
<![endif]-->


<link href="../../Source/ext/gfksx/thanksforposts/styles/prosilver/theme/thanks.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner_background.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/phpbb/boardannouncements/styles/all/theme/boardannouncements.css?assets_version=11" rel="stylesheet" media="screen" />



</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
		<a id="logo" class="logo" href="../Navigation/index.html" title="Board index">
					<span class="site_logo"></span>
				</a>
				<h1>XeNTaX</h1>
				<p>Game Research Forum</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div class="banner-header">
	<div style="position:absolute; z-index:-100;">
	<h1>XeNTaX</h1>
	<p>Game Research Forum</p>
	<p class="skiplink"><a href="#start_here">Skip to content</a></p>
</div>
<div class="header-banner">
	<a href="../Navigation/index.html" title="Board index"><img class="header-banner" style="border-radius:0px; width:1500px;" src="../Source/images/gameresforum_logo_1.png" alt="Board index" ></a>
</div>
</div>

			</div>
					</div>
				<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
													<li>
								<a href="./search.php?search_id=egosearch" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Your posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=newposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>New posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=unreadposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>Unread posts</span>
								</a>
							</li>
													<li>
								<a href="./search.php?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="./search.php?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="./search.php" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
											<li class="separator"></li>
													<li>
								<a href="./memberlist.php" role="menuitem">
									<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
								</a>
							</li>
																			<li>
								<a href="./memberlist.php?mode=team" role="menuitem">
									<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
								</a>
							</li>
																<li class="separator"></li>

						<li>
		<a href="/app.php/toplist"  role="menuitem">
			<i class="icon fa-star-o fa-fw" aria-hidden="true"></i><span>Posts toplist</span>
		</a>
	</li>
	<li>
		<a href="/app.php/thankslist"  role="menuitem">
			<i class="icon fa-thumbs-o-up fa-fw" aria-hidden="true"></i><span>Thanks list</span>
		</a>
	</li>
				</ul>
			</div>
		</li>

				<li data-last-responsive="true">
			<a href="/app.php/help/faq" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
					<li id="username_logged_in" class="rightside " data-skip-responsive="true">
						<div class="header-profile dropdown-container">
				<a href="./ucp.php" class="header-avatar dropdown-trigger"> <span class="username">escape209</span></a>
				<div class="dropdown">
					<div class="pointer"><div class="pointer-inner"></div></div>
					<ul class="dropdown-contents" role="menu">
						
					
						<li>
							<a href="./ucp.php" title="User Control Panel" role="menuitem">
								<i class="icon fa-sliders fa-fw" aria-hidden="true"></i><span>User Control Panel</span>
							</a>
						</li>
													<li>
								<a href="../Users/123876.html" title="Profile" role="menuitem">
									<i class="icon fa-user fa-fw" aria-hidden="true"></i><span>Profile</span>
								</a>
							</li>
						
						
						<li class="separator"></li>
						<li>
							<a href="./ucp.php?mode=logout&amp;sid=959ea14a0771cc2de19d1bba114b7679" title="Logout" accesskey="x" role="menuitem">
								<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Logout</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
					</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=pm&amp;folder=inbox" role="menuitem">
					<i class="icon fa-inbox fa-fw" aria-hidden="true"></i><span>Private messages </span><strong class="badge hidden">0</strong>
				</a>
			</li>
							<li class="dropdown-container dropdown-right rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=ucp_notifications" id="notification_list_button" class="dropdown-trigger">
					<i class="icon fa-bell fa-fw" aria-hidden="true"></i><span>Notifications </span><strong class="badge hidden">0</strong>
				</a>
				<div id="notification_list" class="dropdown dropdown-extended notification_list">
	<div class="pointer"><div class="pointer-inner"></div></div>
	<div class="dropdown-contents">
		<div class="header">
			Notifications
			<span class="header_settings">
				<a href="./ucp.php?i=ucp_notifications&amp;mode=notification_options">Settings</a>
							</span>
		</div>

		<ul>
							<li class="no_notifications">
					You have no notifications
				</li>
								</ul>

		<div class="footer">
			<a href="./ucp.php?i=ucp_notifications"><span>See All</span></a>
		</div>
	</div>
</div>
			</li>
						</ul>

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
				
		
		<li class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">

			
							<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope><a itemprop="item" href="../Navigation/index.html" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1" /></span>

											
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="24"><a itemprop="item" href="./viewforum.php?f=24"><span itemprop="name">Game Modding</span></a><meta itemprop="position" content="2" /></span>
															
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="29"><a itemprop="item" href="./viewforum.php?f=29"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="3" /></span>
							
					</li>

		<li class="rightside responsive-search">
	<a href="./search.php" title="View the advanced search options" role="menuitem">
	<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
	</a>
</li>

			</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
					<div id="phpbb_announcement" style="background-color:#d9efff">
				<div><strong class="text-strong"><span style="color:#00BF00"><span style="font-size:120%;line-height:116%">Important information: this site is currently <a href="https://forum.xentax.com/viewtopic.php?t=27281" class="postlink">scheduled to go offline indefinitely</a> by end of the year. </span></span></strong></div>
	</div>

<h2 class="topic-title"><a href="./18685.html">Writing an Obj Convertor in C</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Read or post any tutorial related to file format analysis for modding purposes.<br /></div>


<div class="action-bar bar-top">
	
			<a href="./posting.php?mode=reply&amp;t=18685" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=29&amp;t=18685&amp;watch=topic&amp;start=0&amp;hash=ec7a84c8" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=29&amp;t=18685&amp;unwatch=topic&amp;start=0&amp;hash=ec7a84c8" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=18685&amp;bookmark=1&amp;hash=ec7a84c8" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=18685" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=18685&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="./search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topicâ€¦" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="./search.php" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="18685" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			9 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
		</div>




			<div id="p143182" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile143182">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143182" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143182">

					<h3 class="first">
						<a href="./viewtopic.php?p=143182#p143182">Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143182/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143182" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143182' href="./viewtopic.php?f=29&amp;p=143182&amp;thanks=143182&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143182#p143182" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:19:45+00:00">Wed Aug 15, 2018 10:19 am</time>
			</p>
			
			
			
			<div class="content"><span style="font-size:120%;line-height:116%"><span style="color:#00FF00">Attention</span>: This topic is subject to the <em class="text-italics">Programming Section</em> under the tutorial <a href="http://forum.xentax.com/viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering A Game Model</a>.</span><br>
<br>
<strong class="text-strong">Part III. Writing an Obj Convertor in C</strong><br>
<br>
In this part I'll demonstrate you how to write a simple obj convertor in C (using C11 function models) for the nif files from Marvel Avengers: Battle for Earth.<br>
Note that this tutorial won't explain you every detail about C syntax. It is assumed that you knew the basis of C programming and how to compile the code.</div>

			
			
									
						<div id='list_thanks143182'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="../Users/57570.html" class="username">Bigchillghost</a> for the post: </dt>
			<dd><span title="Sun Sep 16, 2018 1:07 pm"><a href="../Users/58543.html" class="username">mehrdad995gta</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput143182'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig143182" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p143183" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile143183">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143183" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143183">

					<h3 >
						<a href="./viewtopic.php?p=143183#p143183">Re: Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143183/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143183" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143183' href="./viewtopic.php?f=29&amp;p=143183&amp;thanks=143183&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143183#p143183" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:24:58+00:00">Wed Aug 15, 2018 10:24 am</time>
			</p>
			
			
			
			<div class="content"><strong class="text-strong">About OBJ format:</strong><br>
<br>
Obj is a simple, flexible ascii 3D format. In an obj file, different elements are distinguished by an unique tag, where position is marked as 'v', UV as "vt", normals as "vn", face as 'f'. And comment starts with a '#'.<br>
<br>
Every member of every element carries a corresponding tag. Below is an example template.
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code># positions
v  1.000000 0.000000 0.000000
v  0.000000 1.000000 0.000000
v  0.000000 0.000000 1.000000

# normals
vn 0.577350 0.577350 0.577350
vn 0.577350 0.577350 0.577350
vn 0.577350 0.577350 0.577350

# UVs
vt 1.000000 0.000000 0.000000
vt 0.000000 1.000000 0.000000
vt 0.000000 0.000000 1.000000 

# faces
f 1/1/1 2/2/2 3/3/3 
</code></pre></div>
A triangle is defined by 3 vertex/texture/normal indices. Indices of the same vertex are separated by a '/'.<br>
If you want more details about the format, check the wiki <a href="https://en.wikipedia.org/wiki/Wavefront_.obj_file" class="postlink">here</a>.</div>

			
			
									
						<div id='list_thanks143183'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="../Users/57570.html" class="username">Bigchillghost</a> for the post: </dt>
			<dd><span title="Sun Sep 16, 2018 1:07 pm"><a href="../Users/58543.html" class="username">mehrdad995gta</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput143183'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig143183" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p143184" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile143184">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143184" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143184">

					<h3 >
						<a href="./viewtopic.php?p=143184#p143184">Re: Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143184/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143184" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143184' href="./viewtopic.php?f=29&amp;p=143184&amp;thanks=143184&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143184#p143184" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:34:50+00:00">Wed Aug 15, 2018 10:34 am</time>
			</p>
			
			
			
			<div class="content"><strong class="text-strong">Start coding:</strong><br>
<br>
There're still some preparation to be done. Our PC uses little-endian for storage of data so we need a small function for conversion of endianness. Besides, we need a half-float to float/double convertion for vertices since half-float is not a basic data type in C.<br>
<br>
Now let's solve the problems one by one.<br>
<br>
<strong class="text-strong">I. Endianness Conversion</strong>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>/* Include Header Files */
#include &lt;stdio.h&gt;
#include &lt;Windows.h&gt;
#include &lt;stdlib.h&gt;

/* Function Prototypes &amp; Declarations */
void EndianBigRead(void*  _Buffer, size_t _BufferSize, 
	size_t _ElementSize, size_t _ElementCount, FILE*  _Stream); // The fread_s() function for big-endian
void Swap16(WORD *value); // Swap 16 bit integers
void Swap32(ULONG32 *value); // Swap 32 bit integers

/* Function Definitions */
void EndianBigRead(void*  _Buffer, size_t _BufferSize, size_t _ElementSize, size_t _ElementCount, FILE*  _Stream)
{
	fread_s(_Buffer, _BufferSize, _ElementSize, _ElementCount, _Stream);
	switch (_ElementSize)
	{
	case 2:
		WORD *pWORD; 
		pWORD = (WORD *)_Buffer; 
		for (ULONG32 i = 0; i &lt; _ElementCount; i++)
			Swap16(pWORD + i); 
		break;
	case 4:
		ULONG32 *pLONG; 
		pLONG = (ULONG32 *)_Buffer;
		for (ULONG32 i = 0; i &lt; _ElementCount; i++)
			Swap32(pLONG + i);
		break;
	default: break;
	}
}

void Swap16(WORD *value)
{
	*value = (*value &amp; 0x00FFU) &lt;&lt; 8 | (*value &amp; 0xFF00U) &gt;&gt; 8;
}

void Swap32(ULONG32 *value)
{
	*value = (*value &amp; 0x000000FFU) &lt;&lt; 24 | (*value &amp; 0x0000FF00U) &lt;&lt; 8 |
		(*value &amp; 0x00FF0000U) &gt;&gt; 8 | (*value &amp; 0xFF000000U) &gt;&gt; 24;
}
</code></pre></div>
You don't have to take care of the details within these funtions. Just remember that EndianBigRead() has no difference in usage from the fread_s() function.<br>
Now save this piece of code into a .c file called "BigEndian.c" for later use.</div>

			
			
									
						<div id='list_thanks143184'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="../Users/57570.html" class="username">Bigchillghost</a> for the post (total 2):</dt>
			<dd><span title="Wed Aug 15, 2018 6:34 pm"><a href="../Users/41194.html" class="username">shakotay2</a></span>, <span title="Sun Sep 16, 2018 1:08 pm"><a href="../Users/58543.html" class="username">mehrdad995gta</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput143184'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;3.45%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 3.45%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig143184" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p143185" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile143185">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143185" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143185">

					<h3 >
						<a href="./viewtopic.php?p=143185#p143185">Re: Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143185/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143185" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143185' href="./viewtopic.php?f=29&amp;p=143185&amp;thanks=143185&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143185#p143185" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:37:29+00:00">Wed Aug 15, 2018 10:37 am</time>
			</p>
			
			
			
			<div class="content"><strong class="text-strong">II. half-float Conversion</strong><br>
<br>
We don't care about the details of how half-float is implemented, so we just introduce a third party library for half-float conversion:<br>
<a href="http://www.mathworks.com/matlabcentral/fileexchange/23173" class="postlink">C source code to convert between IEEE double, single, and half precision</a>.<br>
<br>
We'll need only the "ieeehalfprecision.c" within.<br>
<br>
Two functions we could use:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>int halfp2singles(void *target, void *source, int numel); // convert half-floats to floats
int halfp2doubles(void *target, void *source, int numel); // convert half-floats to doubles
</code></pre></div></div>

			
			
													<div class="notice">
					Last edited by <a href="../Users/57570.html" class="username">Bigchillghost</a> on Wed Aug 15, 2018 10:58 am, edited 1 time in total.
									</div>
			
						<div id='list_thanks143185'>
</div>
<div id='div_post_reput143185'>
</div>

							<div id="sig143185" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p143186" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile143186">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143186" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143186">

					<h3 >
						<a href="./viewtopic.php?p=143186#p143186">Re: Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143186/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143186" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143186' href="./viewtopic.php?f=29&amp;p=143186&amp;thanks=143186&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143186#p143186" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:42:52+00:00">Wed Aug 15, 2018 10:42 am</time>
			</p>
			
			
			
			<div class="content">For convenience of demonstration, I'll put here the structure of the nif model format:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>long	TotalFIsize
long	NULL
long	SubmeshCount
for i = 0 &lt; SubmeshCount
{
	long	FIstartIndex[i]
	long	FIcount[i]
}

long 	MarkerCount	// 0x00000001
long 	FaceMarker		// 0x00010215
short	FaceIndices[]
byte 	aByte

long	TotalVertexSize
long	NULL
long	SubmeshCount
for i = 0 &lt; SubmeshCount
{
	long	VertexStartIndex[i]
	long	VertexCount[i]
}

long	FVFcodeCount
if (FVFcodeCount == 5)
{
	long	FVFcode[5]
	for i = 0 &lt; SubmeshCount
	{
		for j = 0 &lt; VertexCount[i]
		{
			half-float		vPosition[3]
			short  			0x3C00
			half-float		vNormal[3]
			short  			0x3C00
			half-float		vBinormal[3]
			short  			0x3C00
			half-float		vTangent[3]
			short  			0x3C00
			half-float		vTexcoord[2]
		}
	}
}
else if (FVFcodeCount == 7)
{
	long	FVFcode[7]
	for i = 0 &lt; SubmeshCount
	{
		for j = 0 &lt; VertexCount[i]
		{
			half-float		vTexcoord[2]
			half-float		vPosition[3]
			short  			0x3C00
			half-float		vNormal[3]
			short  			0x3C00
			half-float		vBinormal[3]
			short  			0x3C00
			half-float		vTangent[3]
			short  			0x3C00
			byte				BlendIndices[4]
			short  			0x3C00
			byte				BlendWeights[4]
			short  			0x3C00
		}
	}
}
</code></pre></div>

The above structure is a template for all mesh groups, and there would be at least one mesh group in a nif archive, usually more.<br>
So we need to figure out how to locate to the next mesh group. <br>
<br>
Since we didn't research the whole file structure, we will use the Marker for face buffer(00 01 02 15) to locate to next mesh group.</div>

			
			
													<div class="notice">
					Last edited by <a href="../Users/57570.html" class="username">Bigchillghost</a> on Fri Sep 07, 2018 7:45 am, edited 2 times in total.
									</div>
			
						<div id='list_thanks143186'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="../Users/57570.html" class="username">Bigchillghost</a> for the post: </dt>
			<dd><span title="Wed Aug 15, 2018 6:34 pm"><a href="../Users/41194.html" class="username">shakotay2</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput143186'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig143186" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p143187" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile143187">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143187" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143187">

					<h3 >
						<a href="./viewtopic.php?p=143187#p143187">Re: Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143187/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143187" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143187' href="./viewtopic.php?f=29&amp;p=143187&amp;thanks=143187&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143187#p143187" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:44:31+00:00">Wed Aug 15, 2018 10:44 am</time>
			</p>
			
			
			
			<div class="content">You need to be clear about the main steps of extracting all models:<br>
1. Locate to a submesh group. In this case we'll search for the FI marker 00 01 02 15;<br>
2. Call the function to convert the submesh group we located;<br>
3. Repeat the above process untill we reach the end of file.<br>
<br>
For the function to handle each mesh group, the main steps are as following:<br>
1. Read the FI header;<br>
2. Read FI to buffer;<br>
3. Read the vertices header;<br>
4. Read vertices to buffer;<br>
5. Process and rearrange the data;<br>
6. Writting the data to an obj file.</div>

			
			
									
						<div id='list_thanks143187'>
</div>
<div id='div_post_reput143187'>
</div>

							<div id="sig143187" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p143188" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile143188">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143188" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143188">

					<h3 >
						<a href="./viewtopic.php?p=143188#p143188">Re: Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143188/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143188" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143188' href="./viewtopic.php?f=29&amp;p=143188&amp;thanks=143188&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143188#p143188" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:46:40+00:00">Wed Aug 15, 2018 10:46 am</time>
			</p>
			
			
			
			<div class="content">Now we do it upward, starting from the implement of this function. Below is an implement with detailed comments.<br>
<br>
Some formatting about the comments in the codes:<br>
/*--*/ Comment for the following block<br>
/**/ Comment for the following structure<br>
// Comment for current line<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>int Nif2Obj(FILE *fpXPR, char *MeshName)
{
	ULONG32 FIsize, FIsum;					// FI data size, total FI count
	ULONG32 SubmeshNum;					   // Submesh count for current mesh group
	ULONG32 Vsize, Vsum;					 // Vertex data size, total vertex count
	ULONG32 FIord = 1;						// Accumulated FI order, start by 1 in obj format
	ULONG32 FVFcodeCount;					// FVFcode field count
	ULONG32 *FIcount, *Vcount;				// Pointers(PTR) to count array
	WORD *pFtmp;							// Temp PTR to face buffer
	WORD *pFIbuf, *pVbuf, *pUVbuf, *pNMbuf;	// PTRs to source face, position, UV and normal buffers
	float *pfVbuf, *pfUVbuf, *pfNMbuf;		// PTRs to destination position, UV and normal buffers
	float *pfVtmp, *pfUVtmp, *pfNMtmp;		// Temp PTRs to destination position, UV and normal buffers
	FILE *fpOBJ;							// File PTR to output obj file
	char OBJName[256] = { 0 };				// String buffer for output obj filename

	EndianBigRead(&amp;FIsize, 4, 4, 1, fpXPR);			// Read TotalFIsize
	fseek(fpXPR, 4L, SEEK_CUR);						// Skip the NULL field
	EndianBigRead(&amp;SubmeshNum, 4, 4, 1, fpXPR);		// Read SubmeshCount

	FIcount = (ULONG32 *)malloc(4 * SubmeshNum);	// Allocate memory for storing FI counts
	Vcount = (ULONG32 *)malloc(4 * SubmeshNum);		// Allocate memory for storing vertex counts
	pFIbuf = (WORD *)malloc(FIsize);				// Allocate memory for storing FI
	pFtmp = pFIbuf;									// Assign FI buffer pointer(PTR) to temporary PTR

	/* Read each face indices count */
	for (BYTE i = 0; i &lt; SubmeshNum; i++)
	{
		fseek(fpXPR, 4L, SEEK_CUR);					// Skip FIstartIndex since we don't ever need it
		EndianBigRead(FIcount + i, 4, 4, 1, fpXPR);	// Read face indices count
	}

	fseek(fpXPR, 8L, SEEK_CUR);						// Skip the MarkerCount and the FaceMarker 00 01 02 15 sequence
	
	FIsum = FIsize / 2;								// FIsum == FI chunk size / sizeof(WORD)
	EndianBigRead(pFIbuf, FIsize, 2, FIsum, fpXPR);	// Read face indices
	
	fseek(fpXPR, 1L, SEEK_CUR);						// Skip aByte
	EndianBigRead(&amp;Vsize, 4, 4, 1, fpXPR);			// Read TotalVertexSize

	fseek(fpXPR, 8L, SEEK_CUR);						// Skip 2 LONGs(a NULL and a SubmeshCount)
	
	/* Read vertex counts */
	for (BYTE i = 0; i &lt; SubmeshNum; i++)			
	{
		fseek(fpXPR, 4L, SEEK_CUR);					// Skip VertexStartIndex since we don't ever need it
		EndianBigRead(Vcount + i, 4, 4, 1, fpXPR);	// Read vertex count
	}
	EndianBigRead(&amp;FVFcodeCount, 4, 4, 1, fpXPR);	// Read FVFcodeCount 
	fseek(fpXPR, FVFcodeCount * 4, SEEK_CUR);		// Skip FVFCodes
	
	if (FVFcodeCount == 7)
		Vsum = Vsize / 48;							// FVF size == 48
	else if (FVFcodeCount == 5)
		Vsum = Vsize / 36;							// FVF size == 36
	else
		return 1;									// In case there're other types

	pVbuf = (WORD *)malloc(Vsum * 6);			// Allocate memory for storing vertex positions(source)
	pUVbuf = (WORD *)malloc(Vsum * 4);			// Allocate memory for storing vertex texture positions(source)
	pNMbuf = (WORD *)malloc(Vsum * 6);			// Allocate memory for storing vertex normal vectors(source)
	pfVbuf = (float *)malloc(Vsum * 12);		// Allocate memory for storing vertex positions(destination)
	pfUVbuf = (float *)malloc(Vsum * 8);		// Allocate memory for storing vertex texture positions(destination)
	pfNMbuf = (float *)malloc(Vsum * 12);		// Allocate memory for storing vertex normal vectors(destination)
	pfVtmp = pfVbuf;							// Temporary PTR to vertex buffer
	pfUVtmp = pfUVbuf;							// Temporary PTR to UV buffer
	pfNMtmp = pfNMbuf;							// Temporary PTR to normal buffer
	
	/* Read vertex data */
	if (FVFcodeCount == 7)
	{
		for (ULONG32 j = 0; j &lt; Vsum; j++)
		{
			EndianBigRead(pUVbuf + 2 * j, 4, 2, 2, fpXPR);	// Read UV
			EndianBigRead(pVbuf + 3 * j, 6, 2, 3, fpXPR);	// Read position
			fseek(fpXPR, 0x2, SEEK_CUR);					// Skip 3C 00
			EndianBigRead(pNMbuf + 3 * j, 6, 2, 3, fpXPR);	// Read normals
			fseek(fpXPR, 0x1E, SEEK_CUR);					// Skip rest bytes
		}
	}
	else if (FVFcodeCount == 5)
	{
		for (ULONG32 j = 0; j &lt; Vsum; j++)
		{
			EndianBigRead(pVbuf + 3 * j, 6, 2, 3, fpXPR);	// Read position
			fseek(fpXPR, 0x2, SEEK_CUR);					// Skip 3C 00
			EndianBigRead(pNMbuf + 3 * j, 6, 2, 3, fpXPR);	// Read normals
			fseek(fpXPR, 0x12, SEEK_CUR);					// Skip bionormals, tangents and 3x 3C 00
			EndianBigRead(pUVbuf + 2 * j, 4, 2, 2, fpXPR);	// Read UV
		}
	}
	else
		return 1;	// Just in case

	/* Convert half-float to float */
	halfp2singles(pfVbuf, pVbuf, Vsum * 3);		// Positions
	halfp2singles(pfUVbuf, pUVbuf, Vsum * 2);	// UVs
	halfp2singles(pfNMbuf, pNMbuf, Vsum * 3);	// Normals
	
	/* Free allocated memories */
	free(pVbuf);	// Free vertex buffer
	free(pUVbuf);	// Free UV buffer
	free(pNMbuf);	// Free normal buffer
	
	/* Flip UV */
	for (ULONG32 v = 0; v &lt; Vsum; v++)
		pfUVbuf[v * 2 + 1] = 1.0f - pfUVbuf[v * 2 + 1];	// Flip the v asix

	/* --- Write data to file --- */
	strcpy_s(OBJName, 256, MeshName);					// Copy MeshName to OBJName
	strcat_s(OBJName, 256, ".obj");						// OBJName + ".obj" extension
	if (fopen_s(&amp;fpOBJ, OBJName, "w") != 0)				// Security check
	{
		printf("error! cannot open file %s!\n", OBJName);
		exit(1);
	}
	printf("writting file \"%s\"...\n", OBJName);		// Print status message
	/* Write data to obj file */
	for (BYTE i = 0; i &lt; SubmeshNum; i++)
	{

		fprintf_s(fpOBJ, "#\n# object %s_%d\n#\n\n", MeshName, i);	// File comments

		/* Write vertex positions */
		for (ULONG32 j = 0; j &lt; Vcount[i]; j++)
		{
			fprintf_s(fpOBJ, "v  %f %f %f\n", pfVtmp[0], pfVtmp[1], pfVtmp[2]); // Print positions as floats
			pfVtmp += 3;														// Temp PTR move forwards 3 units
		}
		fprintf_s(fpOBJ, "# %d vertices\n\n", Vcount[i]);						// Comment for vertex count

		/* Write vertex normals */
		for (ULONG32 j = 0; j &lt; Vcount[i]; j++)
		{
			fprintf_s(fpOBJ, "vn %f %f %f\n", pfNMtmp[0], pfNMtmp[1], pfNMtmp[2]);	// Print normals as floats
			pfNMtmp += 3;															// Temp PTR move forwards 3 units
		}
		fprintf_s(fpOBJ, "# %d vertex normals\n\n", Vcount[i]);						// Comment for vertex normal count

		/* Write vertex UVs */
		for (ULONG32 j = 0; j &lt; Vcount[i]; j++)
		{
			fprintf_s(fpOBJ, "vt %f %f\n", pfUVtmp[0], pfUVtmp[1]);	// Print UVs as floats
			pfUVtmp += 2;											// Temp PTR move forwards 2 units
		}
		fprintf_s(fpOBJ, "# %d texture coords\n\n", Vcount[i]);		// Comment for UV count

		/* Write polygon indices */
		fprintf_s(fpOBJ, "g %s_mesh_%d\n", MeshName, i);	// Print object name
		FIcount[i] /= 3;									// Calculate polygon count
		for (ULONG32 j = 0; j &lt; FIcount[i]; j++)
		{
			fprintf_s(fpOBJ, "f %d/%d/%d %d/%d/%d %d/%d/%d \n",
				pFtmp[0] + FIord, pFtmp[0] + FIord, pFtmp[0] + FIord,	// v/vt/vn
				pFtmp[1] + FIord, pFtmp[1] + FIord, pFtmp[1] + FIord,
				pFtmp[2] + FIord, pFtmp[2] + FIord, pFtmp[2] + FIord);  // Print polygone indices
			pFtmp += 3;													// Temp PTR move forwards 3 units
		}
		fprintf_s(fpOBJ, "# %d polygons\n\n", FIcount[i]);				// Comment for polygon count

		FIord += Vcount[i];												// Accumulate current vertex count in FIord
	}

	fclose(fpOBJ);			// Close output file
	printf("succeed!\n");	// Print status message

	/* Free allocated memories */
	free(FIcount);	// Free FIcount array
	free(Vcount);	// Free Vcount array
	free(pFIbuf); 	// Free FI buffer
	free(pfVbuf); 	// Free destination vertex buffer
	free(pfUVbuf); 	// Free destination UV buffer
	free(pfNMbuf); 	// Free destination normal buffer

	return 0;
}
</code></pre></div></div>

			
			
													<div class="notice">
					Last edited by <a href="../Users/57570.html" class="username">Bigchillghost</a> on Fri Sep 07, 2018 8:02 am, edited 1 time in total.
									</div>
			
						<div id='list_thanks143188'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="../Users/57570.html" class="username">Bigchillghost</a> for the post (total 2):</dt>
			<dd><span title="Wed Aug 15, 2018 6:34 pm"><a href="../Users/41194.html" class="username">shakotay2</a></span>, <span title="Sun Sep 16, 2018 1:07 pm"><a href="../Users/58543.html" class="username">mehrdad995gta</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput143188'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;3.45%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 3.45%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig143188" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p143189" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile143189">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143189" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143189">

					<h3 >
						<a href="./viewtopic.php?p=143189#p143189">Re: Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143189/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143189" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143189' href="./viewtopic.php?f=29&amp;p=143189&amp;thanks=143189&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143189#p143189" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:48:54+00:00">Wed Aug 15, 2018 10:48 am</time>
			</p>
			
			
			
			<div class="content">When that is done we can call it in the main() function when we find a mesh group:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>int main(int argc, char *argv[])
{
	FILE *fpXPR;	// Pointer to XPR file
	WORD m = 0;		// Counter for FileID
	ULONG32 filesize; // Searching scope
	ULONG32 MAGIC;	// Marker
	BYTE Flag = 0; // Flag to skip useless SFX element meshes	
	char MeshName[256] = { 0 }, FileID[4] = { 0 };
	char *pChar;	// Pointer to char
	
	if (argc &lt; 2)	// Argument count &lt; 2, no input file
		return 0;
		
	if (fopen_s(&amp;fpXPR, argv[1], "rb") != 0) // Security check
	{
		printf("error! cannot open file %s\n", argv[1]);
		system("pause");
		exit(1); // Terminate the program
	}

	/* Get Archive Size */
	fseek(fpXPR, 0L, SEEK_END); 	// Jump to end of file(EOF)
	filesize = ftell(fpXPR) - 100;	// For security, search till there're 100 bytes to the EOF

	rewind(fpXPR);				// Reset the file offset pointer

	while ((ULONG)ftell(fpXPR) &lt; filesize) // Scan one byte after another untill the filesize is reached
	{
		fread_s(&amp;MAGIC, 4, 4, 1, fpXPR);	// Read 4 bytes to MAGIC
		if (MAGIC == 0x15020100)		// if the FI marker is found
		{
			fseek(fpXPR, -16L, SEEK_CUR);	// seek backwards to 4 bytes before the last FI count

			/* Search for the NULL field after the TotalFIsize */
			do
			{
				fread_s(&amp;MAGIC, 4, 4, 1, fpXPR);	// Read 4 bytes to MAGIC
				fseek(fpXPR, -8L, SEEK_CUR);	// seek backwards 8 bytes
			} while (MAGIC != 0);

			fseek(fpXPR, -8L, SEEK_CUR);	// seek backwards 8 bytes where TotalFIsize is located

			pChar = strrchr(argv[1], 92);	// Find the last backslash in argv[1]
			if (pChar == NULL)				// If no backslash is found
				pChar = argv[1];			// Reset pChar
			else
				pChar++;	// Skip the last backslash
			strncpy_s(MeshName, 256, pChar, strlen(pChar) - 4); // Copy basename of input file to MeshName
			strcat_s(MeshName, 256, "_");		// MeshName + "_"
			sprintf_s(FileID, "%d", m);			// Convert integer m to string
			strcat_s(MeshName, 256, FileID);	// MeshName + FileID
			Flag = Nif2Obj(fpXPR, MeshName);	// Call Nif2Obj() 
			if (!Flag)	// Convertion succeeded
				m++;	// Counter + 1
		}
		else	// if the FI marker is NOT found
		{
			fseek(fpXPR, -3L, SEEK_CUR);	// seek backwards 3 bytes 
		}
	}

	fclose(fpXPR);	// Close input file when it's done

    return 0;
}
</code></pre></div></div>

			
			
									
						<div id='list_thanks143189'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="../Users/57570.html" class="username">Bigchillghost</a> for the post (total 2):</dt>
			<dd><span title="Wed Aug 15, 2018 6:32 pm"><a href="../Users/41194.html" class="username">shakotay2</a></span>, <span title="Sun Sep 16, 2018 1:06 pm"><a href="../Users/58543.html" class="username">mehrdad995gta</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput143189'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;3.45%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 3.45%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig143189" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p143190" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile143190">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/57570.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=57570_1576893318.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/57570.html" class="username">Bigchillghost</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=57570&amp;sr=posts">1030</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jul 05, 2016 9:37 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="57570"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/true">32 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="57570"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/57570/false">1215 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Bigchillghost">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Bigchillghost</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=143190" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content143190">

					<h3 >
						<a href="./viewtopic.php?p=143190#p143190">Re: Writing an Obj Convertor in C</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/143190/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=143190" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post143190' href="./viewtopic.php?f=29&amp;p=143190&amp;thanks=143190&amp;to_id=57570&amp;from_id=123876" title="Say Thanks to the author of the post: Bigchillghost"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=143190#p143190" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/57570.html" class="username">Bigchillghost</a></strong> &raquo; </span><time datetime="2018-08-15T09:50:02+00:00">Wed Aug 15, 2018 10:50 am</time>
			</p>
			
			
			
			<div class="content">Compile the above code with VS and you'll get the executable. Its original name is "Nif2Obj.exe". You can also get a binary <a href="https://forum.xentax.com/viewtopic.php?f=16&amp;t=16931" class="postlink">here</a>.<br>
Drag and drop a nif file onto the exe, or run a cmd file containing the following commands 
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>@echo off
for %%f in (*.nif) do Nif2Obj.exe "%%f"
pause
</code></pre></div>
and you'll get the output obj files.<br>
<br>
That's all for this course.<br>
<br>
<a href="https://forum.xentax.com/viewtopic.php?p=138998#p138998" class="postlink"><span style="color:#00BF00"><strong class="text-strong">Return to the main tutorial</strong>.</span></a></div>

			
			
									
						<div id='list_thanks143190'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="../Users/57570.html" class="username">Bigchillghost</a> for the post: </dt>
			<dd><span title="Sun Sep 16, 2018 1:06 pm"><a href="../Users/58543.html" class="username">mehrdad995gta</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput143190'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig143190" class="signature"><span style="color:#0080BF"><span style="font-size:130%;line-height:116%"><strong class="text-strong">May you find peace in this puzzle-solving game.</strong></span></span>
<ul><li><em class="text-italics"><a href="viewtopic.php?f=29&amp;t=17889" class="postlink">An Imitable Workflow for Reverse Engineering a Game Model</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=23963" class="postlink">Advanced Mesh Reaper</a></em></li><li><em class="text-italics"><a href="viewtopic.php?f=16&amp;t=18005" class="postlink">Reverse Model Wireframe</a></em></li></ul>

<span style="font-size:130%;line-height:116%"><span style="color:#FF0000"><strong class="text-strong">Say it with action: click the <img src="https://i.ibb.co/9thLJf8/i.png" class="postimage" alt="Image"> when you get helped.<img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"></strong></span></span></div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	

	<div class="action-bar bar-bottom">
	
			<a href="./posting.php?mode=reply&amp;t=18685" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=29&amp;t=18685&amp;watch=topic&amp;start=0&amp;hash=ec7a84c8" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=29&amp;t=18685&amp;unwatch=topic&amp;start=0&amp;hash=ec7a84c8" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=18685&amp;bookmark=1&amp;hash=ec7a84c8" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=18685" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=18685&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="./viewtopic.php?t=18685">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			9 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="./viewforum.php?f=29" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to â€œTutorialsâ€</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="../Forums/26 - XeNTaX - General Discussion.html" class="jumpbox-cat-link"> <span> General Discussion</span></a></li>
																<li><a href="./viewforum.php?f=22" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Holy Cow!</span></a></li>
																<li><a href="./viewforum.php?f=40" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game news</span></a></li>
																<li><a href="./viewforum.php?f=38" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Tech Tips</span></a></li>
																<li><a href="./viewforum.php?f=41" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Cool mods</span></a></li>
																<li><a href="./viewforum.php?f=28" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Website</span></a></li>
																<li><a href="./viewforum.php?f=24" class="jumpbox-cat-link"> <span> Game Modding</span></a></li>
																<li><a href="./viewforum.php?f=29" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="./viewforum.php?f=16" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; 3D/2D models</span></a></li>
																<li><a href="./viewforum.php?f=17" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Audio file formats</span></a></li>
																<li><a href="./viewforum.php?f=18" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Graphic file formats</span></a></li>
																<li><a href="./viewforum.php?f=36" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Video file formats</span></a></li>
																<li><a href="./viewforum.php?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Archive</span></a></li>
																<li><a href="./viewforum.php?f=21" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Compressed files and methods</span></a></li>
																<li><a href="./viewforum.php?f=13" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Code Talk</span></a></li>
																<li><a href="./viewforum.php?f=35" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Localization</span></a></li>
																<li><a href="./viewforum.php?f=30" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Savegames</span></a></li>
																<li><a href="./viewforum.php?f=15" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Old posts</span></a></li>
																<li><a href="./viewforum.php?f=37" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Retro games</span></a></li>
																<li><a href="./viewforum.php?f=25" class="jumpbox-cat-link"> <span> MultiEx Commander</span></a></li>
																<li><a href="./viewforum.php?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; News</span></a></li>
																<li><a href="./viewforum.php?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Plugins</span></a></li>
																<li><a href="./viewforum.php?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="./viewforum.php?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Miscellaneous</span></a></li>
																<li><a href="./viewforum.php?f=31" class="jumpbox-cat-link"> <span> Tools &amp; Programs</span></a></li>
																<li><a href="./viewforum.php?f=32" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game specific tools</span></a></li>
																<li><a href="./viewforum.php?f=33" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; General game tools</span></a></li>
											</ul>
		</div>
	</div>

	</div>


	<div class="stat-block online-list">
		<h3><a href="./viewonline.php">Who is online</a></h3>
		<p>Users browsing this forum: <a href="../Users/123642.html" class="username">Aresius</a>, <a href="../Users/123876.html" class="username">escape209</a> and 2 guests</p>
	</div>

			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="../Navigation/index.html" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="UTC+1">UTC+01:00</span></li>
							<li class="rightside">
				<a href="./ucp.php?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
							<li class="rightside" data-last-responsive="true">
					<a href="./memberlist.php" title="View complete list of members" role="menuitem">
						<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
					</a>
				</li>
												<li class="rightside" data-last-responsive="true">
				<a href="./memberlist.php?mode=team" role="menuitem">
					<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
				</a>
			</li>
							</ul>

	</div>
</div>

	<div class="copyright">
				<p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row" role="menu">
			<a class="footer-link" href="./ucp.php?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="./ucp.php?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script src="./assets/javascript/jquery-3.6.0.min.js?assets_version=11"></script>
<script src="./assets/javascript/core.js?assets_version=11"></script>


<script type="text/javascript">
(function($) {  // Avoid conflicts with other libraries

'use strict';
	
	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="./ext/phpbb/boardannouncements/styles/all/template/js/boardannouncements.js?assets_version=11"></script>
<script src="./styles/prosilver/template/forum_fn.js?assets_version=11"></script>
<script src="./styles/prosilver/template/ajax.js?assets_version=11"></script>



</body>
</html>
