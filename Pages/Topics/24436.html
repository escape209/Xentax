<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Fable 2 EHF GHF Heightmap / Heightfield - XeNTaX</title>


	<link rel="canonical" href="https://forum.xentax.com/viewtopic.php?t=24436">

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="../../Source/assets/css/font-awesome.min.css?assets_version=11" rel="stylesheet">
<link href="../../Source/styles/prosilver/theme/stylesheet.css?assets_version=11" rel="stylesheet">
<link href="../../Source/styles/prosilver/theme/en/stylesheet.css?assets_version=11" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="../../Source/styles/prosilver/theme/tweaks.css?assets_version=11" rel="stylesheet">
<![endif]-->


<link href="../../Source/ext/gfksx/thanksforposts/styles/prosilver/theme/thanks.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner_background.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/phpbb/boardannouncements/styles/all/theme/boardannouncements.css?assets_version=11" rel="stylesheet" media="screen" />



</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
		<a id="logo" class="logo" href="../Navigation/index.html" title="Board index">
					<span class="site_logo"></span>
				</a>
				<h1>XeNTaX</h1>
				<p>Game Research Forum</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div class="banner-header">
	<div style="position:absolute; z-index:-100;">
	<h1>XeNTaX</h1>
	<p>Game Research Forum</p>
	<p class="skiplink"><a href="#start_here">Skip to content</a></p>
</div>
<div class="header-banner">
	<a href="../Navigation/index.html" title="Board index"><img class="header-banner" style="border-radius:0px; width:1500px;" src="../Source/images/gameresforum_logo_1.png" alt="Board index" ></a>
</div>
</div>

			</div>
					</div>
				<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
													<li>
								<a href="./search.php?search_id=egosearch" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Your posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=newposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>New posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=unreadposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>Unread posts</span>
								</a>
							</li>
													<li>
								<a href="./search.php?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="./search.php?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="./search.php" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
											<li class="separator"></li>
													<li>
								<a href="./memberlist.php" role="menuitem">
									<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
								</a>
							</li>
																			<li>
								<a href="./memberlist.php?mode=team" role="menuitem">
									<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
								</a>
							</li>
																<li class="separator"></li>

						<li>
		<a href="/app.php/toplist"  role="menuitem">
			<i class="icon fa-star-o fa-fw" aria-hidden="true"></i><span>Posts toplist</span>
		</a>
	</li>
	<li>
		<a href="/app.php/thankslist"  role="menuitem">
			<i class="icon fa-thumbs-o-up fa-fw" aria-hidden="true"></i><span>Thanks list</span>
		</a>
	</li>
				</ul>
			</div>
		</li>

				<li data-last-responsive="true">
			<a href="/app.php/help/faq" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
					<li id="username_logged_in" class="rightside " data-skip-responsive="true">
						<div class="header-profile dropdown-container">
				<a href="./ucp.php" class="header-avatar dropdown-trigger"> <span class="username">escape209</span></a>
				<div class="dropdown">
					<div class="pointer"><div class="pointer-inner"></div></div>
					<ul class="dropdown-contents" role="menu">
						
					
						<li>
							<a href="./ucp.php" title="User Control Panel" role="menuitem">
								<i class="icon fa-sliders fa-fw" aria-hidden="true"></i><span>User Control Panel</span>
							</a>
						</li>
													<li>
								<a href="../Users/123876.html" title="Profile" role="menuitem">
									<i class="icon fa-user fa-fw" aria-hidden="true"></i><span>Profile</span>
								</a>
							</li>
						
						
						<li class="separator"></li>
						<li>
							<a href="./ucp.php?mode=logout&amp;sid=959ea14a0771cc2de19d1bba114b7679" title="Logout" accesskey="x" role="menuitem">
								<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Logout</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
					</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=pm&amp;folder=inbox" role="menuitem">
					<i class="icon fa-inbox fa-fw" aria-hidden="true"></i><span>Private messages </span><strong class="badge hidden">0</strong>
				</a>
			</li>
							<li class="dropdown-container dropdown-right rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=ucp_notifications" id="notification_list_button" class="dropdown-trigger">
					<i class="icon fa-bell fa-fw" aria-hidden="true"></i><span>Notifications </span><strong class="badge hidden">0</strong>
				</a>
				<div id="notification_list" class="dropdown dropdown-extended notification_list">
	<div class="pointer"><div class="pointer-inner"></div></div>
	<div class="dropdown-contents">
		<div class="header">
			Notifications
			<span class="header_settings">
				<a href="./ucp.php?i=ucp_notifications&amp;mode=notification_options">Settings</a>
							</span>
		</div>

		<ul>
							<li class="no_notifications">
					You have no notifications
				</li>
								</ul>

		<div class="footer">
			<a href="./ucp.php?i=ucp_notifications"><span>See All</span></a>
		</div>
	</div>
</div>
			</li>
						</ul>

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
				
		
		<li class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">

			
							<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope><a itemprop="item" href="../Navigation/index.html" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1" /></span>

											
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="24"><a itemprop="item" href="./viewforum.php?f=24"><span itemprop="name">Game Modding</span></a><meta itemprop="position" content="2" /></span>
															
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="18"><a itemprop="item" href="./viewforum.php?f=18"><span itemprop="name">Graphic file formats</span></a><meta itemprop="position" content="3" /></span>
							
					</li>

		<li class="rightside responsive-search">
	<a href="./search.php" title="View the advanced search options" role="menuitem">
	<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
	</a>
</li>

			</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
					<div id="phpbb_announcement" style="background-color:#d9efff">
				<div><strong class="text-strong"><span style="color:#00BF00"><span style="font-size:120%;line-height:116%">Important information: this site is currently <a href="https://forum.xentax.com/viewtopic.php?t=27281" class="postlink">scheduled to go offline indefinitely</a> by end of the year. </span></span></strong></div>
	</div>

<h2 class="topic-title"><a href="./24436.html">Fable 2 EHF GHF Heightmap / Heightfield</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Get your graphics formats figures out here! Got details for others? Post here!<br /></div>

	<div class="rules rules-link">
		<div class="inner">

					<a href="http://forum.xentax.com/viewtopic.php?f=28&amp;t=1270">Forum rules</a>
		
		</div>
	</div>

<div class="action-bar bar-top">
	
			<a href="./posting.php?mode=reply&amp;t=24436" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=18&amp;t=24436&amp;watch=topic&amp;start=0&amp;hash=f1826a4f" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=18&amp;t=24436&amp;unwatch=topic&amp;start=0&amp;hash=f1826a4f" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=24436&amp;bookmark=1&amp;hash=f1826a4f" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=24436" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=24436&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="./search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="./search.php" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="24436" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			3 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
		</div>




			<div id="p177692" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile177692">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/44969.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=44969_1627981731.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/44969.html" class="username">ByronT</a>							</dt>

						<dd class="profile-rank">ultra-n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44969&amp;sr=posts">9</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Feb 10, 2014 8:58 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44969"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44969/true">2 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44969"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact ByronT">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact ByronT</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=177692" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content177692">

					<h3 class="first">
						<a href="./viewtopic.php?p=177692#p177692">Fable 2 EHF GHF Heightmap / Heightfield</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/177692/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=177692" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post177692' href="./viewtopic.php?f=18&amp;p=177692&amp;thanks=177692&amp;to_id=44969&amp;from_id=123876" title="Say Thanks to the author of the post: ByronT"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=177692#p177692" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/44969.html" class="username">ByronT</a></strong> &raquo; </span><time datetime="2021-08-31T09:05:41+00:00">Tue Aug 31, 2021 10:05 am</time>
			</p>
			
			
			
			<div class="content">Hello and welcome to the Fable 2 .ehf and .ghf heightmap / heightfield dissection thread!<br>
<br>
The ultimate purpose of my research is to extract usable data which can be translated into either the Construction Set and/or the Creation Kit for use in a mod for Oblivion and Skyrim.<br>
<br>
Apologies in advance if the following contains a lot of extraneous information as I'm very much thinking-out-loud as I try and learn more about these formats.<br>
<br>
Below is a link to a sample .ehf from the Brightwood region, apparently a filler map, north of the main region.  This is an educated guess based on the naming conventions of the folders.<br>
I chose this one since it's fairly small (379,058 bytes) and may not contain any extraneous information contained in the maps that are actually traversable by the Hero or his/her adoring NPCs...<br>
Hopefully this is the case.<br>
<br>
<a href="https://www.mediafire.com/file/vq7rdeqyvk0ad54/northfiller_id_e7a5b4be.ehf/file" class="postlink">https://www.mediafire.com/file/vq7rdeqy ... e.ehf/file</a><br>
<br>
So as I understand it, heightmap files are either a 3d mesh with vertices and faces, or a bitmap/raw file with pixels denoting height based on colour information.<br>
<br>
This .ehf file also contains texture file information around halfway through so I wonder if this is not strictly a heightmap file but may still contain data that can be exported and used AS a heightmap?<br>
<br>
Anyway, I've started to look through the data in Hex Workshop, using my so-far limited skillset to try and find patterns and possible clues.<br>
<br>
The first promising area of data starts at 0x22DD7:<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>7F 7F FF FF 7F 7F FF FF 7F 7F FF FF 00 00 00 00
42 F1 0A 18 43 5E DB E0 44 1E EF 2A 00 00 00 00 
43 C0 00 00 42 4B 26 83 00 00 00 00 43 C0 00 00
42 4B 26 83 00 00 00 00 43 C0 00 00 42 4B 26 83 
00 00 00 00 43 C0 00 00 42 4B 26 83 41 00 00 00 
43 C4 00 00 42 6B 8C FD 41 80 00 00 43 C4 00 00 
42 73 40 E7 41 00 00 00 43 C4 00 00 42 6B 8C FD 
41 00 00 00 43 C8 00 00 42 81 5A 9B 00 00 00 00 
43 17 9E C4 43 57 D7 64 44 20 35 F7 00 00 00 00
43 17 9E C4 43 57 D7 64 44 20 35 F7 00 00 00 00
7F 7F FF FF 7F 7F FF FF 7F 7F FF FF 00 00 00 00 </code></pre></div>

Which appears to be, from my tinkering with the .mdl files, (more to come on that topic!) vertex coordinates, but I could be wrong... Like I said I'm fairly new to this.<br>
<br>
This chunk of data comes to an end at 0002ACEB<br>
So approximately 202 160-byte chunks, although the last few repetitions of this structure seem a little different.<br>
<br>
A list of 14 texture file names appears at 0002E077 - It's reasonable to assume that most, if not all the data in this .ehf file pertains to texture coords, which is why I have interpreted the above data sample as vertex coordinates as I believe they can be represented in similar ways - again, I apologise for any muddled terminology I use.<br>
<br>
There are large chunks of data that I cannot spot a pattern in so far but I am continuing to look.<br>
<br>
So I'll post this thread and hopefully someone with more experience can point me in the right direction, for which I'd be very grateful!  Next I will post an example of the .ghf file which more than likely contains the <strong class="text-strong"><em class="text-italics">actual</em></strong> height map data.<br>
<br>
<strong class="text-strong"><em class="text-italics">Additional Info Regarding Fable 2 Landscape Files</em></strong><br>
<br>
I don't know how familiar people are with how Lionhead made Fable 2 but they used a proprietary game engine based heavily on the one used for Fable 1/TLC so the way it handles regions/maps but in very different ways.  In Fable 1 the actual landscape data was stored in a singular .stb file which was referenced by .tng and .lev files for each region/map, heightmap data could be read from the data within the .lev files though (as seen in the Albion Explorer utility.)  Fable 2 seems to have separate, multiple files for each region: <br>
<br>
From the Fable2Mod forum:
<blockquote class="uncited"><div>
<strong class="text-strong">AMA</strong><br>
Related to height field data. "ADMP".<br>
<strong class="text-strong">AMM</strong><br>
Related to height field data. "ADMP".<br>
<strong class="text-strong">AMR</strong><br>
Related to height field data. "ADMP".<br>
<strong class="text-strong"><span style="color:#FF0000">EHF</span></strong><br>
Related to height field data. "HeightFieldGraphicsFile".<br>
<strong class="text-strong">HDB</strong><br>
Related to height field data.<br>
<strong class="text-strong">GENV</strong><br>
Contains environment map data.  Link to thread<br>
<strong class="text-strong"><span style="color:#0000FF">GHF</span></strong><br>
Related to height field data. First 4 bytes are 1F8B0808, but I don't think this is header info.<br>
<strong class="text-strong">LMP</strong><br>
Might be related to height field data. Same header as the GHF files. The rest looks the same too.<br>
<strong class="text-strong">AI_CONFIG</strong><br>
Related to path finding data. XML/plain text.<br>
<strong class="text-strong">AIM</strong><br>
Related to path finding data. Kynogon Mesh.<br>
<strong class="text-strong">FDL</strong><br>
Related to path finding data. Kynogon FindNearest Data.<br>
<strong class="text-strong">PDL</strong><br>
Related to path finding data. Kynogon Spatial graph.<br>
<strong class="text-strong">PPD</strong><br>
Related to path finding data.<br>
<strong class="text-strong">MIST</strong><br>
Assuming it to determine where mist is.<br>
<strong class="text-strong">WATER</strong><br>
Assuming it to determine where water is.<br>
<strong class="text-strong">DAT</strong><br>
All named lightprobesdata.dat. Level lighting?<br>
<strong class="text-strong">ENGINE_DATA</strong><br>
Not a clue except for the header. "EngineResourceList".<br>
<strong class="text-strong">ENGINE_LEVEL</strong><br>
Stores links to other files such as heightmaps and flora models and has instancing data for flora. Link to thread.<br>
<strong class="text-strong">HAVOK_SCENARIO</strong><br>
Level physics?<br>
<strong class="text-strong">SAVE</strong><br>
XML/plain text. UIDs?<br>
<strong class="text-strong">TEXTURE_ATLAS</strong><br>
Guessing that these determine what textures are used where on the maps.</div></blockquote></div>

			
			
									
						<div id='list_thanks177692'>
</div>
<div id='div_post_reput177692'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p177693" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile177693">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/44969.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=44969_1627981731.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/44969.html" class="username">ByronT</a>							</dt>

						<dd class="profile-rank">ultra-n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44969&amp;sr=posts">9</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Feb 10, 2014 8:58 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44969"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44969/true">2 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44969"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact ByronT">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact ByronT</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=177693" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content177693">

					<h3 >
						<a href="./viewtopic.php?p=177693#p177693">Re: Fable 2 EHF GHF Heightmap / Heightfield</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/177693/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=177693" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post177693' href="./viewtopic.php?f=18&amp;p=177693&amp;thanks=177693&amp;to_id=44969&amp;from_id=123876" title="Say Thanks to the author of the post: ByronT"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=177693#p177693" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/44969.html" class="username">ByronT</a></strong> &raquo; </span><time datetime="2021-08-31T09:11:02+00:00">Tue Aug 31, 2021 10:11 am</time>
			</p>
			
			
			
			<div class="content"><strong class="text-strong">Analysis of .ghf heightfield file</strong><br>
<br>
Exhibit A: ch3heightfieldbigfarm_id_bb9cb8d1_1.ghf<br>
<br>
<a href="https://www.mediafire.com/file/5fax57vp8g06zai/ch3heightfieldbigfarm_id_bb9cb8d1_1.zip/file" class="postlink">https://www.mediafire.com/file/5fax57vp ... 1.zip/file</a><br>
<br>
Well this has been more fruitful.<br>
<br>
I had a hunch, based on the fact that the ghf file was just a wall of data with no discernible pattern, that some sort of additional compression was going on - (on top of the fact that it was already compressed in TWO .bnk files!)<br>
<br>
So I decided to open it with 7zip - and true enough there was another .ghf file inside the file architecture: export360/data/worlds/albion/brightwall/heightfields/ about 4 times larger.<br>
<br>
When I looked at the data of this file - it did feature a repeating pattern of 14 bytes throughout the file, with small variances <strong class="text-strong"><em class="text-italics">but</em></strong> crucially a pair of integers 769 and 769 which look suspiciously like the dimensions of a heightmap file...<br>
<br>
So, I renamed the extracted file as a raw and with the following settings:<br>
<br>
Dimensions<br>
Width: 769<br>
Height: 769<br>
<br>
Channels<br>
Count: 14<br>
Interleaved: ✓<br>
Depth: 8-bits<br>
<br>
Header Size: 20 bytes<br>
<br>
This emerged:<br>
<br>
<img src="https://i.ibb.co/Pm33Twk/Brightwood-Heightmap.jpg" class="postimage" alt="Image"><br>
<br>
Look familiar...?:<br>
<br>
<img src="https://i.ibb.co/0fpdZ7K/brightwoodminimap.jpg" class="postimage" alt="Image"><br>
<br>
It's not perfect so I'll keep tinkering, but as with the models (mdl) this looks like it will work with the TESAnnwyn landscape converter tool.<br>
<br>
Next job will be either to create a converter or to manually convert everything - probably not as huge a job as it sounds as there are, maybe 20 at most, discreet levels.</div>

			
			
									
						<div id='list_thanks177693'>
</div>
<div id='div_post_reput177693'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p177694" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile177694">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="../Users/44969.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=44969_1627981731.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="../Users/44969.html" class="username">ByronT</a>							</dt>

						<dd class="profile-rank">ultra-n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44969&amp;sr=posts">9</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Feb 10, 2014 8:58 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44969"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44969/true">2 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44969"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact ByronT">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact ByronT</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=177694" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content177694">

					<h3 >
						<a href="./viewtopic.php?p=177694#p177694">Re: Fable 2 EHF GHF Heightmap / Heightfield</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/177694/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=177694" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post177694' href="./viewtopic.php?f=18&amp;p=177694&amp;thanks=177694&amp;to_id=44969&amp;from_id=123876" title="Say Thanks to the author of the post: ByronT"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=177694#p177694" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/44969.html" class="username">ByronT</a></strong> &raquo; </span><time datetime="2021-08-31T09:13:04+00:00">Tue Aug 31, 2021 10:13 am</time>
			</p>
			
			
			
			<div class="content">So I've managed to make some headway with these heightmap files so that I am now able to convert <strong class="text-strong"><em class="text-italics">most</em></strong> of the .ghf files exported from levels.bnk into usable greyscale images*.<br>
<br>
Brightwood (Spring):<br>
<img src="https://i.ibb.co/KLTQtn0/Brightwood.jpg" class="postimage" alt="Image"><br>
<br>
This was achieved by renaming the uncompressed .ghf file to a .raw and opening in Photoshop with the settings I mentioned in the last post.<br>
<br>
Selecting the Channels tab revealed 3 channels for RGB, in this case the greyscale channel was G, and there followed several other layers which seem to contain texture information and paths, which will probably be useful when creating world and local maps.<br>
<br>
I then deleted every channel but the greyscale.  However, this still needed some work.<br>
It seemed that at the midpoint (128)  maybe due to the way the file is structured/endianness(?)/decompression, with high and low points rendered as 0-255 separately:<br>
<img src="https://i.ibb.co/g7wtYQY/brightwoodglitch.jpg" class="postimage" alt="Image"><br>
<br>
So all I did here was select the darker portions first, paste to a new layer and lighten them, then darken the lighter portions.  Then I flipped vertically to get the first image in this post.<br>
<br>
As you can see, there is still a little glitching at the bottom right but as this is not a traversable part of the Brightwood region, I can fix this either by smoothing in Photoshop before exporting the final .bmp or .raw file, or by smoothing the terrain in the Construction Set/Creation Kit.<br>
<br>
Right, on to Fable 3 and the rest of the Fable 2 .mdls I need!<br>
<br>
* - Not all of the .ghf files exported from levels.bnk were usable so I went into Hex Workshop and just exported them manually, which has so far worked fine with Westcliff and Wraithmarsh.</div>

			
			
									
						<div id='list_thanks177694'>
</div>
<div id='div_post_reput177694'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	

	<div class="action-bar bar-bottom">
	
			<a href="./posting.php?mode=reply&amp;t=24436" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=18&amp;t=24436&amp;watch=topic&amp;start=0&amp;hash=f1826a4f" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=18&amp;t=24436&amp;unwatch=topic&amp;start=0&amp;hash=f1826a4f" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=24436&amp;bookmark=1&amp;hash=f1826a4f" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=24436" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=24436&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="./viewtopic.php?t=24436">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			3 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="./viewforum.php?f=18" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “Graphic file formats”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="../Forums/26 - XeNTaX - General Discussion.html" class="jumpbox-cat-link"> <span> General Discussion</span></a></li>
																<li><a href="./viewforum.php?f=22" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Holy Cow!</span></a></li>
																<li><a href="./viewforum.php?f=40" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game news</span></a></li>
																<li><a href="./viewforum.php?f=38" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Tech Tips</span></a></li>
																<li><a href="./viewforum.php?f=41" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Cool mods</span></a></li>
																<li><a href="./viewforum.php?f=28" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Website</span></a></li>
																<li><a href="./viewforum.php?f=24" class="jumpbox-cat-link"> <span> Game Modding</span></a></li>
																<li><a href="./viewforum.php?f=29" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="./viewforum.php?f=16" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; 3D/2D models</span></a></li>
																<li><a href="./viewforum.php?f=17" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Audio file formats</span></a></li>
																<li><a href="./viewforum.php?f=18" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Graphic file formats</span></a></li>
																<li><a href="./viewforum.php?f=36" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Video file formats</span></a></li>
																<li><a href="./viewforum.php?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Archive</span></a></li>
																<li><a href="./viewforum.php?f=21" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Compressed files and methods</span></a></li>
																<li><a href="./viewforum.php?f=13" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Code Talk</span></a></li>
																<li><a href="./viewforum.php?f=35" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Localization</span></a></li>
																<li><a href="./viewforum.php?f=30" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Savegames</span></a></li>
																<li><a href="./viewforum.php?f=15" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Old posts</span></a></li>
																<li><a href="./viewforum.php?f=37" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Retro games</span></a></li>
																<li><a href="./viewforum.php?f=25" class="jumpbox-cat-link"> <span> MultiEx Commander</span></a></li>
																<li><a href="./viewforum.php?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; News</span></a></li>
																<li><a href="./viewforum.php?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Plugins</span></a></li>
																<li><a href="./viewforum.php?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="./viewforum.php?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Miscellaneous</span></a></li>
																<li><a href="./viewforum.php?f=31" class="jumpbox-cat-link"> <span> Tools &amp; Programs</span></a></li>
																<li><a href="./viewforum.php?f=32" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game specific tools</span></a></li>
																<li><a href="./viewforum.php?f=33" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; General game tools</span></a></li>
											</ul>
		</div>
	</div>

	</div>


	<div class="stat-block online-list">
		<h3><a href="./viewonline.php">Who is online</a></h3>
		<p>Users browsing this forum: <a href="../Users/123876.html" class="username">escape209</a> and 1 guest</p>
	</div>

			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="../Navigation/index.html" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="UTC+1">UTC+01:00</span></li>
							<li class="rightside">
				<a href="./ucp.php?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
							<li class="rightside" data-last-responsive="true">
					<a href="./memberlist.php" title="View complete list of members" role="menuitem">
						<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
					</a>
				</li>
												<li class="rightside" data-last-responsive="true">
				<a href="./memberlist.php?mode=team" role="menuitem">
					<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
				</a>
			</li>
							</ul>

	</div>
</div>

	<div class="copyright">
				<p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row" role="menu">
			<a class="footer-link" href="./ucp.php?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="./ucp.php?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script src="./assets/javascript/jquery-3.6.0.min.js?assets_version=11"></script>
<script src="./assets/javascript/core.js?assets_version=11"></script>


<script type="text/javascript">
(function($) {  // Avoid conflicts with other libraries

'use strict';
	
	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="./ext/phpbb/boardannouncements/styles/all/template/js/boardannouncements.js?assets_version=11"></script>
<script src="./styles/prosilver/template/forum_fn.js?assets_version=11"></script>
<script src="./styles/prosilver/template/ajax.js?assets_version=11"></script>



</body>
</html>
