<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>.wz archive - Page 20 - XeNTaX</title>


	<link rel="canonical" href="https://forum.xentax.com/viewtopic.php?t=1753&amp;start=285">

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="../../Source/assets/css/font-awesome.min.css?assets_version=11" rel="stylesheet">
<link href="../../Source/styles/prosilver/theme/stylesheet.css?assets_version=11" rel="stylesheet">
<link href="../../Source/styles/prosilver/theme/en/stylesheet.css?assets_version=11" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="../../Source/styles/prosilver/theme/tweaks.css?assets_version=11" rel="stylesheet">
<![endif]-->


<link href="../../Source/ext/gfksx/thanksforposts/styles/prosilver/theme/thanks.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner_background.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="../../Source/ext/phpbb/boardannouncements/styles/all/theme/boardannouncements.css?assets_version=11" rel="stylesheet" media="screen" />



</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
		<a id="logo" class="logo" href="../Navigation/index.html" title="Board index">
					<span class="site_logo"></span>
				</a>
				<h1>XeNTaX</h1>
				<p>Game Research Forum</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div class="banner-header">
	<div style="position:absolute; z-index:-100;">
	<h1>XeNTaX</h1>
	<p>Game Research Forum</p>
	<p class="skiplink"><a href="#start_here">Skip to content</a></p>
</div>
<div class="header-banner">
	<a href="../Navigation/index.html" title="Board index"><img class="header-banner" style="border-radius:0px; width:1500px;" src="../Source/images/gameresforum_logo_1.png" alt="Board index" ></a>
</div>
</div>

			</div>
					</div>
				<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
													<li>
								<a href="./search.php?search_id=egosearch" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Your posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=newposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>New posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=unreadposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>Unread posts</span>
								</a>
							</li>
													<li>
								<a href="./search.php?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="./search.php?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="./search.php" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
											<li class="separator"></li>
													<li>
								<a href="./memberlist.php" role="menuitem">
									<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
								</a>
							</li>
																			<li>
								<a href="./memberlist.php?mode=team" role="menuitem">
									<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
								</a>
							</li>
																<li class="separator"></li>

						<li>
		<a href="/app.php/toplist"  role="menuitem">
			<i class="icon fa-star-o fa-fw" aria-hidden="true"></i><span>Posts toplist</span>
		</a>
	</li>
	<li>
		<a href="/app.php/thankslist"  role="menuitem">
			<i class="icon fa-thumbs-o-up fa-fw" aria-hidden="true"></i><span>Thanks list</span>
		</a>
	</li>
				</ul>
			</div>
		</li>

				<li data-last-responsive="true">
			<a href="/app.php/help/faq" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
					<li id="username_logged_in" class="rightside " data-skip-responsive="true">
						<div class="header-profile dropdown-container">
				<a href="./ucp.php" class="header-avatar dropdown-trigger"> <span class="username">escape209</span></a>
				<div class="dropdown">
					<div class="pointer"><div class="pointer-inner"></div></div>
					<ul class="dropdown-contents" role="menu">
						
					
						<li>
							<a href="./ucp.php" title="User Control Panel" role="menuitem">
								<i class="icon fa-sliders fa-fw" aria-hidden="true"></i><span>User Control Panel</span>
							</a>
						</li>
													<li>
								<a href="../Users/123876.html" title="Profile" role="menuitem">
									<i class="icon fa-user fa-fw" aria-hidden="true"></i><span>Profile</span>
								</a>
							</li>
						
						
						<li class="separator"></li>
						<li>
							<a href="./ucp.php?mode=logout&amp;sid=9c649842ae48bcd04444257bd025d4a2" title="Logout" accesskey="x" role="menuitem">
								<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Logout</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
					</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=pm&amp;folder=inbox" role="menuitem">
					<i class="icon fa-inbox fa-fw" aria-hidden="true"></i><span>Private messages </span><strong class="badge hidden">0</strong>
				</a>
			</li>
							<li class="dropdown-container dropdown-right rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=ucp_notifications" id="notification_list_button" class="dropdown-trigger">
					<i class="icon fa-bell fa-fw" aria-hidden="true"></i><span>Notifications </span><strong class="badge hidden">0</strong>
				</a>
				<div id="notification_list" class="dropdown dropdown-extended notification_list">
	<div class="pointer"><div class="pointer-inner"></div></div>
	<div class="dropdown-contents">
		<div class="header">
			Notifications
			<span class="header_settings">
				<a href="./ucp.php?i=ucp_notifications&amp;mode=notification_options">Settings</a>
							</span>
		</div>

		<ul>
							<li class="no_notifications">
					You have no notifications
				</li>
								</ul>

		<div class="footer">
			<a href="./ucp.php?i=ucp_notifications"><span>See All</span></a>
		</div>
	</div>
</div>
			</li>
						</ul>

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
				
		
		<li class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">

			
							<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope><a itemprop="item" href="../Navigation/index.html" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1" /></span>

											
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="24"><a itemprop="item" href="./viewforum.php?f=24"><span itemprop="name">Game Modding</span></a><meta itemprop="position" content="2" /></span>
															
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="10"><a itemprop="item" href="./viewforum.php?f=10"><span itemprop="name">Game Archive</span></a><meta itemprop="position" content="3" /></span>
							
					</li>

		<li class="rightside responsive-search">
	<a href="./search.php" title="View the advanced search options" role="menuitem">
	<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
	</a>
</li>

			</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
					<div id="phpbb_announcement" style="background-color:#d9efff">
				<div><strong class="text-strong"><span style="color:#00BF00"><span style="font-size:120%;line-height:116%">Important information: this site is currently <a href="https://forum.xentax.com/viewtopic.php?t=27281" class="postlink">scheduled to go offline indefinitely</a> by end of the year. </span></span></strong></div>
	</div>

<h2 class="topic-title"><a href="./viewtopic.php?t=1753&amp;start=285">.wz archive</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">The Original Forum. Game archives, full of resources. How to open them? Get help here.<br /></div>

	<div class="rules rules-link">
		<div class="inner">

					<a href="http://forum.xentax.com/viewtopic.php?f=28&amp;t=1270">Forum rules</a>
		
		</div>
	</div>

<div class="action-bar bar-top">
	
			<a href="./posting.php?mode=reply&amp;t=1753" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=10&amp;t=1753&amp;watch=topic&amp;start=285&amp;hash=1ecbde3d" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=10&amp;t=1753&amp;unwatch=topic&amp;start=285&amp;hash=1ecbde3d" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=1753&amp;start=285&amp;bookmark=1&amp;hash=1ecbde3d" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=1753" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=1753&amp;start=285&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="./search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="./search.php" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="1753" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			516 posts
							<ul>
	<li class="dropdown-container dropdown-button-control dropdown-page-jump page-jump">
		<a class="button button-icon-only dropdown-trigger" href="#" title="Click to jump to page…" role="button"><i class="icon fa-level-down fa-rotate-270" aria-hidden="true"></i><span class="sr-only">Page <strong>20</strong> of <strong>35</strong></span></a>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
				<li>Jump to page:</li>
				<li class="page-jump-form">
					<input type="number" name="page-number" min="1" max="999999" title="Enter the page number you wish to go to" class="inputbox tiny" data-per-page="15" data-base-url=".&#x2F;viewtopic.php&#x3F;t&#x3D;1753" data-start-name="start" />
					<input class="button2" value="Go" type="button" />
				</li>
			</ul>
		</div>
	</li>
			<li class="arrow previous"><a class="button button-icon-only" href="./viewtopic.php?t=1753&amp;start=270" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="./1753.html" role="button">1</a></li>
			<li class="ellipsis" role="separator"><span>…</span></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=255" role="button">18</a></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=270" role="button">19</a></li>
			<li class="active"><span>20</span></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=300" role="button">21</a></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=315" role="button">22</a></li>
			<li class="ellipsis" role="separator"><span>…</span></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=510" role="button">35</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="./viewtopic.php?t=1753&amp;start=300" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
		</div>




			<div id="p21803" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile21803">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/1758.html" class="username">Omega</a>							</dt>

						<dd class="profile-rank">advanced</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=1758&amp;sr=posts">56</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Aug 22, 2006 5:15 pm</dd>		
		
											    <dd class="profile-posts" data-user-give-id="1758"></dd>
    <dd class="profile-posts" data-user-receive-id="1758"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Omega">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Omega</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21803" title="Send private message">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																																																<a href="http://strategywiki.org/wiki/MapleStory" title="Website" class="last-cell">
										<span class="contact-icon phpbb_website-icon">Website</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21803">

					<h3 class="first">
						<a href="./viewtopic.php?p=21803#p21803"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21803/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21803" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21803' href="./viewtopic.php?f=10&amp;p=21803&amp;thanks=21803&amp;to_id=1758&amp;from_id=123876" title="Say Thanks to the author of the post: Omega"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21803#p21803" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/1758.html" class="username">Omega</a></strong> &raquo; </span><time datetime="2007-07-07T00:01:18+00:00">Sat Jul 07, 2007 1:01 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>kolli wrote:</cite>I'm making large steps in extracting the file tree.<br>
<br>
But I have one more question:<br>
<br>
On some point (in extract73type() when iname is "UOL") in the Python script you use a function "computeName". and at this point for the output you have a string with the content "image*" and the cumputed name.<br>
What type is this? Is this an image or a MP3 (because it seems only to appear in Sound.wz)?<br>
<br>
edit: The whole structure of the *.img does not go into my head...<br>
Is the structure of the imgs the same as the folder structure?<br>
The folder structure is like: [all level0 folders, sorted alphabetically] [all level1 folders, s. alph.] [all level2 folders, s. alph.] And every subfolder as a byte that tells us, how many there are --&gt; easy recursion.<br>
<br>
Is this the same in the imgs for the PNGs, MP3s and other type (numbers, text, etc) files?<br>
Are the imgs build up in a way for that we can use an <em class="text-italics">easy</em> recursion?</div></blockquote>
That compute name just goes back up the directory structure to figure out what the location of the image is so that it gets a unique name (or something like that) I don't think it's that necessary.<br>
<br>
each .wz is divided into folders which contain .img files.  Each .img contains multiple blocks.  There are 3 "types" of blocks.  Name blocks, value blocks, and content blocks (my terms...)  name blocks = 0x00 and 0x01, content blocks = 0x79, 0x1b, and the rest are value blocks (I classify 0x09/08 as value even though they are really just containers for blocks).  Essentially you can  have multiple pictures within each .img.  It's somewhat recursive, it's just that you go between three different functions.</div>

			
			
									
						<div id='list_thanks21803'>
</div>
<div id='div_post_reput21803'>
</div>

							<div id="sig21803" class="signature"><a href="http://strategywiki.org/wiki/MapleStory" class="postlink">http://strategywiki.org/wiki/MapleStory</a><br>
MapleStory Wiki guide</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21816" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile21816">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/2721.html" class="username">kolli</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=2721&amp;sr=posts">15</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Apr 30, 2007 6:57 pm</dd>		
		
						    <dd class="profile-posts" data-user-give-id="2721"></dd>
    <dd class="profile-posts" data-user-receive-id="2721"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact kolli">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact kolli</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21816" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21816">

					<h3 >
						<a href="./viewtopic.php?p=21816#p21816"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21816/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21816" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21816' href="./viewtopic.php?f=10&amp;p=21816&amp;thanks=21816&amp;to_id=2721&amp;from_id=123876" title="Say Thanks to the author of the post: kolli"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21816#p21816" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/2721.html" class="username">kolli</a></strong> &raquo; </span><time datetime="2007-07-07T12:59:49+00:00">Sat Jul 07, 2007 1:59 pm</time>
			</p>
			
			
			
			<div class="content">But the "pictures" with computeName thing are no pictures. I wanted to know what this is.<br>
If you extract the Sound.wz, you have a lot of this stuff, for example:<br>
1012000.1.Hit.image*	1012000/0/Hit<br>
1012000.2.Hit.image*	1012000/0/Hit<br>
1012000.3.Hit.image*	1012000/0/Hit<br>
<br>
There are no pictures, only these strings.<br>
<br>
And for the recursion:<br>
Yes, it is an recursion, I just wanted to know if someone found a easier one. Or if someone could explain, how exactly the imgs are built up.<br>
<br>
Is it like:<br>
0001.img<br>
- name1(0x00 or 0x01) with content1(0x73 or 0x1B)<br>
- name2(0x00 or 0x01) with content2(0x73 or 0x1B)<br>
- name3(0x00 or 0x01) with content3(0x08 or 0x09)<br>
--subname1(0x00 or 0x01) with subcontent1(0x73 or 0x1B)<br>
--subname2(0x00 or 0x01) with subcontent2(0x73 or 0x1B)<br>
- name4(0x00 or 0x01) with content4(0x08 or 0x09)<br>
<br>
Or did I mixed up (0x73 or 0x1B) with (0x08 or 0x09)?<br>
<br>
And is a "block" (how you call it) already the file (like png or mp3)? Or is the "entryValue" the file?</div>

			
			
									
						<div id='list_thanks21816'>
</div>
<div id='div_post_reput21816'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21826" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile21826">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/1758.html" class="username">Omega</a>							</dt>

						<dd class="profile-rank">advanced</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=1758&amp;sr=posts">56</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Aug 22, 2006 5:15 pm</dd>		
		
											    <dd class="profile-posts" data-user-give-id="1758"></dd>
    <dd class="profile-posts" data-user-receive-id="1758"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Omega">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Omega</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21826" title="Send private message">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																																																<a href="http://strategywiki.org/wiki/MapleStory" title="Website" class="last-cell">
										<span class="contact-icon phpbb_website-icon">Website</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21826">

					<h3 >
						<a href="./viewtopic.php?p=21826#p21826"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21826/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21826" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21826' href="./viewtopic.php?f=10&amp;p=21826&amp;thanks=21826&amp;to_id=1758&amp;from_id=123876" title="Say Thanks to the author of the post: Omega"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21826#p21826" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/1758.html" class="username">Omega</a></strong> &raquo; </span><time datetime="2007-07-07T16:19:22+00:00">Sat Jul 07, 2007 5:19 pm</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>kolli wrote:</cite>But the "pictures" with computeName thing are no pictures. I wanted to know what this is.<br>
If you extract the Sound.wz, you have a lot of this stuff, for example:<br>
1012000.1.Hit.image*	1012000/0/Hit<br>
1012000.2.Hit.image*	1012000/0/Hit<br>
1012000.3.Hit.image*	1012000/0/Hit<br>
<br>
There are no pictures, only these strings.<br>
<br>
And for the recursion:<br>
Yes, it is an recursion, I just wanted to know if someone found a easier one. Or if someone could explain, how exactly the imgs are built up.<br>
<br>
Is it like:<br>
0001.img<br>
- name1(0x00 or 0x01) with content1(0x73 or 0x1B)<br>
- name2(0x00 or 0x01) with content2(0x73 or 0x1B)<br>
- name3(0x00 or 0x01) with content3(0x08 or 0x09)<br>
--subname1(0x00 or 0x01) with subcontent1(0x73 or 0x1B)<br>
--subname2(0x00 or 0x01) with subcontent2(0x73 or 0x1B)<br>
- name4(0x00 or 0x01) with content4(0x08 or 0x09)<br>
<br>
Or did I mixed up (0x73 or 0x1B) with (0x08 or 0x09)?<br>
<br>
And is a "block" (how you call it) already the file (like png or mp3)? Or is the "entryValue" the file?</div></blockquote>
Those are definately not in sound.wz....Those look more like reactor.wz.<br>
<br>
I haven't looked if there was a set order in the files, though there probably is.  Some blocks are "interchangeable".  For example, the only entry in a 0x08 will always be a "Name" block (so 0x00 or 0x01).  Other locations will have either a 0x1b or 0x73. The third location will either have either 0x00, 0x02, 0x03, 0x04, 0x05, 0x08, or 0x09.<br>
<br>
All files do have a "standard" structure.  Each will first have a short header (check the py file for what that is) then a number telling how many subblocks.  Each of these subblocks has a name and then info block (0x02 - 0x09 group).  Each of those info blocks can then have subblocks and you have to figure out what they are by reading the first byte of the block.<br>
<br>
Do you have a specific .img you need help with?</div>

			
			
									
						<div id='list_thanks21826'>
</div>
<div id='div_post_reput21826'>
</div>

							<div id="sig21826" class="signature"><a href="http://strategywiki.org/wiki/MapleStory" class="postlink">http://strategywiki.org/wiki/MapleStory</a><br>
MapleStory Wiki guide</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21827" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile21827">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/2721.html" class="username">kolli</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=2721&amp;sr=posts">15</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Apr 30, 2007 6:57 pm</dd>		
		
						    <dd class="profile-posts" data-user-give-id="2721"></dd>
    <dd class="profile-posts" data-user-receive-id="2721"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact kolli">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact kolli</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21827" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21827">

					<h3 >
						<a href="./viewtopic.php?p=21827#p21827"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21827/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21827" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21827' href="./viewtopic.php?f=10&amp;p=21827&amp;thanks=21827&amp;to_id=2721&amp;from_id=123876" title="Say Thanks to the author of the post: kolli"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21827#p21827" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/2721.html" class="username">kolli</a></strong> &raquo; </span><time datetime="2007-07-07T16:34:23+00:00">Sat Jul 07, 2007 5:34 pm</time>
			</p>
			
			
			
			<div class="content">Thank you. I don't have problems with a specific img file. I just want to figure out the general structure. Because the python code looks very complex (even if it only is a rather simple recursion). I try to make a simplier one. Because I don't think that the inventor of the file structure made the structure complex on purpose (the MapleStory client must be able to access the wz files fast, so there must be a simplier way).<br>
<br>
But I think I can work with your explaination for the time being. (but any further information is still welcome <img class="smilies" src="./images/smilies/wink.gif" width="15" height="15" alt=";)" title="Wink">)<br>
<br>
edit, I looked it up: These image* are in sound.wz\reactor.img<br>
<br>
edit 2: does each subblock also have a name?</div>

			
			
									
						<div id='list_thanks21827'>
</div>
<div id='div_post_reput21827'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21828" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile21828">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/1758.html" class="username">Omega</a>							</dt>

						<dd class="profile-rank">advanced</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=1758&amp;sr=posts">56</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Aug 22, 2006 5:15 pm</dd>		
		
											    <dd class="profile-posts" data-user-give-id="1758"></dd>
    <dd class="profile-posts" data-user-receive-id="1758"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Omega">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Omega</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21828" title="Send private message">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																																																<a href="http://strategywiki.org/wiki/MapleStory" title="Website" class="last-cell">
										<span class="contact-icon phpbb_website-icon">Website</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21828">

					<h3 >
						<a href="./viewtopic.php?p=21828#p21828"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21828/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21828" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21828' href="./viewtopic.php?f=10&amp;p=21828&amp;thanks=21828&amp;to_id=1758&amp;from_id=123876" title="Say Thanks to the author of the post: Omega"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21828#p21828" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/1758.html" class="username">Omega</a></strong> &raquo; </span><time datetime="2007-07-07T18:22:51+00:00">Sat Jul 07, 2007 7:22 pm</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>kolli wrote:</cite>Thank you. I don't have problems with a specific img file. I just want to figure out the general structure. Because the python code looks very complex (even if it only is a rather simple recursion). I try to make a simplier one. Because I don't think that the inventor of the file structure made the structure complex on purpose (the MapleStory client must be able to access the wz files fast, so there must be a simplier way).<br>
<br>
But I think I can work with your explaination for the time being. (but any further information is still welcome <img class="smilies" src="./images/smilies/wink.gif" width="15" height="15" alt=";)" title="Wink">)<br>
<br>
edit, I looked it up: These image* are in sound.wz\reactor.img<br>
<br>
edit 2: does each subblock also have a name?</div></blockquote>
Oh, I see which you are talking about.  Didn't realize that code was used elseewhere.  <br>
<br>
UOL code means that the actual data is stored elsewhere.  For example in 1012000, it has 0, 1, 2, 3, 4<br>
0/Hit contains an MP3<br>
1 to 3/Hit contains a "link"<br>
They each contain the text "../0/Hit" meaning that they use the same mp3 as 0/Hit.<br>
<br>
Most subblocks have names, there are some which don't, though I can't remember where exactly.</div>

			
			
									
						<div id='list_thanks21828'>
</div>
<div id='div_post_reput21828'>
</div>

							<div id="sig21828" class="signature"><a href="http://strategywiki.org/wiki/MapleStory" class="postlink">http://strategywiki.org/wiki/MapleStory</a><br>
MapleStory Wiki guide</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21844" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile21844">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/2721.html" class="username">kolli</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=2721&amp;sr=posts">15</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Apr 30, 2007 6:57 pm</dd>		
		
						    <dd class="profile-posts" data-user-give-id="2721"></dd>
    <dd class="profile-posts" data-user-receive-id="2721"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact kolli">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact kolli</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21844" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21844">

					<h3 >
						<a href="./viewtopic.php?p=21844#p21844"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21844/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21844" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21844' href="./viewtopic.php?f=10&amp;p=21844&amp;thanks=21844&amp;to_id=2721&amp;from_id=123876" title="Say Thanks to the author of the post: kolli"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21844#p21844" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/2721.html" class="username">kolli</a></strong> &raquo; </span><time datetime="2007-07-08T10:08:45+00:00">Sun Jul 08, 2007 11:08 am</time>
			</p>
			
			
			
			<div class="content">Ah, I see.<br>
<br>
Now I have a question about the data types you are using:<br>
Some numbers you read as signed 32 bit integers, some as unsigned. What tells you what type they are? A signed integer could have the adress up to 2 Gigabyte, but none of the wz files goes even over one Gigabyte.<br>
<br>
I only use 32 bit signed integers to store the numbers (when it comes to values with 64 bit floats, I convert them directly to string, but for adressing positiosn in the file should signed 32 integer be enough).<br>
<br>
edit: one more question:<br>
Did someone already found out what some (or all) of the "unknown" bytes are used for?<br>
Could the two bytes after the header be saying how much "type 3" directorys there are (in all wz files together)?<br>
<br>
edit2: Does someone has Europe MapleStory? Do they already have the splited wz files or do they still have the Data.wz?<br>
<br>
edit3: I just noticed that in the Python script: in extract00type you read the size. Isn't that a packnum? At least it seems that the beginning of the function does the same as packnum.</div>

			
			
									
						<div id='list_thanks21844'>
</div>
<div id='div_post_reput21844'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21864" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile21864">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/1758.html" class="username">Omega</a>							</dt>

						<dd class="profile-rank">advanced</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=1758&amp;sr=posts">56</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Aug 22, 2006 5:15 pm</dd>		
		
											    <dd class="profile-posts" data-user-give-id="1758"></dd>
    <dd class="profile-posts" data-user-receive-id="1758"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Omega">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Omega</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21864" title="Send private message">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																																																<a href="http://strategywiki.org/wiki/MapleStory" title="Website" class="last-cell">
										<span class="contact-icon phpbb_website-icon">Website</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21864">

					<h3 >
						<a href="./viewtopic.php?p=21864#p21864"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21864/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21864" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21864' href="./viewtopic.php?f=10&amp;p=21864&amp;thanks=21864&amp;to_id=1758&amp;from_id=123876" title="Say Thanks to the author of the post: Omega"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21864#p21864" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/1758.html" class="username">Omega</a></strong> &raquo; </span><time datetime="2007-07-10T04:12:49+00:00">Tue Jul 10, 2007 5:12 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>kolli wrote:</cite>Ah, I see.<br>
<br>
Now I have a question about the data types you are using:<br>
Some numbers you read as signed 32 bit integers, some as unsigned. What tells you what type they are? A signed integer could have the adress up to 2 Gigabyte, but none of the wz files goes even over one Gigabyte.<br>
<br>
I only use 32 bit signed integers to store the numbers (when it comes to values with 64 bit floats, I convert them directly to string, but for adressing positiosn in the file should signed 32 integer be enough).<br>
<br>
edit: one more question:<br>
Did someone already found out what some (or all) of the "unknown" bytes are used for?<br>
Could the two bytes after the header be saying how much "type 3" directorys there are (in all wz files together)?<br>
<br>
edit2: Does someone has Europe MapleStory? Do they already have the splited wz files or do they still have the Data.wz?<br>
<br>
edit3: I just noticed that in the Python script: in extract00type you read the size. Isn't that a packnum? At least it seems that the beginning of the function does the same as packnum.</div></blockquote>
The choice of data type was mostly arbitrary, whatever worked.  Some of them I'm not too sure about (for example 0x02 and 0x04) but if the numbers come out right, it must be right (I haven't verified)<br>
<br>
I highly doubt it's the number of directories, since that number seemed to change a lot between versions.<br>
<br>
No idea about EMS, it's been a while.<br>
<br>
They look pretty close so you might be right.  I'd suggest you try it out and see what happens.  The only part that seems to mess with it is the extra check if it's positive or negative for unicode strings.</div>

			
			
									
						<div id='list_thanks21864'>
</div>
<div id='div_post_reput21864'>
</div>

							<div id="sig21864" class="signature"><a href="http://strategywiki.org/wiki/MapleStory" class="postlink">http://strategywiki.org/wiki/MapleStory</a><br>
MapleStory Wiki guide</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21868" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile21868">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/2721.html" class="username">kolli</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=2721&amp;sr=posts">15</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Apr 30, 2007 6:57 pm</dd>		
		
						    <dd class="profile-posts" data-user-give-id="2721"></dd>
    <dd class="profile-posts" data-user-receive-id="2721"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact kolli">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact kolli</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21868" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21868">

					<h3 >
						<a href="./viewtopic.php?p=21868#p21868"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21868/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21868" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21868' href="./viewtopic.php?f=10&amp;p=21868&amp;thanks=21868&amp;to_id=2721&amp;from_id=123876" title="Say Thanks to the author of the post: kolli"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21868#p21868" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/2721.html" class="username">kolli</a></strong> &raquo; </span><time datetime="2007-07-10T09:39:02+00:00">Tue Jul 10, 2007 10:39 am</time>
			</p>
			
			
			
			<div class="content">EMS has already the splitted wz files, I found out. I was hoping to find a Data.wz to have the pieces put all together (makes the analysing much more easier).<br>
<br>
I thought about the packnum/00type again. The first part is a packnum, it works. But if it comes to the unicode part it does not work (I think it is because the whole function had to be changed, what I didn't tried until now).<br>
But as we are now on the 00type: I still don't fully understand why you store some strings in this "previousStrings" array. Are these again something like you called a "link"? It seems these things only exist in the file tree (only do this if parsingFileTree is true)?<br>
<br>
edit6 (I deleted edits 1 to 5 because the ideas were wrong):<br>
Does it ever occur that the negative value of packnum is used?<br>
I mean, when the byte is -128 a 32bit integer is read. But what if it is smaller than 0 and larger than -128? Are these numbers used anywhere? In extract00type they are made positive (size = -size) and all other must be positive (because there are no  images with a "negative size")<br>
<br>
I'll try something out in this direction. Because I am still certain that the wz files are build up with "Occam's razor" in mind (if both of two ideas work, the easier one is the correct one).<br>
<br>
edit7: No, as far I can see this, this never occurs, that a value between -128 and 0 (excluding these two) comes up. I'll try to change the packnum function so that it only gives out either positive signed bytes ( &gt;= 0 &lt; 128 ) or the 32 bit signed integer.<br>
Maybe this solves the MP3 problem where some MP3s aren't read. Because there I see the only part where negative values of packnum could infect the output because the size of a MP3 could be negative with the current python code. I'll try that.<br>
<br>
edit8:<br>
I tried to change the extract00type. But the longer I think about it the harder it gets...<br>
If the first size in extract00type is a packnum nothing changes. That's all because of the Unicode part with the extra if clauses...<br>
I think, we have to find a way around the previousStrings thing (what I still did not fully understand until now) and then we can just ask if it's unicode or not (size = packnum, if size == 127 read Unicode, else read normal string).</div>

			
			
									
						<div id='list_thanks21868'>
</div>
<div id='div_post_reput21868'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21880" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile21880">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/1758.html" class="username">Omega</a>							</dt>

						<dd class="profile-rank">advanced</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=1758&amp;sr=posts">56</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Aug 22, 2006 5:15 pm</dd>		
		
											    <dd class="profile-posts" data-user-give-id="1758"></dd>
    <dd class="profile-posts" data-user-receive-id="1758"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Omega">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Omega</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21880" title="Send private message">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																																																<a href="http://strategywiki.org/wiki/MapleStory" title="Website" class="last-cell">
										<span class="contact-icon phpbb_website-icon">Website</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21880">

					<h3 >
						<a href="./viewtopic.php?p=21880#p21880">asdf</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21880/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21880" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21880' href="./viewtopic.php?f=10&amp;p=21880&amp;thanks=21880&amp;to_id=1758&amp;from_id=123876" title="Say Thanks to the author of the post: Omega"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21880#p21880" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/1758.html" class="username">Omega</a></strong> &raquo; </span><time datetime="2007-07-11T02:35:40+00:00">Wed Jul 11, 2007 3:35 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>kolli wrote:</cite>EMS has already the splitted wz files, I found out. I was hoping to find a Data.wz to have the pieces put all together (makes the analysing much more easier).<br>
<br>
I thought about the packnum/00type again. The first part is a packnum, it works. But if it comes to the unicode part it does not work (I think it is because the whole function had to be changed, what I didn't tried until now).<br>
But as we are now on the 00type: I still don't fully understand why you store some strings in this "previousStrings" array. Are these again something like you called a "link"? It seems these things only exist in the file tree (only do this if parsingFileTree is true)?<br>
<br>
edit6 (I deleted edits 1 to 5 because the ideas were wrong):<br>
Does it ever occur that the negative value of packnum is used?<br>
I mean, when the byte is -128 a 32bit integer is read. But what if it is smaller than 0 and larger than -128? Are these numbers used anywhere? In extract00type they are made positive (size = -size) and all other must be positive (because there are no  images with a "negative size")<br>
<br>
I'll try something out in this direction. Because I am still certain that the wz files are build up with "Occam's razor" in mind (if both of two ideas work, the easier one is the correct one).<br>
<br>
edit7: No, as far I can see this, this never occurs, that a value between -128 and 0 (excluding these two) comes up. I'll try to change the packnum function so that it only gives out either positive signed bytes ( &gt;= 0 &lt; 128 ) or the 32 bit signed integer.<br>
Maybe this solves the MP3 problem where some MP3s aren't read. Because there I see the only part where negative values of packnum could infect the output because the size of a MP3 could be negative with the current python code. I'll try that.<br>
<br>
edit8:<br>
I tried to change the extract00type. But the longer I think about it the harder it gets...<br>
If the first size in extract00type is a packnum nothing changes. That's all because of the Unicode part with the extra if clauses...<br>
I think, we have to find a way around the previousStrings thing (what I still did not fully understand until now) and then we can just ask if it's unicode or not (size = packnum, if size == 127 read Unicode, else read normal string).</div></blockquote>
I think the whole previousStrings code is completely useless.  IIRC lambda was trying to store all the previous strings since they are sometimes reused, however it's easier just to get them directly.<br>
<br>
semipseudocode:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>if 0x00 - read string
if 0x01 - read u32 (actual string location)
    save current location
    seek to actual string location (don't remember if it's relative or absolute)
    read the string
    seek back to saved location
</code></pre></div>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>size = s8
if &lt;= 0 
  if - 128 read u32
  if &lt;0 size = -size
  read size bytes and decode it
if &gt;0
  if 127 read u32
  read size bytes and decode
</code></pre></div>
and decode is just the basic xor thing</div>

			
			
									
						<div id='list_thanks21880'>
</div>
<div id='div_post_reput21880'>
</div>

							<div id="sig21880" class="signature"><a href="http://strategywiki.org/wiki/MapleStory" class="postlink">http://strategywiki.org/wiki/MapleStory</a><br>
MapleStory Wiki guide</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21882" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile21882">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/2721.html" class="username">kolli</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=2721&amp;sr=posts">15</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Apr 30, 2007 6:57 pm</dd>		
		
						    <dd class="profile-posts" data-user-give-id="2721"></dd>
    <dd class="profile-posts" data-user-receive-id="2721"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact kolli">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact kolli</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21882" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21882">

					<h3 >
						<a href="./viewtopic.php?p=21882#p21882"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21882/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21882" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21882' href="./viewtopic.php?f=10&amp;p=21882&amp;thanks=21882&amp;to_id=2721&amp;from_id=123876" title="Say Thanks to the author of the post: kolli"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21882#p21882" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/2721.html" class="username">kolli</a></strong> &raquo; </span><time datetime="2007-07-11T08:31:49+00:00">Wed Jul 11, 2007 9:31 am</time>
			</p>
			
			
			
			<div class="content">If I change the prevString code so that it just returns what it has read from the file (and not from the saved array) it finds a 01072279.img in Weapon and in Shoes in Character.wz.<br>
But opposed to your example code at this point I'm not seeking in the file, just reading sequentially.<br>
<br>
With the prevstring code, this img is only in shoes.<br>
<br>
The only other wz file where this code is used is Map.wz. But I did not check what it finds/finds not in there.<br>
<br>
It seems that the whole prevstring code is not really working properly. I'll try to remove it and just read from the file directly.<br>
<br>
edit1: At some earlier point in this thread it was said that strings are always smaller than 256 characters. Was this proven false? Or was this only for the directory tree? Because if all strings are shorter than 256 characters, all the checks followed by 4 byte size reading if they have a specific value are useless (what would lead to a much simplier function).<br>
<br>
edit2: also in extract00type, there is this if(size == 1). What is that for? Does strings with only one char exist in the wz files? Does it check if it's unicode or not?<br>
<br>
I am currently trying to reduce the extract00type to something like this:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>size = packnum
transStr(read(size))
</code></pre></div>

But I am not an Unicode expert. Is there anything to check if a string is Unicode or not? Because this must be clear, if it's Unicode we have to read(size*2), if it's only ASCII string we have to read(size).<br>
<br>
And what about the subsize? If I see this right that sequence is like<br>
[0xXX 0x80 byte,byte,byte,byte] in the longest case, but is always followed by a string.<br>
<br>
edit3: I made some researching on string storing:<br>
There is this class called BinaryReader. Don't know if this is part of the WinAPI or if this is just randomly in the common libraries of the languages, but many languages have it.<br>
This class has a method "ReadString()". It reads a sequence of bytes and returns a String. It has no parameters. The length of the String is stored in "7-Bit bytes" before the actual string. Like in the wz files.<br>
If the first Bit of the byte is set (0x80), the next byte is read, too. That goes on until the first bit of a byte is 0.<br>
Then all of the read bytes are added --&gt; you have the size. That's even better than our "packnum".<br>
If Wizet used this method for the strings in wz files it's actually pretty easy to read the strings (no "if if if else if if if else if else" stuff anymore).<br>
<br>
And if the Unicode is UTF-8 we also solved the problem with "size*2".<br>
<br>
I'll try around with that a bit. If it works this will be a large step in reading the strings. Then the functions transStr, tranStr16, extract00type, extract00typeAt, rUStr and rUStrAt could be combined to a small function called "readStr".<br>
<br>
edit4: I tried it --&gt; didn't worked. But I think Wizet used a similar encoding. The if(size = 127) makes me mad... Why is it suddenly 127 and not 128 anymore? I don't get Wizets ideas...<br>
On the one hand they tried to store values as compact as possible (packnum), but on the other hand they build in these unlogical (at least to me) things...</div>

			
			
									
						<div id='list_thanks21882'>
</div>
<div id='div_post_reput21882'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21894" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile21894">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/1758.html" class="username">Omega</a>							</dt>

						<dd class="profile-rank">advanced</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=1758&amp;sr=posts">56</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Aug 22, 2006 5:15 pm</dd>		
		
											    <dd class="profile-posts" data-user-give-id="1758"></dd>
    <dd class="profile-posts" data-user-receive-id="1758"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Omega">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Omega</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21894" title="Send private message">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																																																<a href="http://strategywiki.org/wiki/MapleStory" title="Website" class="last-cell">
										<span class="contact-icon phpbb_website-icon">Website</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21894">

					<h3 >
						<a href="./viewtopic.php?p=21894#p21894"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21894/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21894" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21894' href="./viewtopic.php?f=10&amp;p=21894&amp;thanks=21894&amp;to_id=1758&amp;from_id=123876" title="Say Thanks to the author of the post: Omega"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21894#p21894" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/1758.html" class="username">Omega</a></strong> &raquo; </span><time datetime="2007-07-12T01:22:37+00:00">Thu Jul 12, 2007 2:22 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>kolli wrote:</cite>If I change the prevString code so that it just returns what it has read from the file (and not from the saved array) it finds a 01072279.img in Weapon and in Shoes in Character.wz.<br>
But opposed to your example code at this point I'm not seeking in the file, just reading sequentially.<br>
<br>
With the prevstring code, this img is only in shoes.<br>
<br>
The only other wz file where this code is used is Map.wz. But I did not check what it finds/finds not in there.<br>
<br>
It seems that the whole prevstring code is not really working properly. I'll try to remove it and just read from the file directly.<br>
<br>
edit1: At some earlier point in this thread it was said that strings are always smaller than 256 characters. Was this proven false? Or was this only for the directory tree? Because if all strings are shorter than 256 characters, all the checks followed by 4 byte size reading if they have a specific value are useless (what would lead to a much simplier function).<br>
<br>
edit2: also in extract00type, there is this if(size == 1). What is that for? Does strings with only one char exist in the wz files? Does it check if it's unicode or not?<br>
<br>
I am currently trying to reduce the extract00type to something like this:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>size = packnum
transStr(read(size))
</code></pre></div>

But I am not an Unicode expert. Is there anything to check if a string is Unicode or not? Because this must be clear, if it's Unicode we have to read(size*2), if it's only ASCII string we have to read(size).<br>
<br>
And what about the subsize? If I see this right that sequence is like<br>
[0xXX 0x80 byte,byte,byte,byte] in the longest case, but is always followed by a string.<br>
<br>
edit3: I made some researching on string storing:<br>
There is this class called BinaryReader. Don't know if this is part of the WinAPI or if this is just randomly in the common libraries of the languages, but many languages have it.<br>
This class has a method "ReadString()". It reads a sequence of bytes and returns a String. It has no parameters. The length of the String is stored in "7-Bit bytes" before the actual string. Like in the wz files.<br>
If the first Bit of the byte is set (0x80), the next byte is read, too. That goes on until the first bit of a byte is 0.<br>
Then all of the read bytes are added --&gt; you have the size. That's even better than our "packnum".<br>
If Wizet used this method for the strings in wz files it's actually pretty easy to read the strings (no "if if if else if if if else if else" stuff anymore).<br>
<br>
And if the Unicode is UTF-8 we also solved the problem with "size*2".<br>
<br>
I'll try around with that a bit. If it works this will be a large step in reading the strings. Then the functions transStr, tranStr16, extract00type, extract00typeAt, rUStr and rUStrAt could be combined to a small function called "readStr".<br>
<br>
edit4: I tried it --&gt; didn't worked. But I think Wizet used a similar encoding. The if(size = 127) makes me mad... Why is it suddenly 127 and not 128 anymore? I don't get Wizets ideas...<br>
On the one hand they tried to store values as compact as possible (packnum), but on the other hand they build in these unlogical (at least to me) things...</div></blockquote>
All the previousstring stuff is rubbish and not needed.<br>
<br>
Not too sure what your example was saying, you'll have to be more specific.<br>
<br>
Dunno about that &lt;256 length thing, I think they can be as long as they need to be.<br>
<br>
Add a message for that size==1 thing and see if it's ever run.  I don't think I have it.<br>
<br>
I'll have to look into that binary reader thing, sounds cool.<br>
<br>
Except for that size==127, there is no way to tell the difference.  Unicode takes two bytes per character, regular takes 1 byte per character.<br>
<br>
Just to note that -128=0x80, 127=0x79, they're only really wasting 1 bit by doing things this way.</div>

			
			
									
						<div id='list_thanks21894'>
</div>
<div id='div_post_reput21894'>
</div>

							<div id="sig21894" class="signature"><a href="http://strategywiki.org/wiki/MapleStory" class="postlink">http://strategywiki.org/wiki/MapleStory</a><br>
MapleStory Wiki guide</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21899" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile21899">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/2721.html" class="username">kolli</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=2721&amp;sr=posts">15</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Apr 30, 2007 6:57 pm</dd>		
		
						    <dd class="profile-posts" data-user-give-id="2721"></dd>
    <dd class="profile-posts" data-user-receive-id="2721"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact kolli">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact kolli</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21899" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21899">

					<h3 >
						<a href="./viewtopic.php?p=21899#p21899"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21899/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21899" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21899' href="./viewtopic.php?f=10&amp;p=21899&amp;thanks=21899&amp;to_id=2721&amp;from_id=123876" title="Say Thanks to the author of the post: kolli"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21899#p21899" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/2721.html" class="username">kolli</a></strong> &raquo; </span><time datetime="2007-07-12T10:51:40+00:00">Thu Jul 12, 2007 11:51 am</time>
			</p>
			
			
			
			<div class="content">I try now to go through the files by hand. Maybe I make a new observation that helps to better the understanding of the files.<br>
<br>
And I already made a step:<br>
The first unknown value in the DirectoryTree of an img files: This is the Checksum-32:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>v = {
     "Name": baseName + "/" + filename,
     "Size": filesize,
     "Unk1": unknown1,  #### This is a Checksum-32
     "Unk2": unknown2
}
</code></pre></div>

I tried this in a hex editor that can calculate checksums. I copied the whole img files and stored it in a new file and let the hex editor calculate the Checksum-32 of it. It was the same as "Unk1".<br>
<br>
"type-3" directorys have no checksum (one byte with 0x00).<br>
<br>
Now I go for the second unknown value.<br>
<br>
edit: I don't know if this is important, but the second value seems alwys to be dividable by 8 (I picked some random ones). I tried this because I thought that this could also be a number of bytes or bits.<br>
But it could just be random.<br>
Another idea was, that Unk2 is not a 32bit value, but maybe 4 single bytes or two words or a [byte word byte] sequence. But I could not refer any value of these 4 bytes to any property of the img file.<br>
<br>
Maybe I'll put a new version of the dump.py up, when it's tested enough with the new results (renaming, removing the prevstring part, these small things). But I am testing everything in my Delphi application (what is mainly a copy of large parts of the Python script), that's why I almost never touched the script for testings until now.<br>
<br>
And I'll try to rewrite the whole extract00type from the beginning. Maybe I find a shorter version (shorter = faster and means less bugs possible)<br>
<br>
edit2:<br>
Ah.. now I understand what all the prevstring and subsize thing was for. The "link" (extract00typeAt) points to another, already existing file, because it has the same name (but other content). And the subsize reads the size from the name of this file again.<br>
I think with this knowledge I can rewrite all the string functions.<br>
<br>
edit3:<br>
So, here's a shorter code for the strings. But I am still not totally happy with that. But at least it's a lot cleaner than before. I tried it on String.wz (what should be the "ultimate" test fpr a string function <img class="smilies" src="./images/smilies/wink.gif" width="15" height="15" alt=";)" title="Wink"> )
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>def extract00typeAt(f, loc, baseOffset):
  pos = f.tell()
  f.seek(loc + baseOffset, 0)
  rU8(f)
  value = extract00type(f)
  f.seek(pos)
  return value

def extract00type(f):
  size = rS8(f)
  if(size == 0):
    return ""

  if(size &lt; 0):
    if(size == -128): size = rS32(f)
    else:             size = -size
    return transStr(f.read(size)) 
  
  if(size &gt; 0):
    if(size == 127): size = rS32(f)
    return transStr16(f.read(size*2))
</code></pre></div>

The size==1 thing isn't needed. If it's Unicode always 2 byte have to be read (what the function does). With the size==1 check the function either does reading two bytes and return the character or does reading the two bytes twice and return the character or the string.<br>
So this could be removed compeltly.<br>
My idea that it could be UTF-8 seemed false, by the way. It seems only to be either ASCII or the Basic Multilingual Plane of Unicode (what HTML uses, too) with the first ~65.000 characters (that also include the Korean Hanguel characters). So this seems fine.<br>
<br>
But besides that, I tried also some things with the two unknown bytes directly after the header. But found out nothing until now.<br>
But I can say that it's no 16 bit checksum or something like that, I tried a lot of combinations with that. And then all wz files should have different two bytes (what they don't have).<br>
My idea on that two bytes is, that they are an "internal" version check, so that the client recognizes, if the wz files are the correct ones for the Client version.<br>
<br>
edit4:<br>
If someone is interested in the checksum calculation:<br>
the mathematical form goes like that:<br>
Ckecksum = Sum(byte_0..byte_EOF) modulo 2^32<br>
<br>
In words: Sum up all bytes, devide that by 2^32 and take the modulo.</div>

			
			
									
						<div id='list_thanks21899'>
</div>
<div id='div_post_reput21899'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21929" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile21929">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/1758.html" class="username">Omega</a>							</dt>

						<dd class="profile-rank">advanced</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=1758&amp;sr=posts">56</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Aug 22, 2006 5:15 pm</dd>		
		
											    <dd class="profile-posts" data-user-give-id="1758"></dd>
    <dd class="profile-posts" data-user-receive-id="1758"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Omega">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Omega</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21929" title="Send private message">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																																																<a href="http://strategywiki.org/wiki/MapleStory" title="Website" class="last-cell">
										<span class="contact-icon phpbb_website-icon">Website</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21929">

					<h3 >
						<a href="./viewtopic.php?p=21929#p21929"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21929/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21929" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21929' href="./viewtopic.php?f=10&amp;p=21929&amp;thanks=21929&amp;to_id=1758&amp;from_id=123876" title="Say Thanks to the author of the post: Omega"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21929#p21929" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/1758.html" class="username">Omega</a></strong> &raquo; </span><time datetime="2007-07-13T01:42:45+00:00">Fri Jul 13, 2007 2:42 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>kolli wrote:</cite>I try now to go through the files by hand. Maybe I make a new observation that helps to better the understanding of the files.<br>
<br>
And I already made a step:<br>
The first unknown value in the DirectoryTree of an img files: This is the Checksum-32:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>v = {
     "Name": baseName + "/" + filename,
     "Size": filesize,
     "Unk1": unknown1,  #### This is a Checksum-32
     "Unk2": unknown2
}
</code></pre></div>

I tried this in a hex editor that can calculate checksums. I copied the whole img files and stored it in a new file and let the hex editor calculate the Checksum-32 of it. It was the same as "Unk1".<br>
<br>
"type-3" directorys have no checksum (one byte with 0x00).<br>
<br>
Now I go for the second unknown value.<br>
<br>
edit: I don't know if this is important, but the second value seems alwys to be dividable by 8 (I picked some random ones). I tried this because I thought that this could also be a number of bytes or bits.<br>
But it could just be random.<br>
Another idea was, that Unk2 is not a 32bit value, but maybe 4 single bytes or two words or a [byte word byte] sequence. But I could not refer any value of these 4 bytes to any property of the img file.<br>
<br>
Maybe I'll put a new version of the dump.py up, when it's tested enough with the new results (renaming, removing the prevstring part, these small things). But I am testing everything in my Delphi application (what is mainly a copy of large parts of the Python script), that's why I almost never touched the script for testings until now.<br>
<br>
And I'll try to rewrite the whole extract00type from the beginning. Maybe I find a shorter version (shorter = faster and means less bugs possible)<br>
<br>
edit2:<br>
Ah.. now I understand what all the prevstring and subsize thing was for. The "link" (extract00typeAt) points to another, already existing file, because it has the same name (but other content). And the subsize reads the size from the name of this file again.<br>
I think with this knowledge I can rewrite all the string functions.<br>
<br>
edit3:<br>
So, here's a shorter code for the strings. But I am still not totally happy with that. But at least it's a lot cleaner than before. I tried it on String.wz (what should be the "ultimate" test fpr a string function <img class="smilies" src="./images/smilies/wink.gif" width="15" height="15" alt=";)" title="Wink"> )
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>def extract00typeAt(f, loc, baseOffset):
  pos = f.tell()
  f.seek(loc + baseOffset, 0)
  rU8(f)
  value = extract00type(f)
  f.seek(pos)
  return value

def extract00type(f):
  size = rS8(f)
  if(size == 0):
    return ""

  if(size &lt; 0):
    if(size == -128): size = rS32(f)
    else:             size = -size
    return transStr(f.read(size)) 
  
  if(size &gt; 0):
    if(size == 127): size = rS32(f)
    return transStr16(f.read(size*2))
</code></pre></div>

The size==1 thing isn't needed. If it's Unicode always 2 byte have to be read (what the function does). With the size==1 check the function either does reading two bytes and return the character or does reading the two bytes twice and return the character or the string.<br>
So this could be removed compeltly.<br>
My idea that it could be UTF-8 seemed false, by the way. It seems only to be either ASCII or the Basic Multilingual Plane of Unicode (what HTML uses, too) with the first ~65.000 characters (that also include the Korean Hanguel characters). So this seems fine.<br>
<br>
But besides that, I tried also some things with the two unknown bytes directly after the header. But found out nothing until now.<br>
But I can say that it's no 16 bit checksum or something like that, I tried a lot of combinations with that. And then all wz files should have different two bytes (what they don't have).<br>
My idea on that two bytes is, that they are an "internal" version check, so that the client recognizes, if the wz files are the correct ones for the Client version.<br>
<br>
edit4:<br>
If someone is interested in the checksum calculation:<br>
the mathematical form goes like that:<br>
Ckecksum = Sum(byte_0..byte_EOF) modulo 2^32<br>
<br>
In words: Sum up all bytes, devide that by 2^32 and take the modulo.</div></blockquote>
Wow, nice work.  I knew it was a checksum, but good work figuring out the actual algorithm.  So, the function to calculate checksums would to just keep on adding and keep only the lower 32 bits.  Why couldn't they just use crc32 &gt;.&lt; (which I tried).<br>
<br>
The 2nd unk is really weird.  I think it's some kind of location because all the numbers changed when there was a new patch (unlike a checksum which wouldn't have changed unless the file was).  It's the only logical thing that is remaining to include.  <br>
<br>
For the two header bytes, The version was lambda and my guess as well.</div>

			
			
									
						<div id='list_thanks21929'>
</div>
<div id='div_post_reput21929'>
</div>

							<div id="sig21929" class="signature"><a href="http://strategywiki.org/wiki/MapleStory" class="postlink">http://strategywiki.org/wiki/MapleStory</a><br>
MapleStory Wiki guide</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21934" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile21934">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/2721.html" class="username">kolli</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=2721&amp;sr=posts">15</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Mon Apr 30, 2007 6:57 pm</dd>		
		
						    <dd class="profile-posts" data-user-give-id="2721"></dd>
    <dd class="profile-posts" data-user-receive-id="2721"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact kolli">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact kolli</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21934" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21934">

					<h3 >
						<a href="./viewtopic.php?p=21934#p21934"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21934/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21934" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21934' href="./viewtopic.php?f=10&amp;p=21934&amp;thanks=21934&amp;to_id=2721&amp;from_id=123876" title="Say Thanks to the author of the post: kolli"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21934#p21934" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/2721.html" class="username">kolli</a></strong> &raquo; </span><time datetime="2007-07-13T07:02:40+00:00">Fri Jul 13, 2007 8:02 am</time>
			</p>
			
			
			
			<div class="content">So, here is the new version with the updated names and the easy string extrcation.<br>
<br>
The new function includes all the stuff that is needed to read a string (only the transStr is seperarted, maybe I include that later).<br>
The parameters of the function are:<br>
 the file "f"<br>
 the integer "offset" (contains the offset from the parent block, if it's a link)<br>
 the bool link (must be true, when it's a link to an existing filename)<br>
 the bool pft (must be true, when called from extractDirectories)
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>def rStr(f, offset = 0, link = 0, pft = 0):
  if(link):
    loc = rS32(f)
    pos = f.tell()
    f.seek(loc + offset)
    if(pft): flag = rU8()
  size = rS8(f)
  if(size == 0): result = ""
  if(size &gt; 0):
    if(size == 127): size = rS32(f)
    result = transStr16(f.read(size*2))
  if(size &lt; 0):
    if(size == -128): size = rS32(f)
    else:             size = -size
    result = transStr(f.read(size))
  if(link): f.seek(pos)
  return result
</code></pre></div>

Now, finally for some new stuff. <img class="smilies" src="./images/smilies/%5Bcolon%5DD.gif" width="15" height="15" alt=":D" title="Very Happy"><br>
<br>
edit1:<br>
I came to a really logical idea, what the unk2 could be. But unfortunatly I yet do not know how/if it's encrypted.<br>
What properties do files normally have (besides the content)? Correct: a name, a size, a checksum (that's all there) and what else? A date! My only problem is now, that I couldn't figure out it's format. It's no Unix timestamp.<br>
I'll try around with that a bit, because this seems the only logical explanation for these bytes..<br>
<br>
edit2:<br>
I wrote a testing routine that saves all the infos about the imgs to txt files.<br>
Currently the last unk is displayed as a unsigned 32 bit integer, but that's not sure. It could also be a signed 32bit integer or something completly different.<br>
I uploded a pack of txt files that contain all the img headers from 0.39 from all wz files.<br>
Ah, you only can post 1 attachment... O included the txts in the old attachment.<br>
<br>
edit3:<br>
I checked around a bit with these numbers.... I tried also to display them as signed 32 bit integers --&gt; some of them get negative.<br>
My first idea, that they always can be devided by 8, is false. There were some, that can't.<br>
But still no progress, what they could mean. I still believe, it's some timestamp.</div>

			
							<dl class="attachbox">
					<dt>
						Attachments
					</dt>
											<dd>
			
		
		
				<dl class="file">
			<dt><span class="imageset icon_topic_attach"></span> <a class="postlink" href="./download/file.php?id=1262">dump.rar</a></dt>
			<dd><em>The &amp;quot;new&amp;quot; dump.py with an much more easier string extraction. Also the &amp;quot;Unk1&amp;quot; is now called &amp;quot;CS32&amp;quot;.<br />It includes another RAR file that has txt files in it that contain the header information of the img files.</em></dd>			<dd>(163.9 KiB) Downloaded 87 times</dd>
		</dl>
		
			</dd>
									</dl>
			
									
						<div id='list_thanks21934'>
</div>
<div id='div_post_reput21934'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p21954" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile21954">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="../Users/1758.html" class="username">Omega</a>							</dt>

						<dd class="profile-rank">advanced</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=1758&amp;sr=posts">56</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Aug 22, 2006 5:15 pm</dd>		
		
											    <dd class="profile-posts" data-user-give-id="1758"></dd>
    <dd class="profile-posts" data-user-receive-id="1758"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Omega">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Omega</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=21954" title="Send private message">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																																																<a href="http://strategywiki.org/wiki/MapleStory" title="Website" class="last-cell">
										<span class="contact-icon phpbb_website-icon">Website</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content21954">

					<h3 >
						<a href="./viewtopic.php?p=21954#p21954"></a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/21954/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=21954" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post21954' href="./viewtopic.php?f=10&amp;p=21954&amp;thanks=21954&amp;to_id=1758&amp;from_id=123876" title="Say Thanks to the author of the post: Omega"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=21954#p21954" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="../Users/1758.html" class="username">Omega</a></strong> &raquo; </span><time datetime="2007-07-14T00:02:30+00:00">Sat Jul 14, 2007 1:02 am</time>
			</p>
			
			
			
			<div class="content">I highly doubt it's a date.  A while back I had saved all the unk1 and unk2s, and then compared them to the after-patch values, and monitored which files changed.  The files which didn't change, unk1 stayed the same; the files which did change, unk1 changed as well.  The conclusion was that it was some kind of checksum (though it could also have been the date, should have thought of that).  unk2 on the other hand changed for every file, even those that were unpatched.  This is most likely not a date.  As you were going based on logic earlier, the date is completely useless from a gameplay perspective.  The name is required to reference other parts, the size is required to know what to read, the checksum is required for file integrity.  The only remaining thing that could be of use is a direct pointer to where the .img file is in the bigger data file.  I highly doubt they read through the data files sequentially.</div>

			
			
									
						<div id='list_thanks21954'>
</div>
<div id='div_post_reput21954'>
</div>

							<div id="sig21954" class="signature"><a href="http://strategywiki.org/wiki/MapleStory" class="postlink">http://strategywiki.org/wiki/MapleStory</a><br>
MapleStory Wiki guide</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	

	<div class="action-bar bar-bottom">
	
			<a href="./posting.php?mode=reply&amp;t=1753" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=10&amp;t=1753&amp;watch=topic&amp;start=285&amp;hash=1ecbde3d" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=10&amp;t=1753&amp;unwatch=topic&amp;start=285&amp;hash=1ecbde3d" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=1753&amp;start=285&amp;bookmark=1&amp;hash=1ecbde3d" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=1753" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=1753&amp;start=285&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="./viewtopic.php?t=1753&amp;start=285">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			516 posts
							<ul>
	<li class="dropdown-container dropdown-button-control dropdown-page-jump page-jump">
		<a class="button button-icon-only dropdown-trigger" href="#" title="Click to jump to page…" role="button"><i class="icon fa-level-down fa-rotate-270" aria-hidden="true"></i><span class="sr-only">Page <strong>20</strong> of <strong>35</strong></span></a>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
				<li>Jump to page:</li>
				<li class="page-jump-form">
					<input type="number" name="page-number" min="1" max="999999" title="Enter the page number you wish to go to" class="inputbox tiny" data-per-page="15" data-base-url=".&#x2F;viewtopic.php&#x3F;t&#x3D;1753" data-start-name="start" />
					<input class="button2" value="Go" type="button" />
				</li>
			</ul>
		</div>
	</li>
			<li class="arrow previous"><a class="button button-icon-only" href="./viewtopic.php?t=1753&amp;start=270" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="./1753.html" role="button">1</a></li>
			<li class="ellipsis" role="separator"><span>…</span></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=255" role="button">18</a></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=270" role="button">19</a></li>
			<li class="active"><span>20</span></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=300" role="button">21</a></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=315" role="button">22</a></li>
			<li class="ellipsis" role="separator"><span>…</span></li>
				<li><a class="button" href="./viewtopic.php?t=1753&amp;start=510" role="button">35</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="./viewtopic.php?t=1753&amp;start=300" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="./viewforum.php?f=10" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “Game Archive”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="../Forums/26 - XeNTaX - General Discussion.html" class="jumpbox-cat-link"> <span> General Discussion</span></a></li>
																<li><a href="./viewforum.php?f=22" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Holy Cow!</span></a></li>
																<li><a href="./viewforum.php?f=40" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game news</span></a></li>
																<li><a href="./viewforum.php?f=38" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Tech Tips</span></a></li>
																<li><a href="./viewforum.php?f=41" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Cool mods</span></a></li>
																<li><a href="./viewforum.php?f=28" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Website</span></a></li>
																<li><a href="./viewforum.php?f=24" class="jumpbox-cat-link"> <span> Game Modding</span></a></li>
																<li><a href="./viewforum.php?f=29" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="./viewforum.php?f=16" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; 3D/2D models</span></a></li>
																<li><a href="./viewforum.php?f=17" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Audio file formats</span></a></li>
																<li><a href="./viewforum.php?f=18" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Graphic file formats</span></a></li>
																<li><a href="./viewforum.php?f=36" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Video file formats</span></a></li>
																<li><a href="./viewforum.php?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Archive</span></a></li>
																<li><a href="./viewforum.php?f=21" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Compressed files and methods</span></a></li>
																<li><a href="./viewforum.php?f=13" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Code Talk</span></a></li>
																<li><a href="./viewforum.php?f=35" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Localization</span></a></li>
																<li><a href="./viewforum.php?f=30" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Savegames</span></a></li>
																<li><a href="./viewforum.php?f=15" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Old posts</span></a></li>
																<li><a href="./viewforum.php?f=37" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Retro games</span></a></li>
																<li><a href="./viewforum.php?f=25" class="jumpbox-cat-link"> <span> MultiEx Commander</span></a></li>
																<li><a href="./viewforum.php?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; News</span></a></li>
																<li><a href="./viewforum.php?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Plugins</span></a></li>
																<li><a href="./viewforum.php?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="./viewforum.php?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Miscellaneous</span></a></li>
																<li><a href="./viewforum.php?f=31" class="jumpbox-cat-link"> <span> Tools &amp; Programs</span></a></li>
																<li><a href="./viewforum.php?f=32" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game specific tools</span></a></li>
																<li><a href="./viewforum.php?f=33" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; General game tools</span></a></li>
											</ul>
		</div>
	</div>

	</div>


	<div class="stat-block online-list">
		<h3><a href="./viewonline.php">Who is online</a></h3>
		<p>Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Ahrefs [Bot]</span>, <a href="../Users/123876.html" class="username">escape209</a> and 6 guests</p>
	</div>

			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="../Navigation/index.html" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="UTC+1">UTC+01:00</span></li>
							<li class="rightside">
				<a href="./ucp.php?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
							<li class="rightside" data-last-responsive="true">
					<a href="./memberlist.php" title="View complete list of members" role="menuitem">
						<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
					</a>
				</li>
												<li class="rightside" data-last-responsive="true">
				<a href="./memberlist.php?mode=team" role="menuitem">
					<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
				</a>
			</li>
							</ul>

	</div>
</div>

	<div class="copyright">
				<p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row" role="menu">
			<a class="footer-link" href="./ucp.php?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="./ucp.php?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script src="./assets/javascript/jquery-3.6.0.min.js?assets_version=11"></script>
<script src="./assets/javascript/core.js?assets_version=11"></script>


<script type="text/javascript">
(function($) {  // Avoid conflicts with other libraries

'use strict';
	
	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="./ext/phpbb/boardannouncements/styles/all/template/js/boardannouncements.js?assets_version=11"></script>
<script src="./styles/prosilver/template/forum_fn.js?assets_version=11"></script>
<script src="./styles/prosilver/template/ajax.js?assets_version=11"></script>



</body>
</html>
