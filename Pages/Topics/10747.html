<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>blender import SCRIPT-&gt;3d max script - XeNTaX</title>


	<link rel="canonical" href="https://forum.xentax.com/viewtopic.php?t=10747">

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="./assets/css/font-awesome.min.css?assets_version=11" rel="stylesheet">
<link href="./styles/prosilver/theme/stylesheet.css?assets_version=11" rel="stylesheet">
<link href="./styles/prosilver/theme/en/stylesheet.css?assets_version=11" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/prosilver/theme/tweaks.css?assets_version=11" rel="stylesheet">
<![endif]-->


<link href="./ext/gfksx/thanksforposts/styles/prosilver/theme/thanks.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="./ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="./ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner_background.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="./ext/phpbb/boardannouncements/styles/all/theme/boardannouncements.css?assets_version=11" rel="stylesheet" media="screen" />



</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
		<a id="logo" class="logo" href="./index.php" title="Board index">
					<span class="site_logo"></span>
				</a>
				<h1>XeNTaX</h1>
				<p>Game Research Forum</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div class="banner-header">
	<div style="position:absolute; z-index:-100;">
	<h1>XeNTaX</h1>
	<p>Game Research Forum</p>
	<p class="skiplink"><a href="#start_here">Skip to content</a></p>
</div>
<div class="header-banner">
	<a href="./index.php" title="Board index"><img class="header-banner" style="border-radius:0px; width:1500px;" src="http://forum.xentax.com/images/gameresforum_logo_1.png" alt="Board index" ></a>
</div>
</div>

			</div>
					</div>
				<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
													<li>
								<a href="./search.php?search_id=egosearch" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Your posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=newposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>New posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=unreadposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>Unread posts</span>
								</a>
							</li>
													<li>
								<a href="./search.php?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="./search.php?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="./search.php" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
											<li class="separator"></li>
													<li>
								<a href="./memberlist.php" role="menuitem">
									<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
								</a>
							</li>
																			<li>
								<a href="./memberlist.php?mode=team" role="menuitem">
									<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
								</a>
							</li>
																<li class="separator"></li>

						<li>
		<a href="/app.php/toplist"  role="menuitem">
			<i class="icon fa-star-o fa-fw" aria-hidden="true"></i><span>Posts toplist</span>
		</a>
	</li>
	<li>
		<a href="/app.php/thankslist"  role="menuitem">
			<i class="icon fa-thumbs-o-up fa-fw" aria-hidden="true"></i><span>Thanks list</span>
		</a>
	</li>
				</ul>
			</div>
		</li>

				<li data-last-responsive="true">
			<a href="/app.php/help/faq" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
					<li id="username_logged_in" class="rightside " data-skip-responsive="true">
						<div class="header-profile dropdown-container">
				<a href="./ucp.php" class="header-avatar dropdown-trigger"> <span class="username">escape209</span></a>
				<div class="dropdown">
					<div class="pointer"><div class="pointer-inner"></div></div>
					<ul class="dropdown-contents" role="menu">
						
					
						<li>
							<a href="./ucp.php" title="User Control Panel" role="menuitem">
								<i class="icon fa-sliders fa-fw" aria-hidden="true"></i><span>User Control Panel</span>
							</a>
						</li>
													<li>
								<a href="./memberlist.php?mode=viewprofile&u=123876.html" title="Profile" role="menuitem">
									<i class="icon fa-user fa-fw" aria-hidden="true"></i><span>Profile</span>
								</a>
							</li>
						
						
						<li class="separator"></li>
						<li>
							<a href="./ucp.php?mode=logout&amp;sid=f03065a94e53d4183cf1d6f8f99502e7" title="Logout" accesskey="x" role="menuitem">
								<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Logout</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
					</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=pm&amp;folder=inbox" role="menuitem">
					<i class="icon fa-inbox fa-fw" aria-hidden="true"></i><span>Private messages </span><strong class="badge hidden">0</strong>
				</a>
			</li>
							<li class="dropdown-container dropdown-right rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=ucp_notifications" id="notification_list_button" class="dropdown-trigger">
					<i class="icon fa-bell fa-fw" aria-hidden="true"></i><span>Notifications </span><strong class="badge hidden">0</strong>
				</a>
				<div id="notification_list" class="dropdown dropdown-extended notification_list">
	<div class="pointer"><div class="pointer-inner"></div></div>
	<div class="dropdown-contents">
		<div class="header">
			Notifications
			<span class="header_settings">
				<a href="./ucp.php?i=ucp_notifications&amp;mode=notification_options">Settings</a>
							</span>
		</div>

		<ul>
							<li class="no_notifications">
					You have no notifications
				</li>
								</ul>

		<div class="footer">
			<a href="./ucp.php?i=ucp_notifications"><span>See All</span></a>
		</div>
	</div>
</div>
			</li>
						</ul>

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
				
		
		<li class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">

			
							<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope><a itemprop="item" href="./index.php" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1" /></span>

											
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="24"><a itemprop="item" href="./viewforum.php?f=24"><span itemprop="name">Game Modding</span></a><meta itemprop="position" content="2" /></span>
															
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="16"><a itemprop="item" href="./viewforum.php?f=16"><span itemprop="name">3D/2D models</span></a><meta itemprop="position" content="3" /></span>
							
					</li>

		<li class="rightside responsive-search">
	<a href="./search.php" title="View the advanced search options" role="menuitem">
	<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
	</a>
</li>

			</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
					<div id="phpbb_announcement" style="background-color:#d9efff">
				<div><strong class="text-strong"><span style="color:#00BF00"><span style="font-size:120%;line-height:116%">Important information: this site is currently <a href="https://forum.xentax.com/viewtopic.php?t=27281" class="postlink">scheduled to go offline indefinitely</a> by end of the year. </span></span></strong></div>
	</div>

<h2 class="topic-title"><a href="./10747.html">blender import SCRIPT-&gt;3d max script</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Post questions about game models here, or help out others!<br /></div>

	<div class="rules rules-link">
		<div class="inner">

					<a href="http://forum.xentax.com/viewtopic.php?f=28&amp;t=1270">Forum rules</a>
		
		</div>
	</div>

<div class="action-bar bar-top">
	
			<a href="./posting.php?mode=reply&amp;t=10747" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=16&amp;t=10747&amp;watch=topic&amp;start=0&amp;hash=85c6d973" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=16&amp;t=10747&amp;unwatch=topic&amp;start=0&amp;hash=85c6d973" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=10747&amp;bookmark=1&amp;hash=85c6d973" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=10747" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=10747&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="./search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="./search.php" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="10747" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			2 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
		</div>




			<div id="p87835" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile87835">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=44464.html" class="username">elenadg</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44464&amp;sr=posts">18</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Apr 16, 2013 1:25 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44464"></dd>
    <dd class="profile-posts" data-user-receive-id="44464"></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact elenadg">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact elenadg</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=87835" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content87835">

					<h3 class="first">
						<a href="./viewtopic.php?p=87835#p87835">blender import SCRIPT-&gt;3d max script</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/87835/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=87835" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post87835' href="./viewtopic.php?f=16&amp;p=87835&amp;thanks=87835&amp;to_id=44464&amp;from_id=123876" title="Say Thanks to the author of the post: elenadg"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=87835#p87835" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=44464.html" class="username">elenadg</a></strong> &raquo; </span><time datetime="2013-09-03T21:24:29+00:00">Tue Sep 03, 2013 10:24 pm</time>
			</p>
			
			
			
			<div class="content"><a href="http://s951.photobucket.com/user/ldd209/media/K-609_zpsefba05a2.jpg.html" class="postlink"><img src="http://i951.photobucket.com/albums/ad351/ldd209/K-609_zpsefba05a2.jpg" class="postimage" alt="Image"></a><br>
<br>
blender import SCRIPT-&gt;3d max DW7 script help~<br>
<br>
3D MAX 2012 / SCRIPT -&gt; DW7 -&gt;UV ERROR?<br>
<br>
<br>
file<br>
<br>
texture file: file-G1T<br>
<a href="http://www.mediafire.com/?ywfw7e4wu7a4k43" class="postlink">http://www.mediafire.com/?ywfw7e4wu7a4k43</a><br>
<br>
<br>
character modeling file: file-elixir(ez)<br>
<a href="http://www.mediafire.com/?7q6eb4ufuaq24em" class="postlink">http://www.mediafire.com/?7q6eb4ufuaq24em</a><br>
<br>
I can't do it.<br>
<br>
Please tell us blender <img class="smilies" src="./images/smilies/%5Bcolon%5Dcry.gif" width="15" height="15" alt=":cry:" title="Crying or Very sad"> <br>
<br>
3d max script want I'm asking<br>
<br>
<a href="mailto:until43636599@gmail.com">until43636599@gmail.com</a><br>
<br>
howfie blender import script code<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>#
# PYTHON IMPORTS
#
import array
import collections
import math
import os
import struct
import sys

#
# BLENDER IMPORTS
#
import Blender
from Blender import Image
from Blender import Material
from Blender import Modifier
from Blender import Mathutils
from Blender.Mathutils import *
from Blender import Texture
from Blender import Window
import bpy

#
# MATH UTILITIES
#

def Array4x4ToBlenderMatrix(data):

	r1 = [data[ 0], data[ 1], data[ 2], data[ 3]]
	r2 = [data[ 4], data[ 5], data[ 6], data[ 7]]
	r3 = [data[ 8], data[ 9], data[10], data[11]]
	r4 = [data[12], data[13], data[14], data[15]]
	return Blender.Mathutils.Matrix(r1, r2, r3, r4)

def NormalizeVector(data):

	norm = math.sqrt(data[0]*data[0] + data[1]*data[1] + data[2]*data[2])
	temp = [data[0]/norm, data[1]/norm, data[2]/norm]
	return temp
		
#
# STRING UTILITIES
#

def StripNullsFromStr(str):
	'''
	Strips null characters from a string.
	Notes: Blender does not like strings that contain null characters. This can
	happen when we load strings from binary files that were created using lang-
	uages such as C or C++.
	'''
	# make a copy, removing null characters
	retval = ''
	for c in str:
		if c != '\x00':
			retval += c
	return retval

#
# INPUT FILE STREAM
#

class InputFileStream:
	'''
	'''

	# CONSTRUCTOR
	def __init__(self):
		
		pass
	
	# PUBLIC METHOD: OPEN
	def open(self, filename):
		
		# open file
		try: self.ifile = open(filename, "rb")
		except: raise Exception('SMC Import Error: Failed to open file.')

	# PUBLIC METHOD: TELL
	def tell(self):
	
		return self.ifile.tell()
		
	# PUBLIC METHOD: SEEK
	def seek(self, position):
	
		# seek position
		self.ifile.seek(position)
		
	# PUBLIC METHOD: SKIP
	def skip(self, offset):
	
		# seek position
		self.ifile.seek(offset, 1)

	# PUBLIC METHOD: READ STRING
	def read_string(self, n):
	
		tmp = array.array('c')
		tmp.fromfile(self.ifile, n)
		ret = ''.join(tmp)
		return StripNullsFromStr(ret)
	
	# PUBLIC METHOD: READ UINT08
	def LE_read_uint08(self):
		
		tmp = self.ifile.read(1)
		if len(tmp) == 1: return struct.unpack('&lt;B', tmp)[0];
		raise EOFError()

	# PUBLIC METHOD: READ UINT16
	def LE_read_uint16(self):
		
		tmp = self.ifile.read(2)
		if len(tmp) == 2: return struct.unpack('&lt;H', tmp)[0];
		raise EOFError()

	# PUBLIC METHOD: READ UINT32
	def LE_read_uint32(self):
		
		tmp = self.ifile.read(4);
		if len(tmp) == 4: return struct.unpack('&lt;I', tmp)[0];
		raise EOFError()

	# PUBLIC METHOD: READ UINT64
	def LE_read_uint64(self):
		
		tmp = self.ifile.read(8);
		if len(tmp) == 8: return struct.unpack('&lt;Q', tmp)[0];
		raise EOFError()

	# PUBLIC METHOD: READ UINT08 ARRAY
	def LE_read_uint08_array(self, n):

		if(n == 0): raise Exception('SMC Import Error: Arrays must have at least one item.')
		ret = array.array('B')
		ret.fromfile(self.ifile, n)
		return ret;
		
	# PUBLIC METHOD: READ UINT16 ARRAY
	def LE_read_uint16_array(self, n):

		if(n == 0): raise Exception('SMC Import Error: Arrays must have at least one item.')
		ret = array.array('H')
		ret.fromfile(self.ifile, n)
		if sys.byteorder == "big": ret.byteswap()
		return ret;

	# PUBLIC METHOD: READ UINT32 ARRAY
	def LE_read_uint32_array(self, n):

		if(n == 0): raise Exception('SMC Import Error: Arrays must have at least one item.')		
		ret = array.array('I')
		ret.fromfile(self.ifile, n)
		if sys.byteorder == "big": ret.byteswap()
		return ret;
	
	# PUBLIC METHOD: READ UINT64 ARRAY
	def LE_read_uint64_array(self, n):

		if(n == 0): raise Exception('SMC Import Error: Arrays must have at least one item.')
		ret = array.array('Q')
		ret.fromfile(self.ifile, n)
		if sys.byteorder == "big": ret.byteswap()
		return ret;

	# PUBLIC METHOD: READ REAL32
	def LE_read_real32(self):
		
		tmp = self.ifile.read(4);
		if len(tmp) == 4: return struct.unpack('&lt;f', tmp)[0];
		raise EOFError()

	# PUBLIC METHOD: READ REAL64
	def LE_read_real64(self):
		
		tmp = self.ifile.read(8);
		if len(tmp) == 8: return struct.unpack('&lt;d', tmp)[0];
		raise EOFError()

	# PUBLIC METHOD: READ REAL32 ARRAY
	def LE_read_real32_array(self, n):

		if(n == 0): raise Exception('SMC Import Error: Arrays must have at least one item.')		
		ret = array.array('f')
		ret.fromfile(self.ifile, n)
		if sys.byteorder == "big": ret.byteswap()
		return ret;
	
	# PUBLIC METHOD: READ REAL64 ARRAY
	def LE_read_real64_array(self, n):
		
		if(n == 0): raise Exception('SMC Import Error: Arrays must have at least one item.')
		ret = array.array('d')
		ret.fromfile(self.ifile, n)
		if sys.byteorder == "big": ret.byteswap()
		return ret;

#
# STRUCTURES
#

class SMCHEADER:
	# uint32 magic
	# uint16 major_version
	# uint16 minor_version
	# uint32 n_vbuffers
	# uint32 n_ibuffers
	# uint32 n_images
	# uint32 n_surfaces
	# uint32 n_surfmats
	# uint32 n_skeletons
	# uint32 n_animations
	# uint32 reserved1
	# uint32 reserved2
	# uint32 reserved3
	# uint32 reserved4
	# uint32 reserved5
	# uint32 reserved6
	# uint32 reserved7
	pass

class SMCVTXBUFFER:
	# uint32 flags
	# string name
	# uint16 uvchan
	# uint16 uvtype[i]
	# uint16 colors
	# uint32 elem
	# real32 positions[[]]
	# real32 normals[[]]
	# real32 tangents[[]]
	# real32 binormals[[]]
	# real32 blendweights[[]]
	# uint16 blendindices[[]]
	# real32 texcoords[[]]
	# real32 vtxcolors[[]]
	pass

class SMCIDXBUFFER:
	# uint08 format
	# uint08 primitive
	# uint08 direction
	# string name
	# uint32 elem
	# T data[]
	pass

class SMCSURFMAT:
	# string name
	# uint08 twoside
	# uint08 unused1
	# uint08 unused2
	# uint08 unused3
	# uint16 basemap
	# uint16 specmap
	# uint16 tranmap
	# uint16 bumpmap
	# uint16 normmap
	# uint16 lgthmap
	# uint16 envimap
	# uint16 glssmap
	# uint16 resmap1
	# uint16 resmap2
	# uint16 resmap3
	# uint16 resmap4
	# uint16 resmap5
	# uint16 resmap6
	# uint16 resmap7
	# uint16 resmap8
	# uint08 basemapchan
	# uint08 specmapchan
	# uint08 tranmapchan
	# uint08 bumpmapchan
	# uint08 normmapchan
	# uint08 lghtmapchan
	# uint08 envimapchan
	# uint08 glssmapchan
	# uint08 resmapchan1
	# uint08 resmapchan2
	# uint08 resmapchan3
	# uint08 resmapchan4
	# uint08 resmapchan5
	# uint08 resmapchan6
	# uint08 resmapchan7
	# uint08 resmapchan8
	pass

class SMCSURFACE:
	# string name
	# uint32 references
	# SMCREFERENCE reflist[]
	# uint16 surfmat
	pass

class SMCSURFREF:
	# uint32 vb_index
	# uint32 vb_start
	# uint32 vb_width
	# uint32 ib_index
	# uint32 ib_start
	# uint32 ib_width
	# uint32 jm_index
	pass

class SMCJOINT:
	# string name
	# uint32 id
	# uint32 parent
	# real32 matrix[16]
	# real32 quaternion[4]
	# real32 position[4]
	pass

class SMCJOINTNODE:
	# Blender.Mathutils.Vector p_world
	# Blender.Mathutils.Matrix m_world
	pass

class SMCSKELETON:
	# uint16 format
	# real32 tiplen (optional)
	# string name
	# uint32 n_joints
	# SMCJOINT joints[]
	pass

#
# JOINT TRAVERSAL CLASS
#
class SMCJointVisitor:

	# dictionary self.jntmap[joint_id] -&gt; [jnt_index, [list of children joint ids]];
	# SMCSKELETON self.skeleton;
	# SMCJOINT self.joints[];
	# Blender.Armature self.armature;

	DEFAULT_JOINT_LENGTH = 0.1
	
	# CONSTRUCTOR
	def __init__(self, jntmap, skeleton, armature):
		"""
		
		"""
		
		self.jntmap = jntmap
		self.joints = skeleton.joints
		self.secmap = {}
		self.skeleton = skeleton
		self.armature = armature
	
	# PUBLIC METHOD: VISIT
	def visit(self, jntid, parentBone):
		"""
		Visits a joint node and recursively visits child joints.
		node -&gt; The uint32 identifier of the node to visit.
		"""
		
		# joint must be present
		if not(jntid in self.jntmap):
			raise Exception('SMC Import Error: Joint identifier not found.')
		
		# tree must not be cyclic and joints cannot have multiple parents
		# each one of these conditions would cause us to process the same
		# joint more than once during depth first search
		if jntid in self.secmap:
			raise Exception('SMC Import Error: Invalid joint tree.')
		
		#
		nodedata = self.jntmap[jntid]
		jntindex = nodedata[0]
		children = nodedata[1]

		# if parent joint exists
		jntdata = self.joints[jntindex]
		jntnode = SMCJOINTNODE()
		if jntdata.parent != SMC.INVALID_JOINT:

			# secondary parent data must exist
			parent_id = jntdata.parent
			if not(parent_id in self.secmap):
				raise Exception('SMC Import Error: Invalid joint tree; secondary parent data is missing.')

			# get parent data
			pardata = self.joints[self.jntmap[parent_id][0]]
			parnode = self.secmap[parent_id]

			# get matrix (child)
			matrix = Array4x4ToBlenderMatrix(jntdata.matrix)
			matrix[0][3] = jntdata.position[0]
			matrix[1][3] = jntdata.position[1]
			matrix[2][3] = jntdata.position[2]

			# compute joint position in world coordinates
			if self.skeleton.format &amp; SMC.JOINT_FORMAT_ABSOLUTE:
				jntnode.m_world = matrix
			else:
				jntnode.m_world = parnode.m_world * matrix

			# joint coordinate system
			x = [matrix[0][0], matrix[0][1], matrix[0][2]]
			y = [matrix[1][0], matrix[1][1], matrix[1][2]]
			z = [matrix[2][0], matrix[2][1], matrix[2][2]]
			joint_X_axis = Blender.Mathutils.Vector(NormalizeVector(x))
			joint_Y_axis = Blender.Mathutils.Vector(NormalizeVector(y))
			joint_Z_axis = Blender.Mathutils.Vector(NormalizeVector(z))
			
			# joint position
			jntnode.p_world = Blender.Mathutils.Vector([0.0, 0.0, 0.0])
			jntnode.p_world[0] = jntnode.m_world[0][3]
			jntnode.p_world[1] = jntnode.m_world[1][3]
			jntnode.p_world[2] = jntnode.m_world[2][3]

			# create blender bone
			bone = Blender.Armature.Editbone()
			bone.head = jntnode.p_world
			bone.tail = jntnode.p_world + SMCJointVisitor.DEFAULT_JOINT_LENGTH*joint_X_axis
			bone.roll = 0
			if parentBone != None: bone.parent = parentBone
			
			# assign bone to armature
			bonename = jntdata.name
			self.armature.bones[bonename] = bone

			# insert joint into secondary map
			self.secmap[jntid] = jntnode
			
			# recursively visit children
			for child in children:
				self.visit(child, bone)
				
		# parent joint does not exists
		else:

			# get joint matrix
			matrix = Array4x4ToBlenderMatrix(jntdata.matrix)
			matrix[0][3] = jntdata.position[0]
			matrix[1][3] = jntdata.position[1]
			matrix[2][3] = jntdata.position[2]
			matrix[3][3] = 1.0
			
			# set joint's orientation in world space
			jntnode.m_world = matrix

			# set joint's position in world space
			jntnode.p_world = Blender.Mathutils.Vector([0.0, 0.0, 0.0])
			jntnode.p_world[0] = jntdata.position[0]
			jntnode.p_world[1] = jntdata.position[1]
			jntnode.p_world[2] = jntdata.position[2]

			# get joint coordinate system
			x = [matrix[0][0], matrix[0][1], matrix[0][2]]
			y = [matrix[1][0], matrix[1][1], matrix[1][2]]
			z = [matrix[2][0], matrix[2][1], matrix[2][2]]
			joint_X_axis = Blender.Mathutils.Vector(NormalizeVector(x))
			joint_Y_axis = Blender.Mathutils.Vector(NormalizeVector(y))
			joint_Z_axis = Blender.Mathutils.Vector(NormalizeVector(z))
			
			# create blender bone
			bone = Blender.Armature.Editbone()
			bone.head = jntnode.p_world
			bone.tail = jntnode.p_world + SMCJointVisitor.DEFAULT_JOINT_LENGTH*joint_X_axis
			bone.roll = 0
			
			# assign bone to armature
			bonename = jntdata.name
			self.armature.bones[bonename] = bone
			
			# insert joint into secondary map
			self.secmap[jntid] = jntnode
			
			# recursively visit children
			for child in children:
				self.visit(child, bone)
			
#
# IMPORT SMC CLASS
#

class SMC:

	# CONSTANTS (VERTEX BUFFER FLAGS)
	VERTEX_POSITION = 0x01
	VERTEX_NORMAL   = 0x02
	VERTEX_TANGENT  = 0x04
	VERTEX_BINORMAL = 0x08
	VERTEX_WEIGHTS  = 0x10
	VERTEX_UV       = 0x20
	VERTEX_COLORS   = 0x40
	VERTEX_SKELETON = 0x80
	
	# CONSTANTS (INDEX BUFFER INDEX FORMAT)
	UINT08 = 0x00
	UINT16 = 0x01
	UINT32 = 0x02

	# CONSTANTS (INDEX BUFFER PRIMITIVE TYPE)
	TRIANGLES   = 0x00
	TRISTRIP    = 0x01
	TRISTRIPCUT = 0x02
	
	# CONSTANTS (INDEX BUFFER WINDING ORDER)
	CW  = 0x00
	CCW = 0x01
	
	# CONSTANTS (INVALID VALUES)
	INVALID_SURFMAT    = 0xFFFF
	INVALID_TEXTURE    = 0xFFFF
	INVALID_BLENDINDEX = 0xFFFF
	INVALID_JOINT      = 0xFFFFFFFF
	INVALID_INDEX      = 0xFFFFFFFF
	INVALID_JMAP_INDEX = 0xFFFFFFFF

	# CONSTANTS (TEXTURE MAPS)
	DIFFUSE_MAP     = 0x0001
	SPECULAR_MAP    = 0x0002
	BUMP_MAP        = 0x0004
	NORMAL_MAP      = 0x0008
	ALPHA_MAP       = 0x0010
	LIGHT_MAP       = 0x0020
	GLOSS_MAP       = 0x0040
	ENVIRONMENT_MAP = 0x0080
	INVALID_MAP     = 0x8000
	
	# CONSTANTS (SKELETONS)
	JOINT_FORMAT_ABSOLUTE   = 0x0001
	JOINT_FORMAT_RELATIVE   = 0x0002
	JOINT_FORMAT_MATRIX     = 0x0004
	JOINT_FORMAT_QUATERNION = 0x0008
	JOINT_FORMAT_TIP_LENGTH = 0x0010
	JOINT_FORMAT_X_BONEAXIS = 0x0020
	JOINT_FORMAT_Y_BONEAXIS = 0x0040
	JOINT_FORMAT_Z_BONEAXIS = 0x0080
	
class SMCImporter:

	# CONSTRUCTOR
	def __init__(self):
		
		self.flip_U = False
		self.flip_V = True

	# PRIVATE METHOD:
	def __readString(self, defaultValue):

		# validate length of default value
		if len(defaultValue) == 0:
			raise Exception('SMC Import Error: Default string values cannot be null.')
			
		# read length
		namelen = self.ifile.LE_read_uint32()
		if namelen == 0: return defaultValue
		
		# excessively long string
		if namelen &gt; 0xFF:
			raise Exception('SMC Import Error: The maximum length for all names is 255 characters.')

		# read string
		name = self.ifile.read_string(namelen)
		if len(name) &lt; 1: raise Exception('SMC Import Error: String values cannot be null.')
		
		# return string
		return name
		
	# PRIVATE METHOD: 
	def __processSMCHeader(self):

		# read magic number
		self.header = SMCHEADER()
		self.header.magic = self.ifile.LE_read_uint32()
		if self.header.magic != 0x20434D53: raise Exception('SMC Import Error: Invalid SMC file.')
		
		# read version
		self.header.major_version = self.ifile.LE_read_uint16()
		self.header.minor_version = self.ifile.LE_read_uint16()
		if self.header.major_version != 0x01:
			raise Exception('SMC Import Error: Script is meant for SMC files of versions 1.0 and lower.')
		if self.header.minor_version != 0x00:
			raise Exception('SMC Import Error: Script is meant for SMC files of versions 1.0 and lower.')
		
		# read number of buffers
		self.header.n_vbuffers = self.ifile.LE_read_uint32()
		self.header.n_ibuffers = self.ifile.LE_read_uint32()
		
		# read number of images
		self.header.n_images = self.ifile.LE_read_uint32()
		
		# read number of surfaces and materials
		self.header.n_surfaces = self.ifile.LE_read_uint32()
		self.header.n_surfmats = self.ifile.LE_read_uint32()
		
		# read number of skeletons
		self.header.n_skeletons = self.ifile.LE_read_uint32()
		if (self.header.n_skeletons != 0 and self.header.n_skeletons != 1):
			raise Exception('SMC Import Error: Invalid number of skeletons; this value must be 0 or 1.')

		# read number of joint maps
		self.header.n_jointmaps = self.ifile.LE_read_uint32()
			
		# read number of animations
		self.header.n_animations = self.ifile.LE_read_uint32()
		if self.header.n_animations != 0:
			raise Exception('SMC Import Error: Animations are not yet supported.')
		
		# read reserved values
		self.header.reserved1 = self.ifile.LE_read_uint32()
		self.header.reserved2 = self.ifile.LE_read_uint32()
		self.header.reserved3 = self.ifile.LE_read_uint32()
		self.header.reserved4 = self.ifile.LE_read_uint32()
		self.header.reserved5 = self.ifile.LE_read_uint32()
		self.header.reserved6 = self.ifile.LE_read_uint32()

		return True
	
	# PRIVATE METHOD: 
	def __processFileList(self):

		# construct filelist
		self.images = []
		for i in range(self.header.n_images):
			namelen = self.ifile.LE_read_uint32()
			if namelen &lt; 0x001: raise Exception('SMC Import Error: Invalid filename.')
			if namelen &gt; 0x400: raise Exception('SMC Import Error: Invalid filename.')
			namedat = self.ifile.read_string(namelen)
			self.images.append(namedat)
		
		return True

	# PRIVATE METHOD: 
	def __processVBuffers(self):

		# initialize vertex buffer list
		self.vblist = []
		
		# for each vertex buffer
		for i in range(self.header.n_vbuffers):
			
			# read vertex buffer flags
			vb = SMCVTXBUFFER()
			vb.flags = self.ifile.LE_read_uint32()
			
			# read vertex buffer name
			len = self.ifile.LE_read_uint32()
			if (len &lt; 0x01) or (len &gt; 0xFF): raise Exception('SMC Import Error: Invalid vertex buffer name.')
			vb.name = self.ifile.read_string(len)
		
			# read number and type of texture channels
			vb.uvchan = self.ifile.LE_read_uint16()
			if vb.uvchan &gt; 8: raise Exception('SMC Import Error: Invalid number of UV channels.')
			vb.uvtype = self.ifile.LE_read_uint16_array(8)

			# read number of color channels
			vb.colors = self.ifile.LE_read_uint16()
			if vb.colors &gt; 8: raise Exception('SMC Import Error: Invalid number of color channels.')

			# read number of vertices
			vb.elem = self.ifile.LE_read_uint32()
			if vb.elem == 0: raise Exception('SMC Import Error: Vertex buffers must have at least one vertex.')

			# initialize vertex data
			vb.positions = []
			vb.normals = []
			vb.tangents = []
			vb.binormals = []
			vb.blendweights = []
			vb.blendindices = []
			vb.texcoords = [[], [], [], [], [], [], [], []]
			vb.vtxcolors = [[], [], [], [], [], [], [], []]

			# read vertices
			vb.data = []
			for j in range(vb.elem):

				# read position
				if (vb.flags &amp; SMC.VERTEX_POSITION):
					vb.positions.append(self.ifile.LE_read_real32_array(3))

				# read normal
				if (vb.flags &amp; SMC.VERTEX_NORMAL):
					vb.normals.append(self.ifile.LE_read_real32_array(3))

				# read tangent
				if (vb.flags &amp; SMC.VERTEX_TANGENT):
					vb.tangents.append(self.ifile.LE_read_real32_array(3))

				# read binormal
				if (vb.flags &amp; SMC.VERTEX_BINORMAL):
					vb.binormals.append(self.ifile.LE_read_real32_array(3))

				# read blend weights
				if (vb.flags &amp; SMC.VERTEX_WEIGHTS):
					vb.blendweights.append(self.ifile.LE_read_real32_array(8))
					vb.blendindices.append(self.ifile.LE_read_uint16_array(8))

				# read texture coordinates
				if (vb.flags &amp; SMC.VERTEX_UV):
					for k in range(vb.uvchan):
						tmp = self.ifile.LE_read_real32_array(2)
						if self.flip_U: tmp[0] = 1.0 - tmp[0]
						if self.flip_V: tmp[1] = 1.0 - tmp[1]
						vb.texcoords[k].append(tmp)

				# read vertex colors
				if (vb.flags &amp; SMC.VERTEX_COLORS):
					for k in range(vb.colors):
						tmp = self.ifile.LE_read_real32_array(4)
						vb.vtxcolors[k].append(tmp)

			# append vertex buffer
			self.vblist.append(vb)

		return True

	# PRIVATE METHOD: 
	def __processIBuffers(self):

		# initialize index buffer list
		self.iblist = []

		# for each index buffer
		for i in range(self.header.n_ibuffers):

			# read index buffer format
			ib = SMCIDXBUFFER()
			ib.format = self.ifile.LE_read_uint08()
			if (ib.format &lt; SMC.UINT08) or (ib.format &gt; SMC.UINT32):
				raise Exception('SMC Import Error: Invalid index buffer format.')

			# read index buffer primitive type
			ib.primitive = self.ifile.LE_read_uint08()
			if (ib.primitive &lt; SMC.TRIANGLES) or (ib.primitive &gt; SMC.TRISTRIPCUT):
				raise Exception('SMC Import Error: Invalid index buffer primitive type.')

			# read winding order
			ib.direction = self.ifile.LE_read_uint08()
			if (ib.direction != SMC.CW) and (ib.direction != SMC.CCW):
				ss = 'SMC Import Error: Invalid winding order ' + str(ib.direction) + ' at ' + str(self.ifile.tell()) + '.'
				raise Exception(ss)

			# read reserved byte
			ib.reserved = self.ifile.LE_read_uint08()
			if ib.reserved != 0: ib.reserved = 0				
				
			# read index buffer name
			len = self.ifile.LE_read_uint32()
			if (len &lt; 0x01) or (len &gt; 0xFF): raise Exception('SMC Import Error: Invalid index buffer name.')
			ib.name = self.ifile.read_string(len)

			# read number of indices
			ib.elem = self.ifile.LE_read_uint32()
			ib.data = []

			# read indices
			if ib.elem &gt; 0:
				if ib.format == SMC.UINT08:
					ib.data = self.ifile.LE_read_uint08_array(ib.elem)
				elif ib.format == SMC.UINT16:
					ib.data = self.ifile.LE_read_uint16_array(ib.elem)
				elif ib.format == SMC.UINT32:
					ib.data = self.ifile.LE_read_uint32_array(ib.elem)

			# read extra byte for odd number of AMC_UINT08 indices
			if (ib.format == SMC.UINT08) and (ib.elem % 2 == 1):
				self.ifile.skip(1)			
			
			# append index buffer
			self.iblist.append(ib)

		return True

	# PRIVATE METHOD: 
	def __processSurfmats(self):

		# initialize material list
		self.surfmats = []
		
		# for each material
		for i in range(self.header.n_surfmats):

			# read material name
			sm = SMCSURFMAT()
			len = self.ifile.LE_read_uint32()
			if (len &lt; 0x01) or (len &gt; 0xFF): raise Exception('SMC Import Error: Invalid material name.')
			sm.name = self.ifile.read_string(len)

			# read material properties
			sm.twoside = self.ifile.LE_read_uint08()
			sm.unused1 = self.ifile.LE_read_uint08()
			sm.unused2 = self.ifile.LE_read_uint08()
			sm.unused3 = self.ifile.LE_read_uint08()
			
			# read texture references
			sm.basemap = self.ifile.LE_read_uint16()
			sm.specmap = self.ifile.LE_read_uint16()
			sm.tranmap = self.ifile.LE_read_uint16()
			sm.bumpmap = self.ifile.LE_read_uint16()
			sm.normmap = self.ifile.LE_read_uint16()
			sm.lgthmap = self.ifile.LE_read_uint16()
			sm.envimap = self.ifile.LE_read_uint16()
			sm.glssmap = self.ifile.LE_read_uint16()
			sm.resmap1 = self.ifile.LE_read_uint16()
			sm.resmap2 = self.ifile.LE_read_uint16()
			sm.resmap3 = self.ifile.LE_read_uint16()
			sm.resmap4 = self.ifile.LE_read_uint16()
			sm.resmap5 = self.ifile.LE_read_uint16()
			sm.resmap6 = self.ifile.LE_read_uint16()
			sm.resmap7 = self.ifile.LE_read_uint16()
			sm.resmap8 = self.ifile.LE_read_uint16()
			
			# read texture channel references
			sm.basemapchan = self.ifile.LE_read_uint08()
			sm.specmapchan = self.ifile.LE_read_uint08()
			sm.tranmapchan = self.ifile.LE_read_uint08()
			sm.bumpmapchan = self.ifile.LE_read_uint08()
			sm.normmapchan = self.ifile.LE_read_uint08()
			sm.lghtmapchan = self.ifile.LE_read_uint08()
			sm.envimapchan = self.ifile.LE_read_uint08()
			sm.glssmapchan = self.ifile.LE_read_uint08()
			sm.resmapchan1 = self.ifile.LE_read_uint08()
			sm.resmapchan2 = self.ifile.LE_read_uint08()
			sm.resmapchan3 = self.ifile.LE_read_uint08()
			sm.resmapchan4 = self.ifile.LE_read_uint08()
			sm.resmapchan5 = self.ifile.LE_read_uint08()
			sm.resmapchan6 = self.ifile.LE_read_uint08()
			sm.resmapchan7 = self.ifile.LE_read_uint08()
			sm.resmapchan8 = self.ifile.LE_read_uint08()
	
			# append material
			self.surfmats.append(sm)
			
		return True
	
	# PRIVATE METHOD: 
	def __processSurfaces(self):

		# initialize surface list
		self.surfaces = []
		
		# for each surface
		for i in range(self.header.n_surfaces):

			# read surface name
			surf = SMCSURFACE()
			tmp = self.ifile.LE_read_uint32()
			if (tmp &lt; 0x01) or (tmp &gt; 0xFF): raise Exception('SMC Import Error: Invalid surface name.')
			surf.name = self.ifile.read_string(tmp)
			if len(surf.name) &lt; 1: raise Exception('SMC Import Error: Invalid surface name.')

			# read number of buffer references
			surf.references = self.ifile.LE_read_uint32()
			if surf.references &lt; 1: raise Exception('SMC Import Error: A surface must have at least one buffer reference.')
						
			# read references
			surf.reflist = []
			for j in range(surf.references):
			
				# read vertex buffer index
				ref = SMCSURFREF()
				ref.vb_index = self.ifile.LE_read_uint32()
				if ref.vb_index &lt; 0:
					raise Exception('SMC Import Error: Invalid vertex buffer reference.')
				if not(ref.vb_index &lt; self.header.n_vbuffers):
					raise Exception('SMC Import Error: Invalid vertex buffer reference.')
				
				# read vertex buffer start index
				ref.vb_start = self.ifile.LE_read_uint32()
				if ref.vb_start &lt; 0:
					raise Exception('SMC Import Error: Invalid vertex buffer start index.')
				if not(ref.vb_start &lt; self.vblist[ref.vb_index].elem):
					raise Exception('SMC Import Error: Invalid vertex buffer start index.')
				
				# read vertex buffer width
				ref.vb_width = self.ifile.LE_read_uint32()
				if ref.vb_width &lt; 1:
					raise Exception('SMC Import Error: Invalid vertex buffer surface width.')
				if self.vblist[ref.vb_index].elem &lt; ref.vb_width:
					raise Exception('SMC Import Error: Invalid vertex buffer surface width.')
				if self.vblist[ref.vb_index].elem &lt; (ref.vb_start + ref.vb_width):
					raise Exception('SMC Import Error: Invalid vertex buffer surface width.')

				# read index buffer index, start index, and width
				ref.ib_index = self.ifile.LE_read_uint32()
				ref.ib_start = self.ifile.LE_read_uint32()
				ref.ib_width = self.ifile.LE_read_uint32()
				
				# read joint map index (0xFFFFFFFF if not using a joint map)
				ref.jm_index = self.ifile.LE_read_uint32()

				# validate
				# note that if the index is invalid, this surface only contains points!
				if ref.ib_index != SMC.INVALID_INDEX:
				
					# validate index buffer index
					if ref.ib_index &lt; 0:
						raise Exception('SMC Import Error: Invalid index buffer reference.')
					if not(ref.ib_index &lt; self.header.n_ibuffers):
						raise Exception('SMC Import Error: Invalid index buffer reference.')
				
					# validate index buffer start index
					if ref.ib_start &lt; 0:
						raise Exception('SMC Import Error: Invalid index buffer start index.')
					if not(ref.ib_start &lt; self.iblist[ref.ib_index].elem):
						raise Exception('SMC Import Error: Invalid index buffer start index.')
				
					# validate index buffer width
					if ref.ib_width &lt; 1:
						raise Exception('SMC Import Error: Invalid index buffer surface width.')
					if self.iblist[ref.ib_index].elem &lt; ref.ib_width:
						raise Exception('SMC Import Error: Invalid index buffer surface width.')
					if self.iblist[ref.ib_index].elem &lt; (ref.ib_start + ref.ib_width):
						raise Exception('SMC Import Error: Invalid index buffer surface width.')
					
				# append reference
				surf.reflist.append(ref)
			
			# read surface material
			surf.surfmat = self.ifile.LE_read_uint16()
			if surf.surfmat != SMC.INVALID_SURFMAT:
				if surf.surfmat &lt; 0: raise Exception('SMC Import Error: Invalid material reference.')
				if not(surf.surfmat &lt; self.header.n_surfmats): raise Exception('SMC Import Error: Invalid material reference.')

			# append surface
			self.surfaces.append(surf)

		return True

	# PRIVATE METHOD: 
	def __processSkeleton(self):

		# initialize surface list
		self.skeletons = []
		
		# for each skeleton
		for i in range(self.header.n_skeletons):

			# read format
			skel = SMCSKELETON()
			skel.format = self.ifile.LE_read_uint16()

			# validate format
			if skel.format &amp; SMC.JOINT_FORMAT_ABSOLUTE:
				if skel.format &amp; SMC.JOINT_FORMAT_RELATIVE:
					raise Exception('SMC Import Error: Skeletons cannot be absolute and relative.')
			elif skel.format &amp; SMC.JOINT_FORMAT_RELATIVE:
				if skel.format &amp; SMC.JOINT_FORMAT_ABSOLUTE:
					raise Exception('SMC Import Error: Skeletons cannot be absolute and relative.')
			else:
				raise Exception('SMC Import Error: Skeletons must be absolute or relative.')
			
			# validate format
			if skel.format &amp; SMC.JOINT_FORMAT_MATRIX:
				if skel.format &amp; SMC.JOINT_FORMAT_QUATERNION:
					raise Exception('SMC Import Error: Skeletons cannot use matrices and quaternions.')
			elif skel.format &amp; SMC.JOINT_FORMAT_QUATERNION:
				if skel.format &amp; SMC.JOINT_FORMAT_MATRIX:
					raise Exception('SMC Import Error: Skeletons cannot use matrices and quaternions.')
			else:
				raise Exception('SMC Import Error: Skeletons must use matrices or quaternions.')
			
			# validate format
			if skel.format &amp; SMC.JOINT_FORMAT_X_BONEAXIS:
				if (skel.format &amp; SMC.JOINT_FORMAT_Y_BONEAXIS) or (skel.format &amp; SMC.JOINT_FORMAT_Z_BONEAXIS):
					raise Exception('SMC Import Error: Skeletons cannot use more than one bone axis.')
			elif skel.format &amp; SMC.JOINT_FORMAT_Y_BONEAXIS:
				if (skel.format &amp; SMC.JOINT_FORMAT_X_BONEAXIS) or (skel.format &amp; SMC.JOINT_FORMAT_Z_BONEAXIS):
					raise Exception('SMC Import Error: Skeletons cannot use more than one bone axis.')
			elif skel.format &amp; SMC.JOINT_FORMAT_Z_BONEAXIS:
				if (skel.format &amp; SMC.JOINT_FORMAT_X_BONEAXIS) or (skel.format &amp; SMC.JOINT_FORMAT_Y_BONEAXIS):
					raise Exception('SMC Import Error: Skeletons cannot use more than one bone axis.')
			else:
				raise Exception('SMC Import Error: Skeletons must define a bone axis.')

			# read tip length
			if skel.format &amp; SMC.JOINT_FORMAT_TIP_LENGTH:
				skel.tiplen = self.ifile.LE_read_real32()
				if skel.tiplen &lt; 0.0:
					raise Exception('SMC Import Error: Skeleton tip lengths must be positive.')
				elif skel.tiplen &gt; 1024.0:
					raise Exception('SMC Import Error: Skeleton tip lengths must be shorter than 1024.')
			
			# read name
			skel.name = self.__readString('default')

			# read joints
			skel.n_joints = self.ifile.LE_read_uint32()
			skel.joints = []
			for j in range(skel.n_joints):

				# read name
				jnt = SMCJOINT()
				defaultValue = 'jnt_' + str(j)
				jnt.name = self.__readString(defaultValue)

				# read id
				jnt.id = self.ifile.LE_read_uint32()
				if jnt.id == SMC.INVALID_JOINT:
					raise Exception('SMC Import Error: Invalid joint identifier.')

				# read parent
				jnt.parent = self.ifile.LE_read_uint32()

				# read matrix or quaternion
				if skel.format &amp; SMC.JOINT_FORMAT_MATRIX:
					jnt.matrix = self.ifile.LE_read_real32_array(16)
				elif skel.format &amp; SMC.JOINT_FORMAT_QUATERNION:
					jnt.quaternion = self.ifile.LE_read_real32_array(4)

				# read position
				jnt.position = self.ifile.LE_read_real32_array(4)
				
				# insert joint
				skel.joints.append(jnt)

			# insert skeleton
			self.skeletons.append(skel)
			
		return True

	# PRIVATE METHOD:
	def __processJointMap(self):

		# initialize surface list
		self.jntmaplist = []
		
		# for each joint map
		for i in range(self.header.n_jointmaps):
			n_items = self.ifile.LE_read_uint32()
			items = []
			for j in range(n_items):
				temp = self.ifile.LE_read_uint32()
				items.append(temp)
			self.jntmaplist.append(items)
	
	# PRIVATE METHOD: 
	def __processAnimList(self):
		
		return True

	# PRIVATE METHOD:
	def __buildVBuffer(self, surf):

		# for each reference
		for index, ref in enumerate(surf.reflist):
		
			# create name for mesh object
			meshname = surf.name
			meshname += '_ref_'
			meshname += str(index)

			# create Blender mesh for this vertex buffer
			mesh = Blender.Mesh.New()
			mesh.name = meshname

			# vertex and index buffers
			vb = self.vblist[ref.vb_index]
			ib = self.iblist[ref.ib_index]
			
			# positions
			verts = []
			for dst_index in range(ref.vb_width):
				src_index = ref.vb_start + dst_index
				verts.append(vb.positions[src_index])
			mesh.verts.extend(verts)

			# normals
			if vb.flags &amp; SMC.VERTEX_NORMAL:
				for vertex in mesh.verts:
					nx = vb.normals[ref.vb_start + vertex.index][0]
					ny = vb.normals[ref.vb_start + vertex.index][1]
					nz = vb.normals[ref.vb_start + vertex.index][2]
					vertex.no = Blender.Mathutils.Vector(nx, ny, nz)
			
			# texture coordinates
			uvmap = [[], [], [], [], [], [], [], []]
			if vb.flags &amp; SMC.VERTEX_UV:

				# for each UV channel
				for i in range(8):
				
					# copy UVs if UV map channel exists
					if vb.uvtype[i] != SMC.INVALID_MAP:

						# copy UVs
						for dst_index in range(ref.vb_width):
							src_index = ref.vb_start + dst_index
							uvmap[i].append(vb.texcoords[i][src_index])

			# faces
			faces = []
			if ref.ib_index != SMC.INVALID_INDEX:

				# from triangle list
				if ib.primitive == SMC.TRIANGLES:
				
					# must have triangles
					if ref.ib_width &lt; 3:
						raise Exception('SMC Import Error: The number of triangle indices must be greater than three.')
					if ref.ib_width % 3:
						raise Exception('SMC Import Error: The number of triangle indices must be divisible by three.')
					
					# build triangles
					for i in range((ref.ib_width / 3)):
					
						# triangle indices
						src_index = ref.ib_start + i * 3
						a = ib.data[src_index + 0]
						b = ib.data[src_index + 1]
						c = ib.data[src_index + 2]
						if not(a &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
						if not(b &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
						if not(c &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
						
						# insert triangle
						if (a != b) and (a != c) and (b != c):
							if ib.direction == SMC.CW:
								faces.append([a, b, c])
							else:
								faces.append([a, c, b])
					
				elif ib.primitive == SMC.TRISTRIP:
	
					# first triangle
					a = ib.data[ref.ib_start + 0]
					b = ib.data[ref.ib_start + 1]
					c = ib.data[ref.ib_start + 2]
					if not(a &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
					if not(b &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
					if not(c &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
					
					# insert first triangle
					if (a != b) and (a != c) and (b != c):
						if ib.direction == SMC.CW:
							faces.append([a, b, c])
						else:
							faces.append([a, c, b])
					
					# reamaining triangles
					for i in range(3, ref.ib_width):
					
						# triangle indices
						a = b
						b = c
						c = ib.data[ref.ib_start + i]
						if not(c &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
						
						# insert triangle
						if (a != b) and (a != c) and (b != c):
							if i % 2:
								if ib.direction == SMC.CW:
									faces.append([a, c, b])
								else:
									faces.append([a, b, c])
							else:
								if ib.direction == SMC.CW:
									faces.append([a, b, c])
								else:
									faces.append([a, c, b])
						
				elif ib.primitive == SMC.TRISTRIPCUT:

					# maintain a tristrip index
					tristrip_data = []
					tristrip_curr = []
					
					# value of restart index depends on the data type
					strip_index = 0xFFFFFFFF
					if ib.format == SMC.UINT08:
						strip_index = 0xFF
					elif ib.format == SMC.UINT16:
						strip_index = 0xFFFF
					elif ib.format == SMC.UINT32:
						strip_index = 0xFFFFFFFF
						
					# create a list of triangle strips
					for i in range(ref.ib_width):
					
						temp = ib.data[ref.ib_start + i]
						if temp == strip_index:
							if len(tristrip_curr) &lt; 3: raise Exception('SMC Import Error: Not enough indices for a triangle strip.')
							tristrip_data.append(tristrip_curr)
							tristrip_curr = []
						else:
							tristrip_curr.append(temp)
							if ((i + 1) == ref.ib_width): # last index is not an strip index
								tristrip_data.append(tristrip_curr)
								tristrip_curr = []								

					# process triangle strips
					for tristrip in tristrip_data:

						# first triangle
						a = tristrip[0]
						b = tristrip[1]
						c = tristrip[2]
						if not(a &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
						if not(b &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
						if not(c &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
						if (a != b) and (a != c) and (b != c):
							if ib.direction == SMC.CW: faces.append([a, b, c])
							else: faces.append([a, c, b])
						
						# remaining triangles
						for i in range(3, len(tristrip)):
							a = b
							b = c
							c = tristrip[i]
							if not(c &lt; ref.vb_width): raise Exception('SMC Import Error: Triangle index out of bounds.')
							if (a != b) and (a != c) and (b != c):
								if i % 2:
									if ib.direction == SMC.CW: faces.append([a, c, b])
									else: faces.append([a, b, c])
								else:
									if ib.direction == SMC.CW: faces.append([a, b, c])
									else: faces.append([a, c, b])

				# construct blender mesh faces
				mesh.faces.extend(faces)
				
				# smooth vertex normals
				if vb.flags &amp; SMC.VERTEX_NORMAL:
					for face in mesh.faces:
						face.smooth = 1

				# assign texture coordinates
				if vb.flags &amp; SMC.VERTEX_UV:
	
					# for each UV channel
					for i in range(8):

						# if UV channel exists
						if vb.uvtype[i] != SMC.INVALID_MAP:
						
							# create UV layer
							mapname = 'uvmap_channel_' + str(i)
							mesh.addUVLayer(mapname)
							mesh.activeUVLayer = mapname
					
							# assign texture coordinates to faces
							# WARNING: THIS IS OLD CODE THAT CAUSED ROTATED UV COORDINATES!!!
							#for face in mesh.faces:
							#	a = faces[face.index][0]
							#	b = faces[face.index][1]
							#	c = faces[face.index][2]
							#	uv_a = Mathutils.Vector(uvmap[i][a][0], uvmap[i][a][1])
							#	uv_b = Mathutils.Vector(uvmap[i][b][0], uvmap[i][b][1])
							#	uv_c = Mathutils.Vector(uvmap[i][c][0], uvmap[i][c][1])
							#	face.uv = [ uv_a, uv_b, uv_c ]

							# set sticky per-vertex UV coordinates
							mesh.vertexUV = True
							for j in range(len(mesh.verts)):
								mesh.verts[j].uvco = Blender.Mathutils.Vector(uvmap[i][j])
							mesh.update()
							
							# set face UV coordinates
							mesh.faceUV = True;
							for face in mesh.faces:
								face.uv = [v.uvco for v in face.verts];
								face.smooth = 1
							mesh.update()
								
			# update Blender mesh object
			mesh.update()
        
			# add mesh to current scene and make mesh active
			scene = Blender.Scene.GetCurrent()
			meshobject = scene.objects.new(mesh, meshname)
			scene.objects.active = meshobject
			self.meshlist.append(meshobject)

			# assign material to mesh object
			if surf.surfmat != SMC.INVALID_SURFMAT:
				meshobject.colbits = 1
				meshobject.setMaterials([self.materials[surf.surfmat]])
				mesh.update()
		
			# blend weights
			# NOTE: blend weights must be added after a mesh has been associated with a mesh object!
			bidict = {}
			if vb.flags &amp; SMC.VERTEX_WEIGHTS:
			
				# for each set of blendweights and blendindices
				for dst_index in range(ref.vb_width):

					src_index = ref.vb_start + dst_index
					for i in range(8):
					
						# get blend weight and blend index
						bw = vb.blendweights[src_index][i]
						bi = vb.blendindices[src_index][i]

						# if blend index is valid
						if bi != SMC.INVALID_BLENDINDEX:
						
							# if this surface reference uses a joint map
							# remap the blend index using the map
							if ref.jm_index != SMC.INVALID_JMAP_INDEX:
							
								if not(ref.jm_index &lt; len(self.jntmaplist)):
									raise Exception('SMC Import Error: Joint map index out of range.')
									
								# given a blend index, look it up in an array to get new blend index
								if not(bi &lt; len(self.jntmaplist[ref.jm_index])):
									error = 'SMC Import Error: Joint map blending index '
									error = error + str(bi)
									error = error + ' out of range. The joint map only has '
									error = error + str(len(self.jntmaplist[ref.jm_index]))
									error = error + ' elements.'
									raise Exception(error)

								# remap blend index
								bi = self.jntmaplist[ref.jm_index][bi]

							# associate blend weight with blend index
							if not (bi in bidict): bidict[bi] = []
							bidict[bi].append([dst_index, bw])

				# for each vertex weight map
				for dk, dv in bidict.iteritems():
				
					# create vertex group and assign weights
					mapname = 'jnt_' + ('%(value)03d' % {'value':dk}) # + str(dk)
					mesh.addVertGroup(mapname)
					for item in dv:
						try:
							mesh.assignVertsToGroup(mapname, [item[0]], item[1], Blender.Mesh.AssignModes.ADD)#REPLACE)
						except Exception as e:
							print('item = ' + str(item[0]) + ', ' + str(item[1]))
							print('vertices = ' + str(vb.elem) + ', ' + str(len(mesh.verts)))
							raise e
						
	# PRIVATE METHOD:
	def __buildMeshTextures(self):

		# construct textures from filelist using relative directories
		# this is why we preface filename with '//'
		# see http://www.blender.org/documentation/blender_python_api_2_59_0/bpy.path.html
		self.texlist = []
		for index, filename in enumerate(self.images):
			try:
				# create texture name based on index
				name = 'texture_' + str(index)
				# create texture
				temp = Blender.Image.Load('//' + filename)
				texture = Blender.Texture.New(name)
				texture.setImage(temp)
				# append data
				self.texlist.append(texture)
			except Exception as e:
				self.texlist.append(None)
				print('Failed to load texture file ' + filename + '.')
	
	def __buildMeshMaterials(self):

		def isTextureValid(textureIndex):
			if textureIndex == SMC.INVALID_TEXTURE: return False
			if not (textureIndex &lt; len(self.texlist)): return False
			if self.texlist[textureIndex] is None: return False
			return True
		
		# for each surface material
		self.materials = []
		for surfmat in self.surfmats:

			# create new material
			# set material to shadeless so we can see texture using Blender GLSL Materials 
			mat = Blender.Material.New(surfmat.name)
			mat.setMode(Blender.Material.Modes['SHADELESS'])

			# each material supports up to ten texture layters
			index = 0
			if isTextureValid(surfmat.basemap):
				mat.setTexture(index, self.texlist[surfmat.basemap], Texture.TexCo.UV, Texture.MapTo.COL)
				mattex = mat.getTextures()
				mattex[index].uvlayer = 'uvmap_channel_' + str(surfmat.basemapchan)
				index = index + 1
			if isTextureValid(surfmat.specmap):
				mat.setTexture(index, self.texlist[surfmat.specmap], Texture.TexCo.UV, Texture.MapTo.SPEC)
				mattex = mat.getTextures()
				mattex[index].uvlayer = 'uvmap_channel_' + str(surfmat.specmapchan)
				index = index + 1
			if isTextureValid(surfmat.normmap):
				mat.setTexture(index, self.texlist[surfmat.normmap], Texture.TexCo.UV, Texture.MapTo.NOR)
				mattex = mat.getTextures()
				mattex[index].uvlayer = 'uvmap_channel_' + str(surfmat.normmapchan)
				index = index + 1

			# append material
			self.materials.append(mat)
		
	# PRIVATE METHOD:
	def __buildMeshObjects(self):

		# save blender mesh objects
		self.meshlist = []
		
		# for each surface
		for surf in self.surfaces:
		
			self.__buildVBuffer(surf)

		return True
	
	def __buildArmatureObjects(self):

		# for each skeleton
		for skel in self.skeletons:

			# keep track of all root nodes
			root_nodes = []
			for jnt in skel.joints:
				if jnt.parent == SMC.INVALID_JOINT:
					root_nodes.append(jnt.id)
					
			# must have at least one root node
			if len(root_nodes) == 0:
				raise Exception('SMC Import Error: A skeleton was defined with no root node.')
				
			# now that we know we have good root nodes, let's create a diction-
			# ary where given a joint ID we can index its data and find out how
			# many children joint IDs it has
			jntmap = {}
			for (jnt_index, jnt) in enumerate(skel.joints):
			
				# joint identifier must be unique
				if jnt.id in jntmap:
					raise Exception('SMC Import Error: Joint identifiers must be unique.')

				# insert joint to map with empty child list
				jntmap[jnt.id] = [jnt_index, []]
			
			# insert joints into their parent's list of children
			for jnt in skel.joints:
				if jnt.parent != SMC.INVALID_JOINT:
					if not(jnt.parent in jntmap): raise Exception('SMC Import Error: Invalid parent joint identifier.')
					jntmap[jnt.parent][1].append(jnt.id)
					
			# create blender armature
			armature = Blender.Armature.New(skel.name)
			armature.drawType = Blender.Armature.STICK
			armature.envelopes = False
			armature.vertexGroups = False

			# create blender armature object
			scene = Blender.Scene.GetCurrent()
			armatureObjectName = skel.name + '_object'
			armatureObject = scene.objects.new(armature, armatureObjectName)

			# set armature object to use vertex groups (not envelopes)
			for meshobj in self.meshlist:
				mod = meshobj.modifiers.append(Modifier.Types.ARMATURE)
				mod[Blender.Modifier.Settings.OBJECT] = armatureObject
				mod[Blender.Modifier.Settings.ENVELOPES] = False
				mod[Blender.Modifier.Settings.VGROUPS] = True
	
			# make armature editable before adding bones
			armature.makeEditable()

			# traverse joints to add bones
			jvisitor = SMCJointVisitor(jntmap, skel, armature)
			for root in root_nodes: jvisitor.visit(root, None)

			# update armature
			armature.update()
			
			# parent mesh objects to armature so it can modify the meshes
			armatureObject.makeParent(self.meshlist)
			
		return True

	# PUBLIC METHOD: IMPORT
	def run(self, filename):

		# open file
		self.ifile = InputFileStream()
		self.ifile.open(filename)
		
		# file processing
		if self.__processSMCHeader() == False: return False
		if self.__processFileList() == False: return False
		if self.__processVBuffers() == False: return False
		if self.__processIBuffers() == False: return False
		if self.__processSurfmats() == False: return False
		if self.__processSurfaces() == False: return False
		if self.__processSkeleton() == False: return False
		if self.__processJointMap() == False: return False
		if self.__processAnimList() == False: return False

		# model construction
		self.__buildMeshTextures()
		self.__buildMeshMaterials()
		self.__buildMeshObjects()
		self.__buildArmatureObjects()
		
		# success
		print "SMC import successful."
		Window.RedrawAll()
		return True

#
# IMPORT SMC
#

def importSMC(filename):

	obj = SMCImporter()
	obj.run(filename)

#
# CONTROL EXECUTION
# main() is called if and only if module is not imported
#

def main():

	Blender.Window.FileSelector(importSMC, "Import SMC", '*.smc')

if __name__ == '__main__':
	
    main()</code></pre></div></div>

			
							<dl class="attachbox">
					<dt>
						Attachments
					</dt>
											<dd>
			
		
		
				<dl class="file">
			<dt><span class="imageset icon_topic_attach"></span> <a class="postlink" href="./download/file.php?id=6591">dw7-1.zip</a></dt>
						<dd>(2.2 KiB) Downloaded 114 times</dd>
		</dl>
		
			</dd>
									</dl>
			
									
						<div id='list_thanks87835'>
</div>
<div id='div_post_reput87835'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p87841" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile87841">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=36087.html" class="username">howfie</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=36087&amp;sr=posts">929</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jul 08, 2011 12:06 pm</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Torrance, CA</dd>
							    <dd class="profile-posts" data-user-give-id="36087"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/36087/true">10 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="36087"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/36087/false">274 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact howfie">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact howfie</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=87841" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content87841">

					<h3 >
						<a href="./viewtopic.php?p=87841#p87841">Re: blender import SCRIPT-&gt;3d max script</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/87841/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=87841" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post87841' href="./viewtopic.php?f=16&amp;p=87841&amp;thanks=87841&amp;to_id=36087&amp;from_id=123876" title="Say Thanks to the author of the post: howfie"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=87841#p87841" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=36087.html" class="username">howfie</a></strong> &raquo; </span><time datetime="2013-09-04T02:29:15+00:00">Wed Sep 04, 2013 3:29 am</time>
			</p>
			
			
			
			<div class="content">blender -&gt; fbx -&gt; 3ds max should preserve uv data.<br>
<br>
jesus you posted my entire blender script lol, looking at my own code scares me.</div>

			
			
									
						<div id='list_thanks87841'>
</div>
<div id='div_post_reput87841'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	

	<div class="action-bar bar-bottom">
	
			<a href="./posting.php?mode=reply&amp;t=10747" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=16&amp;t=10747&amp;watch=topic&amp;start=0&amp;hash=85c6d973" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=16&amp;t=10747&amp;unwatch=topic&amp;start=0&amp;hash=85c6d973" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=10747&amp;bookmark=1&amp;hash=85c6d973" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=10747" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=10747&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="./viewtopic.php?t=10747">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			2 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="./viewforum.php?f=16" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “3D/2D models”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="../Forums/26 - XeNTaX - General Discussion.html" class="jumpbox-cat-link"> <span> General Discussion</span></a></li>
																<li><a href="./viewforum.php?f=22" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Holy Cow!</span></a></li>
																<li><a href="./viewforum.php?f=40" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game news</span></a></li>
																<li><a href="./viewforum.php?f=38" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Tech Tips</span></a></li>
																<li><a href="./viewforum.php?f=41" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Cool mods</span></a></li>
																<li><a href="./viewforum.php?f=28" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Website</span></a></li>
																<li><a href="./viewforum.php?f=24" class="jumpbox-cat-link"> <span> Game Modding</span></a></li>
																<li><a href="./viewforum.php?f=29" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="./viewforum.php?f=16" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; 3D/2D models</span></a></li>
																<li><a href="./viewforum.php?f=17" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Audio file formats</span></a></li>
																<li><a href="./viewforum.php?f=18" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Graphic file formats</span></a></li>
																<li><a href="./viewforum.php?f=36" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Video file formats</span></a></li>
																<li><a href="./viewforum.php?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Archive</span></a></li>
																<li><a href="./viewforum.php?f=21" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Compressed files and methods</span></a></li>
																<li><a href="./viewforum.php?f=13" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Code Talk</span></a></li>
																<li><a href="./viewforum.php?f=35" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Localization</span></a></li>
																<li><a href="./viewforum.php?f=30" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Savegames</span></a></li>
																<li><a href="./viewforum.php?f=15" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Old posts</span></a></li>
																<li><a href="./viewforum.php?f=37" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Retro games</span></a></li>
																<li><a href="./viewforum.php?f=25" class="jumpbox-cat-link"> <span> MultiEx Commander</span></a></li>
																<li><a href="./viewforum.php?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; News</span></a></li>
																<li><a href="./viewforum.php?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Plugins</span></a></li>
																<li><a href="./viewforum.php?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="./viewforum.php?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Miscellaneous</span></a></li>
																<li><a href="./viewforum.php?f=31" class="jumpbox-cat-link"> <span> Tools &amp; Programs</span></a></li>
																<li><a href="./viewforum.php?f=32" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game specific tools</span></a></li>
																<li><a href="./viewforum.php?f=33" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; General game tools</span></a></li>
											</ul>
		</div>
	</div>

	</div>


	<div class="stat-block online-list">
		<h3><a href="./viewonline.php">Who is online</a></h3>
		<p>Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Bing [Bot]</span>, <a href="./memberlist.php?mode=viewprofile&u=64118.html" class="username">dw253384305</a>, <a href="./memberlist.php?mode=viewprofile&u=123876.html" class="username">escape209</a> and 6 guests</p>
	</div>

			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="./index.php" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="UTC+1">UTC+01:00</span></li>
							<li class="rightside">
				<a href="./ucp.php?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
							<li class="rightside" data-last-responsive="true">
					<a href="./memberlist.php" title="View complete list of members" role="menuitem">
						<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
					</a>
				</li>
												<li class="rightside" data-last-responsive="true">
				<a href="./memberlist.php?mode=team" role="menuitem">
					<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
				</a>
			</li>
							</ul>

	</div>
</div>

	<div class="copyright">
				<p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row" role="menu">
			<a class="footer-link" href="./ucp.php?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="./ucp.php?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script src="./assets/javascript/jquery-3.6.0.min.js?assets_version=11"></script>
<script src="./assets/javascript/core.js?assets_version=11"></script>


<script type="text/javascript">
(function($) {  // Avoid conflicts with other libraries

'use strict';
	
	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="./ext/phpbb/boardannouncements/styles/all/template/js/boardannouncements.js?assets_version=11"></script>
<script src="./styles/prosilver/template/forum_fn.js?assets_version=11"></script>
<script src="./styles/prosilver/template/ajax.js?assets_version=11"></script>



</body>
</html>
