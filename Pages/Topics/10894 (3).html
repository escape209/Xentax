<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Extracting simple models - Page 4 - XeNTaX</title>


	<link rel="canonical" href="https://forum.xentax.com/viewtopic.php?t=10894&amp;start=45">

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="./assets/css/font-awesome.min.css?assets_version=11" rel="stylesheet">
<link href="./styles/prosilver/theme/stylesheet.css?assets_version=11" rel="stylesheet">
<link href="./styles/prosilver/theme/en/stylesheet.css?assets_version=11" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/prosilver/theme/tweaks.css?assets_version=11" rel="stylesheet">
<![endif]-->


<link href="./ext/gfksx/thanksforposts/styles/prosilver/theme/thanks.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="./ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="./ext/hifikabin/headerbanner/styles/prosilver/theme/headerbanner_background.css?assets_version=11" rel="stylesheet" media="screen" />
<link href="./ext/phpbb/boardannouncements/styles/all/theme/boardannouncements.css?assets_version=11" rel="stylesheet" media="screen" />



</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
		<a id="logo" class="logo" href="./index.php" title="Board index">
					<span class="site_logo"></span>
				</a>
				<h1>XeNTaX</h1>
				<p>Game Research Forum</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div class="banner-header">
	<div style="position:absolute; z-index:-100;">
	<h1>XeNTaX</h1>
	<p>Game Research Forum</p>
	<p class="skiplink"><a href="#start_here">Skip to content</a></p>
</div>
<div class="header-banner">
	<a href="./index.php" title="Board index"><img class="header-banner" style="border-radius:0px; width:1500px;" src="http://forum.xentax.com/images/gameresforum_logo_1.png" alt="Board index" ></a>
</div>
</div>

			</div>
					</div>
				<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
													<li>
								<a href="./search.php?search_id=egosearch" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Your posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=newposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>New posts</span>
								</a>
							</li>
																			<li>
								<a href="./search.php?search_id=unreadposts" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-red" aria-hidden="true"></i><span>Unread posts</span>
								</a>
							</li>
													<li>
								<a href="./search.php?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="./search.php?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="./search.php" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
											<li class="separator"></li>
													<li>
								<a href="./memberlist.php" role="menuitem">
									<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
								</a>
							</li>
																			<li>
								<a href="./memberlist.php?mode=team" role="menuitem">
									<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
								</a>
							</li>
																<li class="separator"></li>

						<li>
		<a href="/app.php/toplist"  role="menuitem">
			<i class="icon fa-star-o fa-fw" aria-hidden="true"></i><span>Posts toplist</span>
		</a>
	</li>
	<li>
		<a href="/app.php/thankslist"  role="menuitem">
			<i class="icon fa-thumbs-o-up fa-fw" aria-hidden="true"></i><span>Thanks list</span>
		</a>
	</li>
				</ul>
			</div>
		</li>

				<li data-last-responsive="true">
			<a href="/app.php/help/faq" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
					<li id="username_logged_in" class="rightside " data-skip-responsive="true">
						<div class="header-profile dropdown-container">
				<a href="./ucp.php" class="header-avatar dropdown-trigger"> <span class="username">escape209</span></a>
				<div class="dropdown">
					<div class="pointer"><div class="pointer-inner"></div></div>
					<ul class="dropdown-contents" role="menu">
						
					
						<li>
							<a href="./ucp.php" title="User Control Panel" role="menuitem">
								<i class="icon fa-sliders fa-fw" aria-hidden="true"></i><span>User Control Panel</span>
							</a>
						</li>
													<li>
								<a href="./memberlist.php?mode=viewprofile&u=123876.html" title="Profile" role="menuitem">
									<i class="icon fa-user fa-fw" aria-hidden="true"></i><span>Profile</span>
								</a>
							</li>
						
						
						<li class="separator"></li>
						<li>
							<a href="./ucp.php?mode=logout&amp;sid=f03065a94e53d4183cf1d6f8f99502e7" title="Logout" accesskey="x" role="menuitem">
								<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Logout</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
					</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=pm&amp;folder=inbox" role="menuitem">
					<i class="icon fa-inbox fa-fw" aria-hidden="true"></i><span>Private messages </span><strong class="badge hidden">0</strong>
				</a>
			</li>
							<li class="dropdown-container dropdown-right rightside" data-skip-responsive="true">
				<a href="./ucp.php?i=ucp_notifications" id="notification_list_button" class="dropdown-trigger">
					<i class="icon fa-bell fa-fw" aria-hidden="true"></i><span>Notifications </span><strong class="badge hidden">0</strong>
				</a>
				<div id="notification_list" class="dropdown dropdown-extended notification_list">
	<div class="pointer"><div class="pointer-inner"></div></div>
	<div class="dropdown-contents">
		<div class="header">
			Notifications
			<span class="header_settings">
				<a href="./ucp.php?i=ucp_notifications&amp;mode=notification_options">Settings</a>
							</span>
		</div>

		<ul>
							<li class="no_notifications">
					You have no notifications
				</li>
								</ul>

		<div class="footer">
			<a href="./ucp.php?i=ucp_notifications"><span>See All</span></a>
		</div>
	</div>
</div>
			</li>
						</ul>

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
				
		
		<li class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">

			
							<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope><a itemprop="item" href="./index.php" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1" /></span>

											
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="24"><a itemprop="item" href="./viewforum.php?f=24"><span itemprop="name">Game Modding</span></a><meta itemprop="position" content="2" /></span>
															
								<span class="crumb" itemtype="https://schema.org/ListItem" itemprop="itemListElement" itemscope data-forum-id="29"><a itemprop="item" href="./viewforum.php?f=29"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="3" /></span>
							
					</li>

		<li class="rightside responsive-search">
	<a href="./search.php" title="View the advanced search options" role="menuitem">
	<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
	</a>
</li>

			</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
					<div id="phpbb_announcement" style="background-color:#d9efff">
				<div><strong class="text-strong"><span style="color:#00BF00"><span style="font-size:120%;line-height:116%">Important information: this site is currently <a href="https://forum.xentax.com/viewtopic.php?t=27281" class="postlink">scheduled to go offline indefinitely</a> by end of the year. </span></span></strong></div>
	</div>

<h2 class="topic-title"><a href="./viewtopic.php?t=10894&amp;start=45">Extracting simple models</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->
<div style="display: none !important;">Read or post any tutorial related to file format analysis for modding purposes.<br /></div>


<div class="action-bar bar-top">
	
			<a href="./posting.php?mode=reply&amp;t=10894" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=29&amp;t=10894&amp;watch=topic&amp;start=45&amp;hash=3dd8b950" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=29&amp;t=10894&amp;unwatch=topic&amp;start=45&amp;hash=3dd8b950" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=10894&amp;start=45&amp;bookmark=1&amp;hash=3dd8b950" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=10894" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=10894&amp;start=45&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="./search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…" />
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="./search.php" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="10894" />
<input type="hidden" name="sf" value="msgonly" />

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			506 posts
							<ul>
	<li class="dropdown-container dropdown-button-control dropdown-page-jump page-jump">
		<a class="button button-icon-only dropdown-trigger" href="#" title="Click to jump to page…" role="button"><i class="icon fa-level-down fa-rotate-270" aria-hidden="true"></i><span class="sr-only">Page <strong>4</strong> of <strong>34</strong></span></a>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
				<li>Jump to page:</li>
				<li class="page-jump-form">
					<input type="number" name="page-number" min="1" max="999999" title="Enter the page number you wish to go to" class="inputbox tiny" data-per-page="15" data-base-url=".&#x2F;viewtopic.php&#x3F;t&#x3D;10894" data-start-name="start" />
					<input class="button2" value="Go" type="button" />
				</li>
			</ul>
		</div>
	</li>
			<li class="arrow previous"><a class="button button-icon-only" href="./viewtopic.php?t=10894&amp;start=30" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="./10894.html" role="button">1</a></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=15" role="button">2</a></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=30" role="button">3</a></li>
			<li class="active"><span>4</span></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=60" role="button">5</a></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=75" role="button">6</a></li>
			<li class="ellipsis" role="separator"><span>…</span></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=495" role="button">34</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="./viewtopic.php?t=10894&amp;start=60" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
		</div>




			<div id="p104733" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile104733">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44803&amp;sr=posts">19</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Wed Nov 13, 2013 3:03 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44803"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/true">43 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44803"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/false">3 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact zdsmdbh">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact zdsmdbh</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104733" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104733">

					<h3 class="first">
						<a href="./viewtopic.php?p=104733#p104733">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104733/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104733" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104733' href="./viewtopic.php?f=29&amp;p=104733&amp;thanks=104733&amp;to_id=44803&amp;from_id=123876" title="Say Thanks to the author of the post: zdsmdbh"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104733#p104733" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></strong> &raquo; </span><time datetime="2015-03-30T05:06:09+00:00">Mon Mar 30, 2015 6:06 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>shakotay2 wrote:</cite>
Then you could read some MaxScript online help to understand functions like<br>
<em class="text-italics">BoneSys.CreateBone</em> and <em class="text-italics">skinOps.ReplaceVertexWeights</em> for example.</div></blockquote>
I know how <strong class="text-strong">BoneSys.CreateBone</strong> or <strong class="text-strong">skinOps.ReplaceVertexWeights</strong> work,what I don't understand are something like these(part of zaramot's script)
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>maxweight = 0
if(W1_array[a].Weight1 != 0) then
   maxweight = maxweight + W1_array[a].Weight1
if(W1_array[a].Weight2 != 0) then
   maxweight = maxweight + W1_array[a].Weight2
if(W1_array[a].Weight3 != 0) then
   maxweight = maxweight + W1_array[a].Weight3
if(W1_array[a].Weight4 != 0) then
   maxweight = maxweight + W1_array[a].Weight4</code></pre></div>
I don't understand why he need this maxweight,I thought I just need to read the weights from file,and <strong class="text-strong">skinOps.ReplaceVertexWeights</strong> directly,then mesh got correct weights<br>
<br>
.x format file use 4x4 matrix,but seems 3ds Max use 4x3 matrix,something like this
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>print $leg_left_ankle.transform
(matrix3 [-0.610972,0.791652,0] [-0.791652,-0.610972,0] [0,0,1] [17.6693,2e-006,1e-006])</code></pre></div>
So,how to convert 4x4 matrix to 4x3 matrix?<br>
<br>
I found these from zaramot's script(hope he won't blame me for this,LOL)
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>c11 = ReadFloat f; c12 = ReadFloat f; c13 = ReadFloat f; c14 = ReadFloat f	
c21 = ReadFloat f; c22 = ReadFloat f; c23 = ReadFloat f; c24 = ReadFloat f	
c31 = ReadFloat f; c32 = ReadFloat f; c33 = ReadFloat f; c34 = ReadFloat f
c41 = ReadFloat f; c42 = ReadFloat f; c43 = ReadFloat f; c44 = ReadFloat f
			
tfm = matrix3 [c11,c12,c13] [c21,c22,c23] [c31,c32,c33] [c41,c42,c43]
tfm=(scaleMatrix [-1,-1,1])*tfm
	
newBone = bonesys.createbone	\
				  tfm.row4	\
				  (tfm.row4 + 0.01 * (normalize tfm.row1)) \
				  (normalize tfm.row3)
			newBone.name = BoneName
			newBone.width  = 0.01
			newBone.height = 0.01
			newBone.transform = tfm
			newBone.setBoneEnable false 0
			newBone.wirecolor = white
			newbone.showlinks = true
			newBone.pos.controller      = TCB_position ()
			newBone.rotation.controller = TCB_rotation ()	</code></pre></div>
It read a 4x4 matrix data,then ignore c14,c24,c34,c44 to generate a 4x3 matrix,and then just use <strong class="text-strong">BoneSys.CreateBone</strong> to create bone<br>
But if I copy this part to my script,bone seems weird<br>
<img src="http://i.imgur.com/7A7ZspI.jpg" class="postimage" alt="Image"><br>
<br>
I also got another question.<br>
Seems there are 2 types of matrix in x.format files?<br>
Here's matrix from Frame
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>Frame root_ground {
 

 FrameTransformMatrix {
  -0.000000,1.000000,0.000000,0.000000,-0.000000,-0.000000,1.000000,0.000000,1.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.000000;;
 }

 Frame root_hips {
  

  FrameTransformMatrix {
   -0.000000,-0.000000,1.000000,0.000000,-0.000000,1.000000,0.000000,0.000000,-1.000000,0.000000,-0.000000,0.000000,46.984253,-0.000011,0.000005,1.000000;;
  }</code></pre></div>

And here's matrix from SkinWeights
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>template SkinWeights {
 &lt;6f0d123b-bad2-4167-a0d0-80224f25fabb&gt;
 STRING transformNodeName;
 DWORD nWeights;
 array DWORD vertexIndices[nWeights];
 array FLOAT weights[nWeights];
 Matrix4x4 matrixOffset
}

.........................
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000,
   1.000000;
   -1.000000,0.000031,-0.000031,0.000000,-0.000031,-0.000000,1.000000,0.000000,0.000031,1.000000,-0.000000,0.000000,-34.073386,0.181064,-62.320659,1.000000;;
  }</code></pre></div>

If Frame matrix are used to create bone,what this SkinWeights matrix are used for?<br>
I also tried to import these SkinWeights matrix to Max as bone,but it still looks weird<br>
<br>
Here's my new script,it can read bone data,weights data and bones' hierarchy now
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>if (heapSize &lt; 200000) then
        heapSize = 2000000 -- allow ~ 40 MB instead of just 7.5 MB. Prevents "Runtime Error: Out of scripter memory"

fname = getOpenFileName \
caption:"Select a X format file" \
types:"DirectX(.x)|*.x" \
historyCategory:"DirectXObjectPresets"
f = openfile fname

Vert_array = #()
Face_array = #()
Normal_array = #()
UV_array = #()
vertexIndice_array = #()
weights_array = #()
bone_stack = #()

RDL= readline f
BoneName = ""

--Read texture name
while (RDL != " TextureFilename {") do (RDL = readline f)
texture_name = readvalue f

while (RDL != "Frame Object001 {") do 
(
	RDL = readline f
	--Read bone name
	if (findString RDL "Frame" != undefined and findString RDL "TransformMatrix" == undefined) do
	(
		start = (findString RDL "Frame")+6
		len = RDL.count-start-1
		BoneName = substring RDL start len
		append bone_stack BoneName
	)
	--Read bone data and create bone
	if (findString RDL "FrameTransformMatrix" != undefined) do
    (
		c11 = readvalue f; c12 = readvalue f; c13 = readvalue f; c14 = readvalue f	
		c21 = readvalue f; c22 = readvalue f; c23 = readvalue f; c24 = readvalue f	
		c31 = readvalue f; c32 = readvalue f; c33 = readvalue f; c34 = readvalue f
		c41 = readvalue f; c42 = readvalue f; c43 = readvalue f; c44 = readvalue f

		tfm = matrix3 [c11,c12,c13] [c21,c22,c23] [c31,c32,c33] [c41,c42,c43]
		tfm=(scaleMatrix [-1,-1,1])*tfm
			
		newBone = bonesys.createbone	\
						  tfm.row4	\
						  (tfm.row4 + 0.01 * (normalize tfm.row1)) \
						  (normalize tfm.row3)
					newBone.name = BoneName
					newBone.width  = 0.01
					newBone.height = 0.01
					newBone.transform = tfm
					newBone.setBoneEnable false 0
					newBone.wirecolor = white
					newbone.showlinks = true
					newBone.pos.controller      = TCB_position ()
					newBone.rotation.controller = TCB_rotation ()
		readline f
		readline f
	)
	--Create bones' hierarchy
	if (findString RDL "}" != undefined and (bone_stack.count &gt; 1)) do
	(
		(getnodebyname (bone_stack[bone_stack.count])).parent = getnodebyname (bone_stack[bone_stack.count-1])
		deleteItem bone_stack bone_stack.count
	)
)			

while (RDL != " Mesh  {") do (RDL = readline f)
mesh_count = readvalue f
for i=1 to mesh_count do
(
	x = readvalue f
	y = readvalue f
	z = readvalue f
	append Vert_array [x,z,y]
	readline f
)

face_count = readvalue f
for i=1 to face_count do
(
	readvalue f
	p1 = readvalue f
	p2 = readvalue f
	p3 = readvalue f
	append Face_array [p1+1,p2+1,p3+1]
	readline f
)

while (RDL != "  MeshNormals  {") do (RDL = readline f)
normal_count = readvalue f
for i=1 to normal_count do
(
	nx = readvalue f
	ny = readvalue f
	nz = readvalue f
	append Normal_array [nx,ny,nz]
	readline f
)

while (RDL != "  MeshTextureCoords  {") do (RDL = readline f)
UV_count = readvalue f
for i=1 to UV_count do
(
	u = readvalue f
	v = readvalue f
	append UV_array [u,1-v,0]
	readline f
)

--Read weights
while (eof f == false) do
(
	RDL = readline f
	if (RDL == "  SkinWeights {") do
	(
		BoneName = readvalue f
		weights_number = readvalue f
		for i=1 to weights_number do
		(
			vertexIndice = readvalue f
			append vertexIndice_array vertexIndice
		)
		for i=1 to weights_number do
		(
			weights = readvalue f
			append weights_array weights
		)
		c11 = readvalue f; c12 = readvalue f; c13 = readvalue f; c14 = readvalue f	
		c21 = readvalue f; c22 = readvalue f; c23 = readvalue f; c24 = readvalue f	
		c31 = readvalue f; c32 = readvalue f; c33 = readvalue f; c34 = readvalue f
		c41 = readvalue f; c42 = readvalue f; c43 = readvalue f; c44 = readvalue f
	)
)

--Build mesh
msh = mesh vertices:Vert_array faces:Face_array
msh.numTVerts = UV_array.count
buildTVFaces msh
for j = 1 to UV_array.count   do setTVert  msh j UV_array[j]
for j = 1 to face_array.count do setTVFace msh j face_array[j]

close f

--Assign material
texture_path = sysInfo.currentdir
if texture_path[texture_path.count] != "\\" do texture_path += "\\"
texture_path += texture_name

new_mat = StandardMaterial()
new_mat.diffuseMap = Bitmaptex()
new_mat.diffuseMap.filename = texture_path
new_mat.showInViewport = True
msh.Material = new_mat</code></pre></div></div>

			
			
													<div class="notice">
					Last edited by <a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a> on Mon Mar 30, 2015 5:45 pm, edited 1 time in total.
									</div>
			
						<div id='list_thanks104733'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a> for the post: </dt>
			<dd><span title="Mon Mar 30, 2015 11:14 am"><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput104733'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104736" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile104736">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=41194_1430129462.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a>							</dt>

						<dd class="profile-rank">MEGAVETERAN<br /><img src="./images/ranks/vip-2.png" alt="MEGAVETERAN" title="MEGAVETERAN" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=41194&amp;sr=posts">4291</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Apr 20, 2012 9:24 am</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Nexus, searching for Jim Kirk</dd>
							    <dd class="profile-posts" data-user-give-id="41194"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/true">1151 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="41194"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/false">2244 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact shakotay2">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact shakotay2</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104736" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104736">

					<h3 >
						<a href="./viewtopic.php?p=104736#p104736">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104736/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104736" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104736' href="./viewtopic.php?f=29&amp;p=104736&amp;thanks=104736&amp;to_id=41194&amp;from_id=123876" title="Say Thanks to the author of the post: shakotay2"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104736#p104736" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></strong> &raquo; </span><time datetime="2015-03-30T10:14:19+00:00">Mon Mar 30, 2015 11:14 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>zdsmdbh wrote:</cite>I know how <strong class="text-strong">BoneSys.CreateBone</strong> or <strong class="text-strong">skinOps.ReplaceVertexWeights</strong> work,</div></blockquote>I couldn't know this, sry. <img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"> <br>
Nice progress again. Congratz!
<blockquote class="uncited"><div>I don't understand why he need this maxweight</div></blockquote>Don't know his script, so can't tell.<br>
Sum of weights should be &lt;= 1.0 that's what I know. If sumOfWeights is zero you don't need to append weights for that vertex.<br>

<blockquote class="uncited"><div>So,how to convert 4x4 matrix to 4x3 matrix?</div></blockquote>to ignore the last column is one methode.<br>
(There is another method MrAdults told for Noesis but I forgot it cause of rare use.)<br>

<blockquote class="uncited"><div>But if I copy this part to my script,bone seems weird</div></blockquote>
Did you check the hierarchy in 3dsmax for correctness? (Would be my first step.)<br>
(seems before that I've to understand how you implemented the bone parenting)<br>
<br>
edit: well, hierarchy seems to be ok.<br>
You might check the bones and compare to a working skeleton (Aria, or someone else):
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>3 pelvis 0.00023 -0.376314 0.926492
          9.3e-005 0.926492 0.376313
          -1.0 0.0 0.000248
          0.0 0.0 0.0

4 leg_left_thigh 0.926492 0.376314 0.000248
          -0.376314 0.926492 -1e-006
          -0.00023 -9.3e-005 1.0
          7.00017 1.97639 -4.01395

5 leg_left_knee 1.0 0.0 0.0
          0.0 1.0 0.0
          0.0 0.0 1.0
          17.6693 2e-006 1e-006

6 leg_left_ankle 0.610972 -0.791652 0.0
          0.791652 0.610972 0.0
          0.0 0.0 1.0
          17.6693 2e-006 1e-006

7 leg_left_toes 1.0 0.0 0.0
          0.0 1.0 0.0
          0.0 0.0 1.0
          5.14267 0.0 0.0

----------------------------------

9 leg_right_thigh 0.926492 0.376314 0.000248
          -0.376314 0.926492 -1e-006
          -0.00023 -9.3e-005 1.0
          6.99832 1.97564 4.01754

10 leg_right_knee 1.0 0.0 0.0
          0.0 1.0 0.0
          0.0 0.0 1.0
          17.6693 0.0 0.0

11 leg_right_ankle 0.610972 -0.791652 -2e-006
          0.791653 0.610972 -3e-006
          3e-006 0.0 1.0
          17.6693 4e-006 1e-006

12 leg_right_toes 1.0 0.0 0.0
          0.0 1.0 0.0
          0.0 0.0 1.0
          5.14266 -1e-006 -2e-006
</code></pre></div>If you look at  <em class="text-italics">leg_left_knee</em> for example: y and z pos are near to zero, x identical to leg_right_knee.<br>
While left/right tighs are symmetrical.<br>
But maybe it's relative positions.<br>

<blockquote class="uncited"><div>I also got another question.<br>
Seems there are 2 types of matrix in x.format files?
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>[...]
And here's matrix from SkinWeights
[code]template SkinWeights {
 &lt;6f0d123b-bad2-4167-a0d0-80224f25fabb&gt;
 STRING transformNodeName;
 DWORD nWeights;
 array DWORD vertexIndices[nWeights];
 array FLOAT weights[nWeights];
 Matrix4x4 matrixOffset
}</code></pre></div>

If Frame matrix are used to create bone,what this SkinWeights matrix are used for?</div></blockquote>I wasn't aware that there's a matrix for SkinWeights. So I don't know what it's good for.<br>
<br>

<blockquote class="uncited"><div>Here's my new script,it can read bone data,weights data and bones' hierarchy now</div></blockquote>
Thanks! <img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile">  I'll see whether I can use it to get a proper skeleton.<br>
<br>
(but seems you know more than me... <img class="smilies" src="./images/smilies/%5Bcolon%5DD.gif" width="15" height="15" alt=":D" title="Very Happy"> )</div>

			
			
									
						<div id='list_thanks104736'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a> for the post: </dt>
			<dd><span title="Mon Mar 30, 2015 5:39 pm"><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput104736'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig104736" class="signature">Tuts: a) Bigchillghost, <a href="https://forum.xentax.com/viewtopic.php?f=29&amp;t=17889" class="postlink">viewtopic.php?f=29&amp;t=17889</a><br>
b) Extracting simple models: <a href="http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894" class="postlink">http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894</a><br>
"Quoting the whole thing. Would u ever stop this nonsense?"</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104739" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile104739">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=36087.html" class="username">howfie</a>							</dt>

						<dd class="profile-rank">double-veteran<br /><img src="./images/ranks/vip-1.png" alt="double-veteran" title="double-veteran" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=36087&amp;sr=posts">929</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Jul 08, 2011 12:06 pm</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Torrance, CA</dd>
							    <dd class="profile-posts" data-user-give-id="36087"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/36087/true">10 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="36087"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/36087/false">274 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact howfie">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact howfie</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104739" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104739">

					<h3 >
						<a href="./viewtopic.php?p=104739#p104739">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104739/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104739" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104739' href="./viewtopic.php?f=29&amp;p=104739&amp;thanks=104739&amp;to_id=36087&amp;from_id=123876" title="Say Thanks to the author of the post: howfie"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104739#p104739" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=36087.html" class="username">howfie</a></strong> &raquo; </span><time datetime="2015-03-30T12:39:17+00:00">Mon Mar 30, 2015 1:39 pm</time>
			</p>
			
			
			
			<div class="content">zaramot's maxweight variable is just the sum of the weight values. if it is not zero, he appends the bone ID/weight pairs. it's not really something that needs to be done but there's nothing wrong with doing it. it's just his way of ignoring unweighted vertices. if a mesh's input layout has blendweights and blendindices though, it's pretty rare to see this sum to be 0.</div>

			
			
									
						<div id='list_thanks104739'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="./memberlist.php?mode=viewprofile&u=36087.html" class="username">howfie</a> for the post: </dt>
			<dd><span title="Mon Mar 30, 2015 5:39 pm"><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput104739'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104740" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile104740">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=41194_1430129462.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a>							</dt>

						<dd class="profile-rank">MEGAVETERAN<br /><img src="./images/ranks/vip-2.png" alt="MEGAVETERAN" title="MEGAVETERAN" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=41194&amp;sr=posts">4291</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Apr 20, 2012 9:24 am</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Nexus, searching for Jim Kirk</dd>
							    <dd class="profile-posts" data-user-give-id="41194"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/true">1151 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="41194"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/false">2244 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact shakotay2">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact shakotay2</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104740" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104740">

					<h3 >
						<a href="./viewtopic.php?p=104740#p104740">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104740/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104740" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104740' href="./viewtopic.php?f=29&amp;p=104740&amp;thanks=104740&amp;to_id=41194&amp;from_id=123876" title="Say Thanks to the author of the post: shakotay2"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104740#p104740" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></strong> &raquo; </span><time datetime="2015-03-30T13:20:10+00:00">Mon Mar 30, 2015 2:20 pm</time>
			</p>
			
			
			
			<div class="content">hi, howfie <img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"> <br>
<br>
@zdsmdbh: seems I have to read here:<br>
<a href="http://cboard.cprogramming.com/game-programming/103982-x-file-format.html" class="postlink">http://cboard.cprogramming.com/game-pro ... ormat.html</a><br>
and about "Homogeneous Coordinates".<br>
<br>
Maybe the link is of interest for you, too?
<blockquote><div><cite>VirtualAce wrote:</cite>" I would recommend looking in the SDK concerning the .x file format. Each type of matrix has a code which tells you what type of matrix it is and what type of transformation will be used."</div></blockquote>

well, seems I forget too may things I used to know:<br>
"Each bone transform needs to be combined with it's parent all the way up the hierarchy chain."</div>

			
			
									
						<div id='list_thanks104740'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a> for the post: </dt>
			<dd><span title="Mon Mar 30, 2015 5:40 pm"><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput104740'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig104740" class="signature">Tuts: a) Bigchillghost, <a href="https://forum.xentax.com/viewtopic.php?f=29&amp;t=17889" class="postlink">viewtopic.php?f=29&amp;t=17889</a><br>
b) Extracting simple models: <a href="http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894" class="postlink">http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894</a><br>
"Quoting the whole thing. Would u ever stop this nonsense?"</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104743" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile104743">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44803&amp;sr=posts">19</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Wed Nov 13, 2013 3:03 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44803"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/true">43 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44803"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/false">3 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact zdsmdbh">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact zdsmdbh</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104743" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104743">

					<h3 >
						<a href="./viewtopic.php?p=104743#p104743">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104743/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104743" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104743' href="./viewtopic.php?f=29&amp;p=104743&amp;thanks=104743&amp;to_id=44803&amp;from_id=123876" title="Say Thanks to the author of the post: zdsmdbh"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104743#p104743" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></strong> &raquo; </span><time datetime="2015-03-30T16:39:28+00:00">Mon Mar 30, 2015 5:39 pm</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>shakotay2 wrote:</cite>
"Each bone transform needs to be combined with it's parent all the way up the hierarchy chain."</div></blockquote>
What that mean?<br>
<img src="http://i.imgur.com/EI66uJV.jpg" class="postimage" alt="Image"><br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$leg_left_toes.transform *= $leg_left_ankle.transform
$leg_left_ankle.transform *= $leg_left_knee.transform
$leg_left_knee.transform *= $leg_left_thigh.transform</code></pre></div>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>for b in geometry where classOf b == BoneGeometry do
(
	if b.parent != undefined do
	(
		b.transform *= b.parent.transform
	)
)</code></pre></div>
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>$leg_left_toes.transform *= $leg_left_ankle.transform
$leg_left_toes.transform *= $leg_left_knee.transform
$leg_left_toes.transform *= $leg_left_thigh.transform

$leg_left_ankle.transform *= $leg_left_knee.transform
$leg_left_ankle.transform *= $leg_left_thigh.transform

$leg_left_knee.transform *= $leg_left_thigh.transform</code></pre></div>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>for b in geometry where classOf b == BoneGeometry do
(
	prt = b.parent
	while (prt != undefined) do
	(
		b.transform *= prt.transform
		prt = prt.parent
	)
)</code></pre></div>

Guess what I am doing are wrong<br>
<img src="http://i.imgur.com/iFBn8YD.jpg" class="postimage" alt="Image"></div>

			
			
													<div class="notice">
					Last edited by <a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a> on Wed Apr 01, 2015 6:30 am, edited 1 time in total.
									</div>
			
						<div id='list_thanks104743'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a> for the post: </dt>
			<dd><span title="Mon Mar 30, 2015 8:47 pm"><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput104743'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104750" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile104750">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=41194_1430129462.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a>							</dt>

						<dd class="profile-rank">MEGAVETERAN<br /><img src="./images/ranks/vip-2.png" alt="MEGAVETERAN" title="MEGAVETERAN" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=41194&amp;sr=posts">4291</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Apr 20, 2012 9:24 am</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Nexus, searching for Jim Kirk</dd>
							    <dd class="profile-posts" data-user-give-id="41194"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/true">1151 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="41194"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/false">2244 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact shakotay2">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact shakotay2</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104750" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104750">

					<h3 >
						<a href="./viewtopic.php?p=104750#p104750">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104750/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104750" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104750' href="./viewtopic.php?f=29&amp;p=104750&amp;thanks=104750&amp;to_id=41194&amp;from_id=123876" title="Say Thanks to the author of the post: shakotay2"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104750#p104750" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></strong> &raquo; </span><time datetime="2015-03-30T19:45:31+00:00">Mon Mar 30, 2015 8:45 pm</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>zdsmdbh wrote:</cite><div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>for b in geometry where classOf b == BoneGeometry do
(
	prt = b.parent
	while (prt != undefined) do
	(
		b.transform *= prt.transform
		prt = prt.parent
	)
)</code></pre></div></div></blockquote>well, I really would like <strong class="text-strong">to know how you know</strong> how to code that! <img class="smilies" src="./images/smilies/%5Bcolon%5DD.gif" width="15" height="15" alt=":D" title="Very Happy"> <br>
<br>
From the log it looks to me as if this were the right way:<br>
$Bone:leg_left_thigh @ [7.000163,-4.013950,45.007866] $Bone:pelvis @ [-0.000007,0.000004,46.984253]<br>
$Bone:leg_left_thigh @ [-45.006649,4.986253,53.337406] $Bone:root_hips @ [0.000005,46.984253,-0.000011]<br>
$Bone:leg_left_thigh @ [-45.006653,-6.353142,4.986240] $Bone:root_ground @ [0.000000,0.000000,0.000000]<br>
<br>
$Bone:leg_left_knee @ [16.382095,-46.980209,-6.649185] $Bone:leg_left_thigh @ [4.986240,-45.006653,-6.353142]<br>
$Bone:leg_left_knee @ [32.938225,-82.361061,-24.874954] $Bone:pelvis @ [-0.000007,0.000004,46.984253]<br>
$Bone:leg_left_knee @ [24.874878,-0.482716,135.686249] $Bone:root_hips @ [0.000005,46.984253,-0.000011]<br>
$Bone:leg_left_knee @ [24.874861,-88.701973,-0.482727] $Bone:root_ground @ [0.000000,0.000000,0.000000]<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code> 1. root_ground
     2. root_hips
	 3. pelvis
	     4. leg_left_thigh
		 5. leg_left_knee
		     6. leg_left_ankle
			 7. leg_left_toes
	     	 8. leg_left_knee_adj</code></pre></div>
I don't have a clue what is missing. The <em class="text-italics">leg_left_knee</em> matrix is multiplied with leg_left_thigh, then pelvis, then root_hips and at last with root_ground;<br>
as it should be.<br>
<br>
Reduced it to 15 bones or so:
<div class="inline-attachment">
			
		
				<dl class="file">
			<dt class="attach-image"><img src="./download/file.php?id=8911" class="postimage" alt="GuanYinPing_bones.JPG" onclick="viewableArea(this);" /></dt>
						<dd>GuanYinPing_bones.JPG (25.54 KiB) Viewed 343 times</dd>
		</dl>
		
		
			</div>

(tried "inverse" transform then but at no avail.)</div>

			
			
									
						<div id='list_thanks104750'>
</div>
<div id='div_post_reput104750'>
</div>

							<div id="sig104750" class="signature">Tuts: a) Bigchillghost, <a href="https://forum.xentax.com/viewtopic.php?f=29&amp;t=17889" class="postlink">viewtopic.php?f=29&amp;t=17889</a><br>
b) Extracting simple models: <a href="http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894" class="postlink">http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894</a><br>
"Quoting the whole thing. Would u ever stop this nonsense?"</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104764" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile104764">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44803&amp;sr=posts">19</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Wed Nov 13, 2013 3:03 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44803"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/true">43 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44803"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/false">3 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact zdsmdbh">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact zdsmdbh</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104764" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104764">

					<h3 >
						<a href="./viewtopic.php?p=104764#p104764">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104764/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104764" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104764' href="./viewtopic.php?f=29&amp;p=104764&amp;thanks=104764&amp;to_id=44803&amp;from_id=123876" title="Say Thanks to the author of the post: zdsmdbh"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104764#p104764" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></strong> &raquo; </span><time datetime="2015-03-31T12:37:34+00:00">Tue Mar 31, 2015 1:37 pm</time>
			</p>
			
			
			
			<div class="content">Here's original model,maybe it helps(.max 2012 and .fbx)<br>
<a href="http://www.mediafire.com/download/tn503m921rw90z5/Original+Model%28.max+and+.fbx%29.rar" class="postlink">http://www.mediafire.com/download/tn503 ... fbx%29.rar</a><br>

<blockquote><div><cite>shakotay2 wrote:</cite>well, I really would like <strong class="text-strong">to know how you know</strong> how to code that! <img class="smilies" src="./images/smilies/%5Bcolon%5DD.gif" width="15" height="15" alt=":D" title="Very Happy"> </div></blockquote>
Just saw some posts in forum.
<blockquote><div><cite>Seyren wrote:</cite>If the result looks weird try adding this:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>newBone.transform *= newBone.parent.transform
</code></pre></div></div></blockquote>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>for b in geometry where classOf b == BoneGeometry do         --If object is a bone
(
	prt = b.parent
	while (prt != undefined) do                                               --if object have parent ,multiply object.transform by parent.transform
	(                                                                         --if object have grandpa,multiply object.transform by grandpa.transform
		b.transform *= prt.transform                                           --if object have great grandpa.............
		prt = prt.parent                                                       --and so on,until great great great …………grandpa have no parent
	)
)</code></pre></div></div>

			
			
													<div class="notice">
					Last edited by <a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a> on Wed Apr 01, 2015 2:52 pm, edited 1 time in total.
									</div>
			
						<div id='list_thanks104764'>
</div>
<div id='div_post_reput104764'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104794" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile104794">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=41194_1430129462.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a>							</dt>

						<dd class="profile-rank">MEGAVETERAN<br /><img src="./images/ranks/vip-2.png" alt="MEGAVETERAN" title="MEGAVETERAN" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=41194&amp;sr=posts">4291</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Apr 20, 2012 9:24 am</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Nexus, searching for Jim Kirk</dd>
							    <dd class="profile-posts" data-user-give-id="41194"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/true">1151 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="41194"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/false">2244 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact shakotay2">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact shakotay2</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104794" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104794">

					<h3 >
						<a href="./viewtopic.php?p=104794#p104794">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104794/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104794" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104794' href="./viewtopic.php?f=29&amp;p=104794&amp;thanks=104794&amp;to_id=41194&amp;from_id=123876" title="Say Thanks to the author of the post: shakotay2"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104794#p104794" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></strong> &raquo; </span><time datetime="2015-04-01T11:23:34+00:00">Wed Apr 01, 2015 12:23 pm</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>zdsmdbh wrote:</cite>Here's original model,maybe it helps(.max 2012 and .fbx)</div></blockquote>Thanks!<br>
I've made a comparison between<br>
GuanYinPing, transforms from FBX scene<br>
<br>
leg left thigh<br>
(matrix3 [0,0,-0.393701] [-0.393701,0,0] [0,0.393701,0] [1.581,-0.316203,15.6519])<br>
left leg knee<br>
(matrix3 [0,0,-0.393701] [-0.393701,0,0] [0,0.393701,0] [<strong class="text-strong">1.581,-0.316203,8.69552</strong>])<br>
left leg ankle<br>
(matrix3 [0,-0.311674,-0.24054] [-0.393701,0,0] [0,0.24054,-0.311674] [1.581,-0.316202,1.73911])<br>
left leg toes<br>
(matrix3 [0,-0.311674,-0.24054] [-0.393701,0,0] [0,0.24054,-0.311674] [<strong class="text-strong">1.581,-1.91904,0.50209</strong>])<br>
<br>
the transforms in the GuanYinPing.x file <br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>(matrix3 [0.926492,0.376314,0.000247926] [-0.376314,0.926492,0] [-0.00022994,0,1] [7.00017,1.97639,-4.01395])

(matrix3 [1,0,0] 			 [0,1,0] 		[0,0,1] 	                                          [17.6693,0,0])

(matrix3 [0.610972,-0.791652,0] 	 [0.791652,0.610972,0]  [0,0,1] 	                      [17.6693,0,0])

(matrix3 [1,0,0] 			 [0,1,0] 		[0,0,1] 	                                          [5.14267,0,0])</code></pre></div>

and multiplied with the parenting matrices:<br>
<br>
(matrix3 [0.858388,0.376527,-0.348422] [-0.348882,0.926405,0.141611] [0.3761,-1.78814e-007,0.926578] [4.98624,-45.0067,-6.35314])<br>
<br>
(matrix3 [0.736817,0.671645,0.0774161] [0.0251844,-0.141692,0.98959] [0.675621,-0.727197,-0.121317] [<strong class="text-strong">-0.482723,24.8749,-88.702</strong>])<br>
<br>
(matrix3 [0.0855027,-0.757195,0.647568] [0.983194,-0.0410912,-0.177864] [0.161287,0.651893,0.740958] [-85.0968,22.71,47.0646])<br>
<br>
(matrix3 [0.0295085,0.726544,-0.686482] [-0.05361,0.686942,0.724727] [0.998121,0.0154186,0.0592207] [<strong class="text-strong">-33.5888,-23.4079,-88.1313</strong>])<br>
<br>
So this is the correct position of left knee and toes:<br>
 [1.581,-0.316203,8.69552] and  [1.581,-1.91904,0.50209] where the "low leg to foot ratio": 8.2/1.6= 5.125 is above 3.0 what I would have expected but maybe she has small feet and long legs?<br>
<br>
While [-0.482723,24.8749,-88.702] and [-33.5888,-23.4079,-88.1313] show me that there's a greater problem than a missing scaling factor.<br>

<blockquote class="uncited"><div>Just saw some posts in forum.</div></blockquote>well, Seyren. <img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"> <br>
Sadly he's not too often in this forum...<br>
<br>
edit: well, I've made great progress with the parenting. I made an x file from Adria (she's only 46 bones), changed your script<br>
a little bit and bang:
<div class="inline-attachment">
			
		
				<dl class="file">
			<dt class="attach-image"><img src="./download/file.php?id=8918" class="postimage" alt="Adria_x_bones_.JPG" onclick="viewableArea(this);" /></dt>
						<dd>Adria_x_bones_.JPG (120.56 KiB) Viewed 307 times</dd>
		</dl>
		
		
			</div>
Looks pretty normal. But I've spoiled the bones hierarchy somehow in a very strange way...<br>
<br>
(I'll send you the zipped max file, the script and the x file.)<br>
<br>
well, a small fault only: replace some '<strong class="text-strong">6</strong>' in the BP_IDs array by '<strong class="text-strong">7</strong>'<br>
That's the changes:<br>
7, 7, 38, 39, 40,<br>
7, 42, 43, 44, 2)<br>
<br>
Now I'll go for the skinning.</div>

			
			
									
						<div id='list_thanks104794'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a> for the post: </dt>
			<dd><span title="Wed Apr 01, 2015 2:55 pm"><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput104794'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig104794" class="signature">Tuts: a) Bigchillghost, <a href="https://forum.xentax.com/viewtopic.php?f=29&amp;t=17889" class="postlink">viewtopic.php?f=29&amp;t=17889</a><br>
b) Extracting simple models: <a href="http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894" class="postlink">http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894</a><br>
"Quoting the whole thing. Would u ever stop this nonsense?"</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104813" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile104813">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44803&amp;sr=posts">19</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Wed Nov 13, 2013 3:03 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44803"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/true">43 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44803"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/false">3 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact zdsmdbh">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact zdsmdbh</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104813" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104813">

					<h3 >
						<a href="./viewtopic.php?p=104813#p104813">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104813/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104813" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104813' href="./viewtopic.php?f=29&amp;p=104813&amp;thanks=104813&amp;to_id=44803&amp;from_id=123876" title="Say Thanks to the author of the post: zdsmdbh"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104813#p104813" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></strong> &raquo; </span><time datetime="2015-04-02T09:00:31+00:00">Thu Apr 02, 2015 10:00 am</time>
			</p>
			
			
			
			<div class="content">Thanks to shakotay2.<br>
Now I got bones.<br>
<img src="http://i.imgur.com/PzNbzi4.jpg" class="postimage" alt="Image"><br>
But still got some problems to set weights,any ideas?
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>if (heapSize &lt; 200000) then
        heapSize = 2000000 -- allow ~ 40 MB instead of just 7.5 MB. Prevents "Runtime Error: Out of scripter memory"

fname = getOpenFileName \
caption:"Select a X format file" \
types:"DirectX(.x)|*.x" \
historyCategory:"DirectXObjectPresets"
f = openfile fname

struct BoneStruct
(
	bone_name,matrix,parent
)
BS = BoneStruct bone_name:#() matrix:#() parent:#()

Vert_array = #()
Face_array = #()
Normal_array = #()
UV_array = #()
vertexIndice_array = #()
weights_array = #()
bone_stack = #()

RDL= readline f
texture_name = ""
BoneName = ""

--Read texture name
while (RDL != " TextureFilename {" and (findString RDL "Frame" == undefined or findString RDL "template" != undefined or findString RDL "Matrix" != undefined)) do (RDL = readline f)
if RDL == " TextureFilename {" do
(
	texture_name = readvalue f
	readline f
	readline f
	readline f
)

--Collect Bones Info
brackets_count = 0
do
(
	RDL = readline f
	if (findString RDL "{" != undefined) do (brackets_count += 1)
	if (findString RDL "}" != undefined) do (brackets_count -= 1)
	--Collect bone name
	if (findString RDL "Frame" != undefined and findString RDL "TransformMatrix" == undefined and RDL != "    Frame Adriaout {") do
	(
		start = (findString RDL "Frame")+6
		len = RDL.count-start-1
		BoneName = substring RDL start len
		append BS.bone_name BoneName
		append bone_stack BoneName
	)
	--Read bone data and collect bones matrix
	if (findString RDL "FrameTransformMatrix" != undefined) do
    (
		
		c11 = readvalue f; c12 = readvalue f; c13 = readvalue f; c14 = readvalue f	
		c21 = readvalue f; c22 = readvalue f; c23 = readvalue f; c24 = readvalue f	
		c31 = readvalue f; c32 = readvalue f; c33 = readvalue f; c34 = readvalue f
		c41 = readvalue f; c42 = readvalue f; c43 = readvalue f; c44 = readvalue f

		tfm = matrix3 [c11,c12,c13] [c21,c22,c23] [c31,c32,c33] [c41,c42,c43]
		append BS.matrix tfm

		readline f
		readline f
		brackets_count -= 1
	)
	--Collect bones' hierarchy
	if (findString RDL "}" != undefined and (bone_stack.count &gt; 1)) do
	(
		BS.parent[findItem BS.bone_name bone_stack[bone_stack.count]] = bone_stack[bone_stack.count-1]
		deleteItem bone_stack bone_stack.count
	)
)while(brackets_count &gt; 0)	

--Create Bones
for i=1 to BS.bone_name.count do
(
    newBone = bonesys.createbone   \
                    BS.matrix[i].row4   \
                    (BS.matrix[i].row4 + 0.01 * (normalize BS.matrix[i].row1)) \
                    (normalize BS.matrix[i].row3)
			   newBone.name = BS.bone_name[i]
               newBone.width  = 0.01
               newBone.height = 0.01
               newBone.transform = BS.matrix[i]
               newBone.setBoneEnable false 0
               newBone.wirecolor = white
               newbone.showlinks = true
               newBone.pos.controller      = TCB_position ()
               newBone.rotation.controller = TCB_rotation ()

	if (BS.parent[i] != undefined) do
	(
		newBone.parent = getnodebyname BS.parent[i]
		newBone.transform *= (getnodebyname BS.parent[i]).transform
	)
)

--Flip bones
rootRT = dummy name:"Main_Root" boxsize:[.1,.1,.1]
for b in objects where (classOf b == BoneGeometry and b.parent==undefined) do b.parent = rootRT
rootRT.transform = (matrix3 [-1,0,0] [0,0,1] [0,1,0] [0,0,0])
delete rootRT

--Read mesh name
while (findString RDL "Frame" == undefined) do (RDL = readline f)
start = (findString RDL "Frame")+6
len = RDL.count-start-1
MeshName = substring RDL start len

while (RDL != " Mesh  {") do (RDL = readline f)
mesh_count = readvalue f
for i=1 to mesh_count do
(
	x = readvalue f
	y = readvalue f
	z = readvalue f
	append Vert_array [x,z,y]
	readline f
)

face_count = readvalue f
for i=1 to face_count do
(
	readvalue f
	p1 = readvalue f
	p2 = readvalue f
	p3 = readvalue f
	append Face_array [p1+1,p2+1,p3+1]
	readline f
)

while (RDL != "  MeshNormals  {") do (RDL = readline f)
normal_count = readvalue f
for i=1 to normal_count do
(
	nx = readvalue f
	ny = readvalue f
	nz = readvalue f
	append Normal_array [nx,ny,nz]
	readline f
)

while (RDL != "  MeshTextureCoords  {") do (RDL = readline f)
UV_count = readvalue f
for i=1 to UV_count do
(
	u = readvalue f
	v = readvalue f
	append UV_array [u,1-v,0]
	readline f
)

--Build mesh
msh = mesh vertices:Vert_array faces:Face_array
msh.numTVerts = UV_array.count
buildTVFaces msh
for j = 1 to UV_array.count   do setTVert  msh j UV_array[j]
for j = 1 to face_array.count do setTVFace msh j face_array[j]
	
msh.name = MeshName

max modify mode
select msh
skinMod = skin ()
addModifier msh skinMod
modPanel.setCurrentObject skinMod

--Read weights
while (eof f == false) do
(
	RDL = readline f
	if (RDL == "  SkinWeights {") do
	(
		BoneName = readvalue f
		skinOps.addBone skinMod (getnodebyname BoneName) 1
		weights_number = readvalue f
		for i=1 to weights_number do
		(
			vertexIndice = readvalue f
			append vertexIndice_array vertexIndice
		)
		for i=1 to weights_number do
		(
			weights = readvalue f
			append weights_array weights
		)
		c11 = readvalue f; c12 = readvalue f; c13 = readvalue f; c14 = readvalue f	
		c21 = readvalue f; c22 = readvalue f; c23 = readvalue f; c24 = readvalue f	
		c31 = readvalue f; c32 = readvalue f; c33 = readvalue f; c34 = readvalue f
		c41 = readvalue f; c42 = readvalue f; c43 = readvalue f; c44 = readvalue f
	)
)

close f

--Assign material
texture_path = sysInfo.currentdir
if texture_path[texture_path.count] != "\\" do texture_path += "\\"
texture_path += texture_name

new_mat = StandardMaterial()
new_mat.diffuseMap = Bitmaptex()
new_mat.diffuseMap.filename = texture_path
new_mat.showInViewport = True
msh.Material = new_mat</code></pre></div></div>

			
			
									
						<div id='list_thanks104813'>
</div>
<div id='div_post_reput104813'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104817" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile104817">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=41194_1430129462.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a>							</dt>

						<dd class="profile-rank">MEGAVETERAN<br /><img src="./images/ranks/vip-2.png" alt="MEGAVETERAN" title="MEGAVETERAN" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=41194&amp;sr=posts">4291</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Apr 20, 2012 9:24 am</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Nexus, searching for Jim Kirk</dd>
							    <dd class="profile-posts" data-user-give-id="41194"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/true">1151 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="41194"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/false">2244 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact shakotay2">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact shakotay2</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104817" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104817">

					<h3 >
						<a href="./viewtopic.php?p=104817#p104817">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104817/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104817" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104817' href="./viewtopic.php?f=29&amp;p=104817&amp;thanks=104817&amp;to_id=41194&amp;from_id=123876" title="Say Thanks to the author of the post: shakotay2"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104817#p104817" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></strong> &raquo; </span><time datetime="2015-04-02T10:49:29+00:00">Thu Apr 02, 2015 11:49 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>zdsmdbh wrote:</cite>Thanks to shakotay2.<br>
Now I got bones.</div></blockquote> <img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"> <br>

<blockquote class="uncited"><div>But still got some problems to set weights,any ideas?</div></blockquote>I applied the weights per bone. Then cleared  vertexIndices_array and 	weights_array for the next bone.<br>
But maxscript doesn't "understand" me (and vice versa <img class="smilies" src="./images/smilies/%5Bcolon%5DD.gif" width="15" height="15" alt=":D" title="Very Happy"> ):
<div class="inline-attachment">
			
		
				<dl class="file">
			<dt class="attach-image"><img src="./download/file.php?id=8925" class="postimage" alt="GuanYinPing_skin.JPG" onclick="viewableArea(this);" /></dt>
						<dd>GuanYinPing_skin.JPG (46.65 KiB) Viewed 269 times</dd>
		</dl>
		
		
			</div>

Some rotations work, though.<br>
Normally one would loop through vertices - maybe that's the fault.<br>
At this moment max' weights table's coming into my mind -<br>
maybe it reveals something of interest...<br>
hmm, why the weights are 1.0 all??<br>
upps, <em class="text-italics">skinOps.getNumberVertices skinMod</em> is zero, <em class="text-italics">skinOps.ReplaceVertexWeights</em> is never executed...<br>
<br>
edit: there's only one thing I know for sure:<br>
you're running mad with <em class="text-italics">skinOps</em> if you don't check these for none-zero:<br>
format "<strong class="text-strong">vCnt</strong> skinMod %\n" (skinOps.getNumberVertices skinMod)	   <br>
<strong class="text-strong">bones_count</strong> = skinops.getnumberbones skinMod</div>

			
			
									
						<div id='list_thanks104817'>
</div>
<div id='div_post_reput104817'>
</div>

							<div id="sig104817" class="signature">Tuts: a) Bigchillghost, <a href="https://forum.xentax.com/viewtopic.php?f=29&amp;t=17889" class="postlink">viewtopic.php?f=29&amp;t=17889</a><br>
b) Extracting simple models: <a href="http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894" class="postlink">http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894</a><br>
"Quoting the whole thing. Would u ever stop this nonsense?"</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104843" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile104843">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44803&amp;sr=posts">19</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Wed Nov 13, 2013 3:03 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44803"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/true">43 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44803"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/false">3 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact zdsmdbh">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact zdsmdbh</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104843" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104843">

					<h3 >
						<a href="./viewtopic.php?p=104843#p104843">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104843/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104843" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104843' href="./viewtopic.php?f=29&amp;p=104843&amp;thanks=104843&amp;to_id=44803&amp;from_id=123876" title="Say Thanks to the author of the post: zdsmdbh"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104843#p104843" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></strong> &raquo; </span><time datetime="2015-04-03T05:43:03+00:00">Fri Apr 03, 2015 6:43 am</time>
			</p>
			
			
			
			<div class="content">OK,got weights<br>
<img src="http://i.imgur.com/mP1RGek.jpg" class="postimage" alt="Image"><br>
3ds Max 2013 and above have some ridiculous problem about get Bone ID,so I have to write a GetBoneIDbyName function,which make my script more complex and slow<br>
<br>
Sometimes max will give me an "Runtime error:Exceeded the vertex countSkin:Skin"<br>
Sometimes it works fine<br>
<br>
I don't know why this happend.<br>
Maybe you know?
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>if (heapSize &lt; 200000) then
        heapSize = 2000000 -- allow ~ 40 MB instead of just 7.5 MB. Prevents "Runtime Error: Out of scripter memory"

fname = getOpenFileName \
caption:"Select a X format file" \
types:"DirectX(.x)|*.x" \
historyCategory:"DirectXObjectPresets"
f = openfile fname

fn GetBoneIDbyName BoneName skinMod =
(
    for i=1 to skinOps.GetNumberBones skinMod do
	(
		if (skinOps.GetBoneName skinMod i 1) == BoneName do
		(
			return i
		)
	)
)

struct BoneStruct
(
	bone_name,matrix,parent
)
BS = BoneStruct bone_name:#() matrix:#() parent:#()

Vert_array = #()
Face_array = #()
Normal_array = #()
UV_array = #()
bone_stack = #()
Skin_Bones_Name = #()
Skin_Weights = #()

RDL= readline f
texture_name = ""
BoneName = ""

--Read texture name
while (RDL != " TextureFilename {" and (findString RDL "Frame" == undefined or findString RDL "template" != undefined or findString RDL "Matrix" != undefined)) do (RDL = readline f)
if RDL == " TextureFilename {" do
(
	texture_name = readvalue f
	readline f
	readline f
	readline f
)

--Collect Bones Info
brackets_count = 0
do
(
	RDL = readline f
	if (findString RDL "{" != undefined) do (brackets_count += 1)
	if (findString RDL "}" != undefined) do (brackets_count -= 1)
	--Collect bone name
	if (findString RDL "Frame" != undefined and findString RDL "TransformMatrix" == undefined) do
	(
		start = (findString RDL "Frame")+6
		len = RDL.count-start-1
		BoneName = substring RDL start len
		append BS.bone_name BoneName
		append bone_stack BoneName
	)
	--Read bone data and collect bones matrix
	if (findString RDL "FrameTransformMatrix" != undefined) do
    (
		
		c11 = readvalue f; c12 = readvalue f; c13 = readvalue f; c14 = readvalue f	
		c21 = readvalue f; c22 = readvalue f; c23 = readvalue f; c24 = readvalue f	
		c31 = readvalue f; c32 = readvalue f; c33 = readvalue f; c34 = readvalue f
		c41 = readvalue f; c42 = readvalue f; c43 = readvalue f; c44 = readvalue f

		tfm = matrix3 [c11,c12,c13] [c21,c22,c23] [c31,c32,c33] [c41,c42,c43]
		append BS.matrix tfm

		readline f
		readline f
		brackets_count -= 1
	)
	--Collect bones' hierarchy
	if (findString RDL "}" != undefined and (bone_stack.count &gt; 1)) do
	(
		BS.parent[findItem BS.bone_name bone_stack[bone_stack.count]] = bone_stack[bone_stack.count-1]
		deleteItem bone_stack bone_stack.count
	)
)while(brackets_count &gt; 0)	

--Create Bones
for i=1 to BS.bone_name.count do
(
    newBone = bonesys.createbone   \
                    BS.matrix[i].row4   \
                    (BS.matrix[i].row4 + 0.01 * (normalize BS.matrix[i].row1)) \
                    (normalize BS.matrix[i].row3)
			   newBone.name = BS.bone_name[i]
               newBone.width  = 0.01
               newBone.height = 0.01
               newBone.transform = BS.matrix[i]
               newBone.setBoneEnable false 0
               newBone.wirecolor = white
               newbone.showlinks = true
               newBone.pos.controller      = TCB_position ()
               newBone.rotation.controller = TCB_rotation ()

	if (BS.parent[i] != undefined) do
	(
		newBone.parent = getnodebyname BS.parent[i]
		newBone.transform *= newBone.parent.transform
	)
)

--Flip bones
rootRT = dummy name:"Main_Root" boxsize:[.1,.1,.1]
for b in objects where (classOf b == BoneGeometry and b.parent==undefined) do b.parent = rootRT
rootRT.transform = (matrix3 [1,0,0] [0,0,1] [0,1,0] [0,0,0])
delete rootRT

--Read mesh name
while (findString RDL "Frame" == undefined) do (RDL = readline f)
start = (findString RDL "Frame")+6
len = RDL.count-start-1
MeshName = substring RDL start len

while (RDL != " Mesh  {") do (RDL = readline f)
mesh_count = readvalue f
for i=1 to mesh_count do
(
	x = readvalue f
	y = readvalue f
	z = readvalue f
	append Vert_array [x,z,y]
	readline f
)

face_count = readvalue f
for i=1 to face_count do
(
	readvalue f
	p1 = readvalue f
	p2 = readvalue f
	p3 = readvalue f
	append Face_array [p1+1,p2+1,p3+1]
	readline f
)

while (RDL != "  MeshNormals  {") do (RDL = readline f)
normal_count = readvalue f
for i=1 to normal_count do
(
	nx = readvalue f
	ny = readvalue f
	nz = readvalue f
	append Normal_array [nx,ny,nz]
	readline f
)

while (RDL != "  MeshTextureCoords  {") do (RDL = readline f)
UV_count = readvalue f
for i=1 to UV_count do
(
	u = readvalue f
	v = readvalue f
	append UV_array [u,1-v,0]
	readline f
)

--Build mesh
msh = mesh vertices:Vert_array faces:Face_array
msh.numTVerts = UV_array.count
buildTVFaces msh
for j = 1 to UV_array.count   do setTVert  msh j UV_array[j]
for j = 1 to face_array.count do setTVFace msh j face_array[j]

msh.name = MeshName

max modify mode
select msh
skinMod = skin ()
addModifier msh skinMod
modPanel.setCurrentObject skinMod

--Collect weights data
while (eof f == false) do
(
	RDL = readline f
	if (RDL == "  SkinWeights {") do
	(
		BoneName = readvalue f
		skinOps.addBone skinMod (getnodebyname BoneName) 1
		weights_number = readvalue f
		vertexIndice_array = #()
		weights_array = #()
		for i=1 to weights_number do
		(
			vertexIndice = readvalue f
			append vertexIndice_array (vertexIndice +1)
		)
		for i=1 to weights_number do
		(
			weights = readvalue f
			append weights_array weights
		)
		for i=1 to weights_number do
		(
			if weights_array[i] &gt; 0 do
			(
				if (classof Skin_Bones_Name[vertexIndice_array[i]] != Array) do (Skin_Bones_Name[vertexIndice_array[i]] = #())
				if (classof Skin_Weights[vertexIndice_array[i]] != Array) do (Skin_Weights[vertexIndice_array[i]] = #())
					
				append Skin_Bones_Name[vertexIndice_array[i]] BoneName
				append Skin_Weights[vertexIndice_array[i]] weights_array[i]
			)
		)
		c11 = readvalue f; c12 = readvalue f; c13 = readvalue f; c14 = readvalue f	
		c21 = readvalue f; c22 = readvalue f; c23 = readvalue f; c24 = readvalue f	
		c31 = readvalue f; c32 = readvalue f; c33 = readvalue f; c34 = readvalue f
		c41 = readvalue f; c42 = readvalue f; c43 = readvalue f; c44 = readvalue f
	)
)

--Set weights
for i=1 to Skin_Weights.count do
(
	bones_ID = #()
	for j in Skin_Bones_Name[i] do
	(
		append bones_ID (GetBoneIDbyName j skinMod)
	)
	skinOps.ReplaceVertexWeights skinMod i bones_ID Skin_Weights[i]
)

close f

--Assign material
texture_path = sysInfo.currentdir
if texture_path[texture_path.count] != "\\" do texture_path += "\\"
texture_path += texture_name

new_mat = StandardMaterial()
new_mat.diffuseMap = Bitmaptex()
new_mat.diffuseMap.filename = texture_path
new_mat.showInViewport = True
msh.Material = new_mat</code></pre></div></div>

			
			
									
						<div id='list_thanks104843'>
</div>
<div id='div_post_reput104843'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104848" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile104848">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=41194_1430129462.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a>							</dt>

						<dd class="profile-rank">MEGAVETERAN<br /><img src="./images/ranks/vip-2.png" alt="MEGAVETERAN" title="MEGAVETERAN" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=41194&amp;sr=posts">4291</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Apr 20, 2012 9:24 am</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Nexus, searching for Jim Kirk</dd>
							    <dd class="profile-posts" data-user-give-id="41194"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/true">1151 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="41194"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/false">2244 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact shakotay2">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact shakotay2</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104848" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104848">

					<h3 >
						<a href="./viewtopic.php?p=104848#p104848">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104848/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104848" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104848' href="./viewtopic.php?f=29&amp;p=104848&amp;thanks=104848&amp;to_id=41194&amp;from_id=123876" title="Say Thanks to the author of the post: shakotay2"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104848#p104848" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></strong> &raquo; </span><time datetime="2015-04-03T10:58:18+00:00">Fri Apr 03, 2015 11:58 am</time>
			</p>
			
			
			
			<div class="content"><blockquote><div><cite>zdsmdbh wrote:</cite>OK,got weights</div></blockquote>great! <img class="smilies" src="./images/smilies/%5Bcolon%5D%29.gif" width="15" height="15" alt=":)" title="Smile"> 
<blockquote class="uncited"><div>3ds Max 2013 and above have some ridiculous problem about get Bone ID</div></blockquote>From what I know they introduced a "name-sorting-feature" and I don't see an option to switch it off so one might use the add "00x_" trick where x= boneID.<br>
The bones hierachy is shown flat, though. But it seems to exist. (That's either mad or I simply don't understand it... <img class="smilies" src="./images/smilies/%5Bcolon%5DD.gif" width="15" height="15" alt=":D" title="Very Happy"> )
<div class="inline-attachment">
			
		
				<dl class="file">
			<dt class="attach-image"><img src="./download/file.php?id=8933" class="postimage" alt="Max2013.jpg" onclick="viewableArea(this);" /></dt>
						<dd>Max2013.jpg (125.51 KiB) Viewed 247 times</dd>
		</dl>
		
		
			</div>
<blockquote class="uncited"><div>Sometimes max will give me an "Runtime error:Exceeded the vertex countSkin:Skin"<br>
Sometimes it works fine<br>
<br>
I don't know why this happend.<br>
Maybe you know?</div></blockquote>

You might try<br>
format "vCnt skinMod %\n" (skinOps.getNumberVertices skinMod)<br>
(see my PM)</div>

			
			
									
						<div id='list_thanks104848'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a> for the post: </dt>
			<dd><span title="Fri Apr 03, 2015 3:52 pm"><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput104848'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

							<div id="sig104848" class="signature">Tuts: a) Bigchillghost, <a href="https://forum.xentax.com/viewtopic.php?f=29&amp;t=17889" class="postlink">viewtopic.php?f=29&amp;t=17889</a><br>
b) Extracting simple models: <a href="http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894" class="postlink">http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894</a><br>
"Quoting the whole thing. Would u ever stop this nonsense?"</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p104859" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile104859">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a>							</dt>

						<dd class="profile-rank">n00b</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=44803&amp;sr=posts">19</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Wed Nov 13, 2013 3:03 am</dd>		
		
						    <dd class="profile-posts" data-user-give-id="44803"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/true">43 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="44803"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/44803/false">3 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact zdsmdbh">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact zdsmdbh</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=104859" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content104859">

					<h3 >
						<a href="./viewtopic.php?p=104859#p104859">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/104859/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=104859" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post104859' href="./viewtopic.php?f=29&amp;p=104859&amp;thanks=104859&amp;to_id=44803&amp;from_id=123876" title="Say Thanks to the author of the post: zdsmdbh"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=104859#p104859" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a></strong> &raquo; </span><time datetime="2015-04-03T13:21:25+00:00">Fri Apr 03, 2015 2:21 pm</time>
			</p>
			
			
			
			<div class="content">I just test my last maxscript in <strong class="text-strong">2009 32bit</strong>,   <strong class="text-strong">2009 64bit</strong>,   <strong class="text-strong">2012 64bit</strong>,   <strong class="text-strong">2014 64bit</strong>,   <strong class="text-strong">2015 64bit</strong><br>
It works fine in these version      (If I didn't get that "Runtime error:Exceeded the vertex countSkin:Skin")<br>
<br>
When it works fine<br>
<img src="http://i.imgur.com/HeWf6Rg.jpg" class="postimage" alt="Image"><br>
When I got "Runtime error:Exceeded the vertex countSkin:Skin"<br>
<img src="http://i.imgur.com/tMLP8ZV.jpg" class="postimage" alt="Image"><br>
Usually it happened when I close Max completely,and start Max,and run my script,then error<br>
<br>
Another problem bother me:<br>
If I delete              texture_name = ""           in line 36<br>
I won't be able to get texture_name in line 43<br>
Don't know why too.</div>

			
			
									
						<div id='list_thanks104859'>
	<div class="notice">
		<dl>
			
			<dt>These users thanked the author <a href="./memberlist.php?mode=viewprofile&u=44803.html" class="username">zdsmdbh</a> for the post: </dt>
			<dd><span title="Fri Apr 03, 2015 3:23 pm"><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></span></dd>
		</dl>
	</div>
</div>
<div id='div_post_reput104859'>
	<div class="notice">
		<dl>
			<dt class="small"><strong>Rating:</strong>&nbsp;1.72%</dt>
			<dd>
						<div style="width: 150px; height: 15px;" class="thanks_reput_image_back"><div style="height: 15px; width: 1.72%;" class="thanks_reput_image"></div></div>&nbsp;
						</dd>
		</dl>
	</div>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p106000" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile106000">
			<dt class="has-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="./memberlist.php?mode=viewprofile&u=12871.html" class="username">Slozhny</a>							</dt>

						<dd class="profile-rank">beginner</dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=12871&amp;sr=posts">26</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Sun Aug 30, 2009 11:03 pm</dd>		
		
						    <dd class="profile-posts" data-user-give-id="12871"></dd>
    <dd class="profile-posts" data-user-receive-id="12871"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/12871/false">2 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact Slozhny">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact Slozhny</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=106000" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content106000">

					<h3 >
						<a href="./viewtopic.php?p=106000#p106000">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/106000/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=106000" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post106000' href="./viewtopic.php?f=29&amp;p=106000&amp;thanks=106000&amp;to_id=12871&amp;from_id=123876" title="Say Thanks to the author of the post: Slozhny"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=106000#p106000" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=12871.html" class="username">Slozhny</a></strong> &raquo; </span><time datetime="2015-05-08T17:42:30+00:00">Fri May 08, 2015 6:42 pm</time>
			</p>
			
			
			
			<div class="content">Hi Shakotay. Can you help me with highpoly model. I've broke my head with hexeditor (((<br>
try to start from "3ca" but something wrong ((<br>
<a href="https://www.dropbox.com/s/oe5ztu9gqslp15y/Cammy%20White.bin?dl=0" class="postlink">https://www.dropbox.com/s/oe5ztu9gqslp1 ... e.bin?dl=0</a><br>
File "Cammy White.bin". It's extracted from webgl model.</div>

			
			
									
						<div id='list_thanks106000'>
</div>
<div id='div_post_reput106000'>
</div>

										
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

				<div id="p106004" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile106004">
			<dt class="has-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="avatar"><img class="avatar" src="./download/file.php?avatar=41194_1430129462.jpg" width="120" height="120" alt="User avatar" /></a>														</div>
								<a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a>							</dt>

						<dd class="profile-rank">MEGAVETERAN<br /><img src="./images/ranks/vip-2.png" alt="MEGAVETERAN" title="MEGAVETERAN" /></dd>			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="./search.php?author_id=41194&amp;sr=posts">4291</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Apr 20, 2012 9:24 am</dd>		
		
											<dd class="profile-custom-field profile-phpbb_location"><strong>Location:</strong> Nexus, searching for Jim Kirk</dd>
							    <dd class="profile-posts" data-user-give-id="41194"><strong>Has&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/true">1151 times</a></dd>
    <dd class="profile-posts" data-user-receive-id="41194"><strong>Been&nbsp;thanked:</strong> <a href="/app.php/thankslist/givens/41194/false">2244 times</a></dd>

							<dd class="profile-contact">
				<strong>Contact:</strong>
				<div class="dropdown-container dropdown-left">
					<a href="#" class="dropdown-trigger" title="Contact shakotay2">
						<i class="icon fa-commenting-o fa-fw icon-lg" aria-hidden="true"></i><span class="sr-only">Contact shakotay2</span>
					</a>
					<div class="dropdown">
						<div class="pointer"><div class="pointer-inner"></div></div>
						<div class="dropdown-contents contact-icons">
																																								<div>
																	<a href="./ucp.php?i=pm&amp;mode=compose&amp;action=quotepost&amp;p=106004" title="Send private message" class="last-cell">
										<span class="contact-icon pm-icon">Send private message</span>									</a>
																	</div>
																					</div>
					</div>
				</div>
			</dd>
				
		</dl>

		<div class="postbody">
						<div id="post_content106004">

					<h3 >
						<a href="./viewtopic.php?p=106004#p106004">Re: Extracting simple models</a>
		</h3>

													<ul class="post-buttons">
																										<li>
							<a href="/app.php/post/106004/report" title="Report this post" class="button button-icon-only">
								<i class="icon fa-exclamation fa-fw" aria-hidden="true"></i><span class="sr-only">Report</span>
							</a>
						</li>
																										<li>
							<a href="./posting.php?mode=quote&amp;p=106004" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
													<li>
			<a id='lnk_thanks_post106004' href="./viewtopic.php?f=29&amp;p=106004&amp;thanks=106004&amp;to_id=41194&amp;from_id=123876" title="Say Thanks to the author of the post: shakotay2"  class="button button-icon-only">
				<i class="icon thanks-icon fa-fw" aria-hidden="true"></i><span class="sr-only">Thanks</span>
			</a>
		</li>
					</ul>
							
						<p class="author">
									<a class="unread" href="./viewtopic.php?p=106004#p106004" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="./memberlist.php?mode=viewprofile&u=41194.html" class="username">shakotay2</a></strong> &raquo; </span><time datetime="2015-05-08T20:10:39+00:00">Fri May 08, 2015 9:10 pm</time>
			</p>
			
			
			
			<div class="content">hello, this is what I get:<div class="inline-attachment">
			
		
				<dl class="file">
			<dt class="attach-image"><img src="./download/file.php?id=9181" class="postimage" alt="CammyWhite.JPG" onclick="viewableArea(this);" /></dt>
						<dd>CammyWhite.JPG (44.81 KiB) Viewed 181 times</dd>
		</dl>
		
		
			</div>

(<strong class="text-strong">Please</strong>, don't use this thread for <strong class="text-strong">webgl</strong> requests. Thx.)</div>

			
			
									
						<div id='list_thanks106004'>
</div>
<div id='div_post_reput106004'>
</div>

							<div id="sig106004" class="signature">Tuts: a) Bigchillghost, <a href="https://forum.xentax.com/viewtopic.php?f=29&amp;t=17889" class="postlink">viewtopic.php?f=29&amp;t=17889</a><br>
b) Extracting simple models: <a href="http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894" class="postlink">http://forum.xentax.com/viewtopic.php?f=29&amp;t=10894</a><br>
"Quoting the whole thing. Would u ever stop this nonsense?"</div>			
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	

	<div class="action-bar bar-bottom">
	
			<a href="./posting.php?mode=reply&amp;t=10894" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
													<li>
						<a href="./viewtopic.php?uid=123876&amp;f=29&amp;t=10894&amp;watch=topic&amp;start=45&amp;hash=3dd8b950" class="watch-topic-link" title="Subscribe topic" data-ajax="toggle_link" data-toggle-class="icon fa-square-o fa-fw" data-toggle-text="Unsubscribe topic" data-toggle-url="./viewtopic.php?uid=123876&amp;f=29&amp;t=10894&amp;unwatch=topic&amp;start=45&amp;hash=3dd8b950" data-update-all=".watch-topic-link">
							<i class="icon fa-check-square-o fa-fw" aria-hidden="true"></i><span>Subscribe topic</span>
						</a>
					</li>
													<li>
						<a href="./viewtopic.php?t=10894&amp;start=45&amp;bookmark=1&amp;hash=3dd8b950" class="bookmark-link" title="Bookmark topic" data-ajax="alt_text" data-alt-text="Remove from bookmarks" data-update-all=".bookmark-link">
							<i class="icon fa-bookmark-o fa-fw" aria-hidden="true"></i><span>Bookmark topic</span>
						</a>
					</li>
																<li>
					<a href="./memberlist.php?mode=email&amp;t=10894" title="Email topic">
						<i class="icon fa-envelope-o fa-fw" aria-hidden="true"></i><span>Email topic</span>
					</a>
				</li>
												<li>
					<a href="./viewtopic.php?t=10894&amp;start=45&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="./viewtopic.php?t=10894&amp;start=45">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed" />
				<input type="submit" class="button2" name="sort" value="Go" />
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			506 posts
							<ul>
	<li class="dropdown-container dropdown-button-control dropdown-page-jump page-jump">
		<a class="button button-icon-only dropdown-trigger" href="#" title="Click to jump to page…" role="button"><i class="icon fa-level-down fa-rotate-270" aria-hidden="true"></i><span class="sr-only">Page <strong>4</strong> of <strong>34</strong></span></a>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
				<li>Jump to page:</li>
				<li class="page-jump-form">
					<input type="number" name="page-number" min="1" max="999999" title="Enter the page number you wish to go to" class="inputbox tiny" data-per-page="15" data-base-url=".&#x2F;viewtopic.php&#x3F;t&#x3D;10894" data-start-name="start" />
					<input class="button2" value="Go" type="button" />
				</li>
			</ul>
		</div>
	</li>
			<li class="arrow previous"><a class="button button-icon-only" href="./viewtopic.php?t=10894&amp;start=30" rel="prev" role="button"><i class="icon fa-chevron-left fa-fw" aria-hidden="true"></i><span class="sr-only">Previous</span></a></li>
				<li><a class="button" href="./10894.html" role="button">1</a></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=15" role="button">2</a></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=30" role="button">3</a></li>
			<li class="active"><span>4</span></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=60" role="button">5</a></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=75" role="button">6</a></li>
			<li class="ellipsis" role="separator"><span>…</span></li>
				<li><a class="button" href="./viewtopic.php?t=10894&amp;start=495" role="button">34</a></li>
				<li class="arrow next"><a class="button button-icon-only" href="./viewtopic.php?t=10894&amp;start=60" rel="next" role="button"><i class="icon fa-chevron-right fa-fw" aria-hidden="true"></i><span class="sr-only">Next</span></a></li>
	</ul>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="./viewforum.php?f=29" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “Tutorials”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="../Forums/26 - XeNTaX - General Discussion.html" class="jumpbox-cat-link"> <span> General Discussion</span></a></li>
																<li><a href="./viewforum.php?f=22" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Holy Cow!</span></a></li>
																<li><a href="./viewforum.php?f=40" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game news</span></a></li>
																<li><a href="./viewforum.php?f=38" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Tech Tips</span></a></li>
																<li><a href="./viewforum.php?f=41" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Cool mods</span></a></li>
																<li><a href="./viewforum.php?f=28" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Website</span></a></li>
																<li><a href="./viewforum.php?f=24" class="jumpbox-cat-link"> <span> Game Modding</span></a></li>
																<li><a href="./viewforum.php?f=29" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="./viewforum.php?f=16" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; 3D/2D models</span></a></li>
																<li><a href="./viewforum.php?f=17" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Audio file formats</span></a></li>
																<li><a href="./viewforum.php?f=18" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Graphic file formats</span></a></li>
																<li><a href="./viewforum.php?f=36" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Video file formats</span></a></li>
																<li><a href="./viewforum.php?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Archive</span></a></li>
																<li><a href="./viewforum.php?f=21" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Compressed files and methods</span></a></li>
																<li><a href="./viewforum.php?f=13" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Code Talk</span></a></li>
																<li><a href="./viewforum.php?f=35" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game Localization</span></a></li>
																<li><a href="./viewforum.php?f=30" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Savegames</span></a></li>
																<li><a href="./viewforum.php?f=15" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Old posts</span></a></li>
																<li><a href="./viewforum.php?f=37" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Retro games</span></a></li>
																<li><a href="./viewforum.php?f=25" class="jumpbox-cat-link"> <span> MultiEx Commander</span></a></li>
																<li><a href="./viewforum.php?f=3" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; News</span></a></li>
																<li><a href="./viewforum.php?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Plugins</span></a></li>
																<li><a href="./viewforum.php?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="./viewforum.php?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Miscellaneous</span></a></li>
																<li><a href="./viewforum.php?f=31" class="jumpbox-cat-link"> <span> Tools &amp; Programs</span></a></li>
																<li><a href="./viewforum.php?f=32" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Game specific tools</span></a></li>
																<li><a href="./viewforum.php?f=33" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; General game tools</span></a></li>
											</ul>
		</div>
	</div>

	</div>


	<div class="stat-block online-list">
		<h3><a href="./viewonline.php">Who is online</a></h3>
		<p>Users browsing this forum: <a href="./memberlist.php?mode=viewprofile&u=123876.html" class="username">escape209</a> and 1 guest</p>
	</div>

			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="./index.php" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="UTC+1">UTC+01:00</span></li>
							<li class="rightside">
				<a href="./ucp.php?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
							<li class="rightside" data-last-responsive="true">
					<a href="./memberlist.php" title="View complete list of members" role="menuitem">
						<i class="icon fa-group fa-fw" aria-hidden="true"></i><span>Members</span>
					</a>
				</li>
												<li class="rightside" data-last-responsive="true">
				<a href="./memberlist.php?mode=team" role="menuitem">
					<i class="icon fa-shield fa-fw" aria-hidden="true"></i><span>The team</span>
				</a>
			</li>
							</ul>

	</div>
</div>

	<div class="copyright">
				<p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row" role="menu">
			<a class="footer-link" href="./ucp.php?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="./ucp.php?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script src="./assets/javascript/jquery-3.6.0.min.js?assets_version=11"></script>
<script src="./assets/javascript/core.js?assets_version=11"></script>


<script type="text/javascript">
(function($) {  // Avoid conflicts with other libraries

'use strict';
	
	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="./ext/phpbb/boardannouncements/styles/all/template/js/boardannouncements.js?assets_version=11"></script>
<script src="./styles/prosilver/template/forum_fn.js?assets_version=11"></script>
<script src="./styles/prosilver/template/ajax.js?assets_version=11"></script>



</body>
</html>
